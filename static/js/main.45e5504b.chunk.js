(this["webpackJsonpbatch-simulator"]=this["webpackJsonpbatch-simulator"]||[]).push([[0],{156:function(n,e,t){},165:function(n,e){},167:function(n,e){},177:function(n,e){},179:function(n,e){},206:function(n,e){},207:function(n,e){},212:function(n,e){},214:function(n,e){},221:function(n,e){},240:function(n,e){},261:function(n,e,t){"use strict";t.r(e);var r,o,i,a=t(2),c=t.n(a),l=t(56),s=t.n(l),u=(t(156),t(57)),d=t(50),b=t(27),p=t(14),m=function(n){try{var e=localStorage.getItem(n);if(null===e)return;return JSON.parse(e)}catch(t){return}},f=function(n,e){try{var t=JSON.stringify(n);localStorage.setItem(e,t)}catch(r){console.error(r)}},h="batch-simulator:compounds",j=m(h)||[],g=Object(b.b)({name:"compounds",initialState:j,reducers:{add:function(n,e){return[].concat(Object(p.a)(n),[e.payload])},update:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));if(-1===t)return n;n[t]=e.payload.compound},remove:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));return-1===t?n:[].concat(Object(p.a)(n.slice(0,t)),Object(p.a)(n.slice(t+1,n.length)))},reset:function(){return[]}}}),x=g.actions,v=x.add,O=x.update,y=x.remove,k=x.reset,w=g.reducer,C="batch-simulator:reactions",S=m(C)||[],T=Object(b.b)({name:"reactions",initialState:S,reducers:{reset:function(n){return[]},add:function(n,e){return[].concat(Object(p.a)(n),[e.payload])},update:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));if(-1===t)return n;n[t]=e.payload.reaction},remove:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));return-1===t?n:[].concat(Object(p.a)(n.slice(0,t)),Object(p.a)(n.slice(t+1,n.length)))},removeCompound:function(n,e){var t=e.payload.id;return n.forEach((function(n){n.reactants=n.reactants.filter((function(n){return n.compoundId!==t})),n.products=n.products.filter((function(n){return n.compoundId!==t})),n.keyCompound===t&&(n.keyCompound=void 0)})),n}}}),E=T.actions,I=E.reset,P=E.add,R=E.update,z=E.remove,N=E.removeCompound,V=T.reducer,M=t(58),F=t(9),B="batch-simulator:settings",U=m(B)||{reactionTime:30,deadTime:30,timeStep:.1,timeUnits:"s",volumeUnits:"L",molarUnits:"mol",massUnits:"kg",temperatureUnits:"K",isothermal:!0,initialTemperature:25},D=Object(b.b)({name:"settings",initialState:U,reducers:{save:function(n,e){return e.payload},saveField:function(n,e){return Object(F.a)(Object(F.a)({},n),{},Object(M.a)({},e.payload.field,e.payload.value))}}}),_=D.actions,A=_.save,L=_.saveField,J=D.reducer,q=Object(b.b)({name:"simulationResults",initialState:[],reducers:{save:function(n,e){return e.payload}}}),W=q.actions.save,Y=q.reducer,K=Object(b.a)({reducer:{compounds:w,reactions:V,settings:J,simulationResults:Y}}),G=t(3),H=t(4),X=Object(H.a)(r||(r=Object(G.a)(["\n  :root {\n    --color-primary-darkest: hsl(213,48%,15%);\n    --color-primary-darker: hsl(213,48%,30%);\n    --color-primary-dark: hsl(213,48%,50%);\n    --color-primary-normal: hsl(213,48%,70%);\n    --color-primary-light: hsl(213,48%,85%);\n    --color-primary-lighter: hsl(213,48%,95%);\n\n    --color-triadic-green-darker: hsl(93,40%,30%);\n    --color-triadic-green-dark: hsl(93,40%,45%);\n    --color-triadic-green-normal: hsl(93,40%,70%);\n    --color-triadic-green-light: hsl(93,40%,85%);\n    --color-triadic-green-lighter: hsl(93,40%,95%);\n\n    --color-triadic-red-darker: hsl(333,48%,30%);\n    --color-triadic-red-dark: hsl(333,48%,45%);\n    --color-triadic-red-normal: hsl(333,48%,70%);\n    --color-triadic-red-light: hsl(333,48%,85%);\n    --color-triadic-red-lighter: hsl(333,48%,95%);\n\n    --color-grey-darker: hsl(213, 20%, 15%);\n    --color-grey-dark: hsl(213, 20%, 30%);\n    --color-grey-normal: hsl(213, 20%, 45%);\n    --color-grey-light: hsl(213, 20%, 70%);\n    --color-grey-lighter: hsl(213, 20%, 85%);\n    --color-grey-lightest: hsl(213, 20%, 95%);\n  }\n  \n  body {\n    margin: 0;\n    background-color: var(--color-grey-lighter);\n    font-family: 'Mulish', sans-serif;\n\n    @media (max-width: 800px) {\n      margin-top: 0;\n    }\n  }\n\n  a, button {\n    cursor: pointer;\n  }\n\n  a, button, input {\n    transition: all 0.15s ease-in-out;\n  }\n\n  input {\n    background-color: rgba(0, 0, 0, 0.1);\n    border: none;\n    border-radius: 5px;\n    flex-grow: 1;\n    font-family: 'Mulish', sans-serif;\n    min-width: 0;\n    width: 0;\n    outline: none;\n    padding: 0.5rem 1rem;\n\n    &:hover,\n    &:focus {\n      background-color: rgba(255, 255, 255, 0.2);\n    }\n\n    &:autofill {\n      background-color: rgba(255, 255, 255, 0.2);\n    }\n\n    &:focus {\n      box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.4);\n    }\n  }\n\n  /**\n   * Remove arrows from number inputs\n   */\n  \n  /* Chrome, Safari, Edge, Opera */\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  /* Firefox */\n  input[type=number] {\n    -moz-appearance: textfield;\n  }\n\n  @keyframes slide-in {\n    from {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n\n    to {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n  }\n\n  @keyframes slide-out {\n    from {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n    \n    to {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n  }\n"]))),Q=t(8),Z=t(12),$=H.b.button(o||(o=Object(G.a)(["\n  align-items: center;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  font-size: 1.1rem;\n  justify-content: space-between;\n  padding: 5px 10px;\n  text-decoration: none;\n\n  ","\n\n  &:hover {\n    ","\n  }\n\n  /* Any additional custom styles */\n  ","\n"])),(function(n){return nn(n.color)}),(function(n){return en(n.color)}),(function(n){var e;return null!==(e=n.buttonStyle)&&void 0!==e?e:""})),nn=function(n){switch(n){case"red":return"\n        background-color: var(--color-triadic-red-dark);\n        color: var(--color-grey-lightest);\n      ";case"green":return"\n        background-color: var(--color-triadic-green-dark);\n        color: var(--color-grey-lightest);\n      ";case"grey":return"\n        background-color: var(--color-grey-dark);\n        color: var(--color-grey-lightest);\n      ";default:return"\n        background-color: var(--color-primary-dark);\n        color: var(--color-grey-lightest);\n      "}},en=function(n){switch(n){case"red":return"\n        background-color: var(--color-triadic-red-darker);\n      ";case"green":return"\n        background-color: var(--color-triadic-green-darker);\n      ";case"grey":return"\n        background-color: var(--color-grey-darker);\n      ";default:return"\n        background-color: var(--color-primary-darker);\n      "}},tn=t(7),rn=t(89),on=t(149),an=function(){return Object(d.b)()},cn=d.c,ln=function(){var n=an(),e=cn((function(n){return n.settings}));return Object(a.useEffect)((function(){f(e,B)}),[e]),{settings:e,saveSettings:function(e){n(A(e))},saveField:function(e,t){n(L({field:e,value:t}))}}},sn=t(43),un=t.n(sn),dn=t(147),bn=t(148);!function(n){n[n.Parameter=0]="Parameter",n[n.Variable=1]="Variable",n[n.Operator=2]="Operator",n[n.LeftParenthesis=3]="LeftParenthesis",n[n.RightParenthesis=4]="RightParenthesis"}(i||(i={}));var pn,mn,fn,hn,jn,gn,xn,vn,On,yn,kn,wn,Cn,Sn,Tn,En,In,Pn,Rn,zn,Nn,Vn,Mn,Fn,Bn,Un,Dn,_n,An,Ln,Jn,qn,Wn,Yn,Kn,Gn,Hn,Xn,Qn,Zn,$n={"^":"right","*":"left","/":"left","+":"left","-":"left"},ne={"^":4,"*":3,"/":3,"+":2,"-":2},ee=function(){function n(e,t){Object(dn.a)(this,n),this.type=void 0,this.value=void 0,this.type=e,this.value=t}return Object(bn.a)(n,[{key:"precedence",get:function(){return ne[this.value]||1}},{key:"associativity",get:function(){return $n[this.value]||"left"}}]),n}(),te=function(){var n=an(),e=cn((function(n){return n.reactions}));return Object(a.useEffect)((function(){f(e,C)}),[e]),{reactions:e,resetReactions:function(){n(I())},addReaction:function(){var e={id:un.a.generate(8),name:"",reactants:[],products:[],kineticModel:0,kineticConstants:{"k_\\inf":1e6,E_A:3e4},kineticEquation:[new ee(i.Parameter,"<k_\\inf>"),new ee(i.Operator,"*"),new ee(i.Parameter,"e"),new ee(i.Operator,"^"),new ee(i.LeftParenthesis,"("),new ee(i.LeftParenthesis,"("),new ee(i.Operator,"-"),new ee(i.Parameter,"<E_A>"),new ee(i.RightParenthesis,")"),new ee(i.Operator,"/"),new ee(i.LeftParenthesis,"("),new ee(i.Parameter,"<R>"),new ee(i.Operator,"*"),new ee(i.Variable,"{T}"),new ee(i.RightParenthesis,")"),new ee(i.RightParenthesis,")")]};n(P(e))},updateReaction:function(e,t){n(R({id:e,reaction:t}))},removeCompoundFromReactions:function(e){n(N({id:e}))},removeReaction:function(e){n(z({id:e}))}}},re=["blue1","pink3","yellow","skyBlue2","red2","green1","skyBlue1","orange","violet1","pink1","lime","waterGreen2","red1","blue2","green2","pink2","waterGreen1","violet2"],oe={orange:"hsl(30, 80%, 65%)",yellow:"hsl(50, 80%, 65%)",lime:"hsl(70, 80%, 65%)",green1:"hsl(90, 80%, 65%)",green2:"hsl(110, 80%, 65%)",waterGreen1:"hsl(130, 80%, 65%)",waterGreen2:"hsl(150, 80%, 65%)",skyBlue1:"hsl(170, 80%, 65%)",skyBlue2:"hsl(190, 80%, 65%)",blue1:"hsl(210, 80%, 65%)",blue2:"hsl(230, 80%, 65%)",violet1:"hsl(250, 80%, 65%)",violet2:"hsl(270, 80%, 65%)",pink1:"hsl(290, 80%, 65%)",pink2:"hsl(310, 80%, 65%)",pink3:"hsl(330, 80%, 65%)",red1:"hsl(350, 80%, 65%)",red2:"hsl(10, 80%, 65%)"},ie=function(){var n=an(),e=cn((function(n){return n.compounds})),t=te(),r=t.resetReactions,o=t.removeCompoundFromReactions;Object(a.useEffect)((function(){f(e,h)}),[e]);var i=function(){var n=re,t={};n.forEach((function(n){return t[n]=!1})),e.forEach((function(n){return t[n.color]=!0}));for(var r,o=0;o<n.length&&!r;)t[n[o]]||(r=n[o]),o++;return r||"blue1"};return{compounds:e,addCompound:function(){var e={id:un.a.generate(8),color:i(),concentration:0,molecularWeight:0,symbol:"A",name:""};n(v(e))},findCompound:function(n){return e.find((function(e){return e.id===n}))},updateCompound:function(e,t){n(O({id:e,compound:t}))},removeCompound:function(e){o(e),n(y({id:e}))},removeAllCompounds:function(){r(),n(k())}}},ae=function(){var n=an();return{simulationResults:cn((function(n){return n.simulationResults})),saveSimulationResults:function(e){n(W(e))}}},ce=function(n){for(var e=0,t=!1;e<n.length;)n[e].type===i.LeftParenthesis?t=!0:(!t||"+"!==n[e].value&&"-"!==n[e].value||(n[e].type=i.Parameter,"+"===n[e].value?n[e].value=1:n[e].value=-1,n=[].concat(Object(p.a)(n.slice(0,e+1)),[new ee(i.Operator,"*")],Object(p.a)(n.slice(e+1,n.length)))),t=!1),e++;return n},le=function(n,e){var t=se(n),r=0;return n.reactants.forEach((function(n){n.compoundId===e&&(r=-t/n.stoichiometricCoefficient)})),0!==r||n.products.forEach((function(n){n.compoundId===e&&(r=t/n.stoichiometricCoefficient)})),r},se=function(n){return n.reactants.find((function(e){return e.compoundId===n.keyCompound})).stoichiometricCoefficient},ue={e:2.7182818,R:.082,T:290},de=function(){var n=ie().compounds,e=te().reactions,t=ln().settings,r=ae().saveSimulationResults;return{simulate:function(){var o=be(e,n),i={t:0,T:t.initialTemperature};n.forEach((function(n){return i["[".concat(n.symbol,"]")]=n.concentration}));var a=fe(i,o,t);r(a)}}},be=function(n,e){var t=[];return n.forEach((function(n,r){var o={};o.kineticEquation=pe(n),o.kineticEquation=function(n){var e=ce(n),t=[],r=[],o=function(n){return n.slice(-1)[0]};return e.forEach((function(n){if(n.type===i.Parameter||n.type===i.Variable)t.push(n);else if(n.type===i.Operator){for(;o(r)&&o(r).type===i.Operator&&("left"===n.associativity&&n.precedence<=o(r).precedence||"right"===n.associativity&&n.precedence<o(r).precedence);)t.push(r.pop());r.push(n)}else if(n.type===i.LeftParenthesis)r.push(n);else if(n.type===i.RightParenthesis){for(;o(r)&&o(r).type!==i.LeftParenthesis;)t.push(r.pop());r.pop()}})),t.concat(r.reverse())}(o.kineticEquation),o.compounds=me(n,e),t.push(o)})),t},pe=function(n){var e=JSON.parse(JSON.stringify(n.kineticEquation));return e.forEach((function(t,r){if(t.type===i.Parameter){var o=t.value.replace(/<|>/g,"");n.kineticConstants[o]?t.value=n.kineticConstants[o]:t.value=ue[o]}else t.type===i.Variable&&(t.value=t.value.replace(/{|}/g,""));e[r]=new ee(t.type,t.value)})),e},me=function(n,e){var t=[];return n.reactants.forEach((function(r){var o,i=Object.assign({},{compoundId:r.compoundId,symbol:"[".concat(null===(o=e.find((function(n){return n.id===r.compoundId})))||void 0===o?void 0:o.symbol,"]"),coefficient:le(n,r.compoundId)});t.push(i)})),n.products.forEach((function(r){var o,i=Object.assign({},{compoundId:r.compoundId,symbol:"[".concat(null===(o=e.find((function(n){return n.id===r.compoundId})))||void 0===o?void 0:o.symbol,"]"),coefficient:le(n,r.compoundId)});t.push(i)})),t},fe=function(n,e,t){for(var r=[n],o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,o={next:function(){var o;return r[r.length-1].t<n?(o={done:!1},he(e,t,r),o):{done:!0}}};return o}(t.reactionTime,t.timeStep),i=o.next();!i.done;)i=o.next();return r},he=function(n,e,t){var r=JSON.parse(JSON.stringify(t[t.length-1])),o={t:0,T:r.T},i=n.map((function(n){return ge(n,r)}));Object.entries(r).forEach((function(t){var a=Object(Q.a)(t,2),c=a[0],l=a[1];if("t"!==c){var s=je(n,i,c);o[c]=xe(r[c]+s*e)}else o.t=l+e})),t.push(o)},je=function(n,e,t){var r=0;return n.forEach((function(n,o){var i,a=null===(i=n.compounds)||void 0===i?void 0:i.find((function(n){return n.symbol===t}));a&&(r+=e[o]*a.coefficient)})),r},ge=function(n,e){var t,r=[];return null===(t=n.kineticEquation)||void 0===t||t.forEach((function(n){if(n.type===i.Parameter)r.push(n.value);else if(n.type===i.Variable)r.push(e[n.value]);else{var t=r.pop(),o=r.pop();switch(n.value){case"+":r.push(o+t);break;case"-":r.push(o-t);break;case"*":r.push(o*t);break;case"/":r.push(o/t);break;case"^":r.push(Math.pow(o,t))}}})),r[0]},xe=function(n){return n<0?0:n},ve=t(1),Oe=function(){var n=de().simulate,e=ae().simulationResults,t=Object(Z.g)(),r=Object(a.useState)(!1),o=Object(Q.a)(r,2),i=o[0],c=o[1],l=function(n){t.push(n),c(!1)},s={size:25};return Object(ve.jsx)(Ce,{expanded:i,children:Object(ve.jsxs)("nav",{children:[Object(ve.jsx)("a",{href:"/",onClick:function(n){n.preventDefault(),c(!i)},children:Object(ve.jsx)(ke,{children:Object(ve.jsx)(we,{children:Object(ve.jsx)(tn.e,Object(F.a)({},s))})})}),Object(ve.jsx)(ye,{onClick:function(){return l("/compounds")},title:"Compounds",icon:Object(ve.jsx)(rn.a,Object(F.a)({},s))}),Object(ve.jsx)(ye,{onClick:function(){return l("/reactions")},title:"Reactions",icon:Object(ve.jsx)(on.a,Object(F.a)({},s))}),Object(ve.jsx)(ye,{onClick:function(){return l("/settings")},title:"Settings",icon:Object(ve.jsx)(tn.h,Object(F.a)({},s))}),e&&Object(ve.jsx)(ye,{onClick:function(){return l("/results")},title:"Results",icon:Object(ve.jsx)(rn.b,Object(F.a)({},s))}),Object(ve.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),n(),t.push("/results")},children:Object(ve.jsxs)(ke,{children:[Object(ve.jsx)(we,{children:Object(ve.jsx)(tn.f,Object(F.a)({},s))}),Object(ve.jsx)("p",{children:"Simulate"})]})})]})})},ye=function(n){var e=n.icon,t=n.onClick,r=n.title;return Object(ve.jsx)($,{onClick:t,children:Object(ve.jsxs)(ke,{children:[Object(ve.jsx)(we,{children:e}),Object(ve.jsx)("p",{children:r})]})})},ke=H.b.div(pn||(pn=Object(G.a)(["\n  padding: 0.7rem 0.5rem;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n"]))),we=H.b.div(mn||(mn=Object(G.a)(["\n  width: 25px;\n  height: 25px;\n  margin-right: 0.5rem;\n"]))),Ce=H.b.div(fn||(fn=Object(G.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 20;\n  height: 100vh;\n  max-width: ",";\n  flex-grow: 0;\n  flex-shrink: 0;\n  transition: all 0.15s linear;\n  background-color: var(--color-grey-normal);\n\n  nav {\n    margin: 1rem;\n    display: flex;\n    flex-direction: column;\n\n    a,\n    button {\n      align-items: center;\n      background-color: var(--color-grey-normal);\n      border: none;\n      border-radius: 5px;\n      color: var(--color-grey-lightest);\n      display: flex;\n      font-size: 1.2rem;\n      justify-content: space-between;\n      margin-bottom: 10px;\n      padding: 5px 10px;\n      text-decoration: none;\n\n      &:hover {\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n\n      p {\n        margin: 0;\n      }\n    }\n  }\n"])),(function(n){return n.expanded?"270px":"90px"})),Se=function(n){var e=n.children;return Object(ve.jsxs)(Te,{children:[Object(ve.jsx)(Oe,{}),Object(ve.jsx)(Ee,{id:"scroll-target",children:Object(ve.jsx)(Ie,{children:e})})]})},Te=H.b.div(hn||(hn=Object(G.a)(["\n  height: 100vh;\n"]))),Ee=H.b.div(jn||(jn=Object(G.a)(["\n  background: var(--color-grey-light);\n  flex-grow: 1;\n  height: 100vh;\n  margin-left: 90px;\n  position: relative;\n  overflow-y: scroll;\n"]))),Ie=H.b.div(gn||(gn=Object(G.a)(["\n  margin: 20px;\n"]))),Pe=H.b.h2(xn||(xn=Object(G.a)(["\n  color: var(--color-grey-lightest);\n  font-size: 20px;\n  margin-top: 0;\n  display: inline-block;\n"]))),Re=H.b.button(vn||(vn=Object(G.a)(["\n  align-items: center;\n  align-self: stretch;\n  background-color: unset;\n  border: none;\n  border-radius: 5px;\n  color: var(--color-grey-normal);\n  cursor: pointer;\n  display: flex;\n  font-size: 1.5em;\n  margin-left: 0.2rem;\n  padding: 0.5rem;\n  transition: all 0.15s ease-in-out;\n  z-index: 2;\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.3);\n    color: var(--color-grey-dark);\n  }\n"]))),ze=function(n){var e=n.compound,t=n.editCompound,r=n.removeCompound;return Object(ve.jsx)(Ne,{children:Object(ve.jsxs)(Ve,{children:[Object(ve.jsx)(Me,{color:e.color,children:e.symbol}),Object(ve.jsx)(Re,{onClick:t,children:Object(ve.jsx)(tn.c,{})}),Object(ve.jsx)(Re,{onClick:r,children:Object(ve.jsx)(tn.i,{})})]})})},Ne=H.b.li(On||(On=Object(G.a)([""]))),Ve=H.b.div(yn||(yn=Object(G.a)(["\n  margin: 5px;\n  padding: 20px;\n  position: relative;\n\n  align-items: center;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  border: 1.5px solid var(--color-grey-lightest);\n  display: flex;\n  color: var(--color-grey-lightest);\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  button {\n    padding: 0.8rem;\n  }\n"]))),Me=H.b.div(kn||(kn=Object(G.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  font-size: 1.6rem;\n  padding: 0.5rem 0.9rem;\n  margin-right: 1rem;\n"])),(function(n){return oe[n.color]})),Fe=t(62),Be=function(n){var e=n.children,t=n.closing,r=n.setClosing,o=n.handleClose,i=function(){r(!0),setTimeout((function(){o()}),250)};return Object(a.useEffect)((function(){t&&i()}),[t]),Object(ve.jsx)(Ue,{closing:t,children:Object(ve.jsxs)(De,{closing:t,children:[Object(ve.jsx)(_e,{onClick:i,closing:t,children:Object(ve.jsx)(tn.j,{})}),e]})})},Ue=H.b.div(wn||(wn=Object(G.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  background-color: var(--color-grey-light);\n\n  animation-name: dim-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  border-radius: 5px;\n  display: flex;\n\n  /* Override animation upon modal close */\n  ","\n\n  @keyframes dim-in {\n    from {\n      background-color: rgba(0, 0, 0, 0);\n    }\n\n    to {\n      background-color: rgba(0, 0, 0, 0.2);\n    }\n  }\n\n  @keyframes dim-out {\n    from {\n      background-color: rgba(0, 0, 0, 0.2);\n    }\n\n    to {\n      background-color: rgba(0, 0, 0, 0);\n    }\n  }\n"])),(function(n){return n.closing?"\n    animation-name: dim-out;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n  ":""})),De=H.b.div(Cn||(Cn=Object(G.a)(["\n  align-self: stretch;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  border-radius: 5px;\n  flex-grow: 1;\n  margin: 10px;\n  padding: 2rem;\n  padding-top: 3.5rem;\n  position: relative;\n  z-index: 3;\n\n  /* Override animation upon modal close */\n  ","\n\n  label {\n    color: var(--color-grey-dark);\n  }\n\n  input {\n    background-color: rgba(0, 0, 0, 0.1);\n    border-radius: 5px;\n    flex-grow: 1;\n    min-width: 0;\n    padding: 0.5rem 1rem;\n\n    &:hover,\n    &:focus {\n      background-color: rgba(255, 255, 255, 0.2);\n    }\n\n    &:autofill {\n      background-color: rgba(255, 255, 255, 0.2);\n    }\n\n    &:focus {\n      box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.4);\n    }\n  }\n"])),(function(n){return n.closing?"\n    animation-name: slide-out;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n  ":""})),_e=H.b.button(Sn||(Sn=Object(G.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n\n  align-items: center;\n  background-color: unset;\n  border: none;\n  border-radius: 5px;\n  display: flex;\n  ","\n  font-size: 1.3rem;\n  padding: 0.5rem;\n  margin-bottom: 1rem;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"])),(function(n){return n.closing?"disabled: true;":""})),Ae=H.b.div(Tn||(Tn=Object(G.a)(["\n  position: absolute;\n  ","\n\n  background-color: var(--color-triadic-red-darker);\n  border-radius: 5px;\n  box-shadow: 0px 0px 4px var(--color-triadic-red-darker);\n  color: white;\n  padding: 0.2rem 0.5rem;\n  pointer-events: none;\n  opacity: 0;\n  transform: translateY(105%);\n  z-index: 4;\n"])),(function(n){return n.big?"\n    bottom: 0.9rem;\n    right: 1rem;\n  ":"\n    bottom: 0.4rem;\n    right: 0.5rem;\n  "})),Le=function(n){var e=n.big,t=n.children;return Object(ve.jsx)(Ae,{big:e,className:"error",children:t})},Je=H.b.input(En||(En=Object(G.a)(["\n  ","\n"])),(function(n){return n.errors?"\n    box-shadow: 0px 0px 4px 1px var(--color-triadic-red-darker),\n      inset 0px 0px 0px 1px var(--color-triadic-red-darker) !important;\n  ":""})),qe=function(n){var e=n.text;return Object(ve.jsxs)(We,{children:[Object(ve.jsx)(tn.d,{color:"hsl(213, 20%, 95%)",size:14}),Object(ve.jsx)(Ke,{children:Object(ve.jsx)(Ye,{children:e})})]})},We=H.b.div(In||(In=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: var(--color-grey-normal);\n  margin-left: 0.5rem;\n  color: var(--color-white);\n  cursor: pointer;\n  position: relative;\n  &:hover > div > div {\n    opacity: 1;\n  }\n"]))),Ye=H.b.div(Pn||(Pn=Object(G.a)(['\n  position: relative;\n  opacity: 0;\n  transition: opacity 0.15s linear;\n  padding: 1rem;\n  background-color: var(--color-grey-normal);\n  border-radius: 5px;\n  margin-left: 1rem;\n  width: max-content;\n  max-width: 180px;\n  font-size: 1rem;\n  color: var(--color-grey-lightest);\n  overflow: visible;\n  filter: drop-shadow(0 1px 2px var(--color-grey-normal));\n  display: flex;\n\n  &:before {\n    position: absolute;\n    left: -8px;\n    top: 50%;\n    transform: translateY(-50%);\n    content: "";\n    width: 0;\n    height: 0;\n    border-top: 8px solid transparent;\n    border-bottom: 8px solid transparent;\n    border-right: 8px solid var(--color-grey-normal);\n  }\n']))),Ke=H.b.div(Rn||(Rn=Object(G.a)(["\n  position: absolute;\n  display: flex;\n  right: 0;\n  transform: translateX(102%);\n  pointer-events: none;\n"]))),Ge=H.b.div(zn||(zn=Object(G.a)(["\n  display: flex;\n  flex-direction: ",";\n  align-items: flex-start;\n  align-self: ",";\n  padding: 0.5rem;\n  position: relative;\n\n  ","\n  ","\n\n  label {\n    ","\n    font-weight: 600;\n    color: var(--color-grey-dark);\n  }\n\n  input {\n    ","\n    width: 300px;\n    align-self: stretch;\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"])),(function(n){return n.row?"row":"column"}),(function(n){return n.row?"unset":"flex-start"}),(function(n){return n.color?"\n    background-color: ".concat(oe[n.color],";\n    border-radius: 5px;\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  "):""}),(function(n){return n.big?"\n    align-items: flex-start;\n    margin-bottom: 1.5rem;\n    padding: 1rem;\n  ":""}),(function(n){return n.big?"font-size: 1.5rem;":""}),(function(n){return n.big?"    \n    font-size: 3rem;\n    margin-left: 1rem;\n    width: 0;\n    ":"font-size: 1rem;"})),He=H.b.div(Nn||(Nn=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 0.5rem;\n"]))),Xe=function(n){var e=n.big,t=n.color,r=n.error,o=n.fieldName,i=n.label,a=n.row,c=n.type,l=n.tooltip,s=n.value,u=n.onBlur,d=n.onChange;return Object(ve.jsxs)(Ge,{color:t,big:e,row:a,children:[Object(ve.jsxs)(He,{children:[Object(ve.jsx)("label",{htmlFor:o,children:i}),l&&Object(ve.jsx)(qe,{text:l})]}),Object(ve.jsx)(Je,{errors:!!r,name:o,type:c||"text",autoComplete:"off",onBlur:u||function(){},onChange:d,value:s}),r&&Object(ve.jsx)(Le,{big:e,children:r})]})},Qe=Object(H.b)($)(Vn||(Vn=Object(G.a)(["\n  align-self: stretch;\n  font-size: 1.2rem;\n  justify-content: center;\n  margin-top: 1.5rem;\n  margin-left: 2.5%;\n  padding: 0.5rem;\n  width: 95%;\n"]))),Ze=function(n,e){return n===e},$e=function(n){return""!==n&&("number"===typeof n||!!n)},nt=function(n,e,t){return"number"===typeof n&&(n>e||!(n!==e||!t))},et=function(n){var e=n.compound,t=n.closeModal,r=ie(),o=r.compounds,i=r.updateCompound,c=ln().settings,l=Object(a.useState)(!1),s=Object(Q.a)(l,2),u=s[0],d=s[1],b=o.findIndex((function(n){return n.id===e.id})),p=function(n,e){for(var t=0;t<o.length;t++)if(t!==b&&o[t][n]===e)return!1;return!0},m=Object(Fe.a)({initialValues:{symbol:e.symbol,concentration:e.concentration,name:e.name,molecularWeight:e.molecularWeight},validate:function(n){var e={};return $e(n.symbol)?p("symbol",n.symbol)||(e.symbol="Symbol is already used"):e.symbol="Symbol cannot be empty",$e(n.concentration)?nt(n.concentration,0,!0)||(e.concentration="Concentration cannot be lower than 0"):e.concentration="Concentration cannot be empty",$e(n.molecularWeight)?nt(n.molecularWeight,0,!0)||(e.molecularWeight="Molecular weight cannot be lower than 0"):e.molecularWeight="Molecular weight cannot be empty",e},onSubmit:function(n){var t=Object(F.a)(Object(F.a)({},e),n);i(e.id,t),window.scrollTo({top:0,behavior:"smooth"}),d(!0)}});return Object(ve.jsx)(Be,{closing:u,setClosing:d,handleClose:t,children:Object(ve.jsxs)(tt,{onSubmit:m.handleSubmit,children:[Object(ve.jsx)(Xe,{fieldName:"symbol",label:"Symbol:",error:m.errors.symbol,onChange:function(n){m.handleChange(n)},value:m.values.symbol,color:e.color,row:!0,big:!0}),Object(ve.jsx)(Xe,{fieldName:"concentration",label:"Initial concentration [".concat(c.molarUnits,"/").concat(c.volumeUnits,"]:"),error:m.errors.concentration,tooltip:"Concentration in the loaded mixture",type:"number",onChange:function(n){m.handleChange(n)},value:m.values.concentration}),Object(ve.jsx)(Xe,{fieldName:"molecularWeight",label:"Molecular weight [".concat(c.massUnits,"/").concat(c.molarUnits,"]:"),error:m.errors.molecularWeight,type:"number",onChange:function(n){m.handleChange(n)},value:m.values.molecularWeight}),Object(ve.jsx)(Xe,{fieldName:"name",label:"Compound name (optional):",error:m.errors.name,onChange:function(n){m.handleChange(n)},value:m.values.name}),Object(ve.jsx)(Qe,{color:"green",type:"submit",children:"Done"})]})})},tt=H.b.form(Mn||(Mn=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),rt=H.b.p(Fn||(Fn=Object(G.a)(["\n  padding: 1rem;\n  color: var(--color-grey-dark);\n  font-style: italic;\n"]))),ot=function(n){var e=ie(),t=e.compounds,r=e.updateCompound,o=e.removeCompound,i=Object(a.useState)(void 0),c=Object(Q.a)(i,2),l=c[0],s=c[1],u=function(n){return s(n)},d=Object(a.useMemo)((function(){return l?t.find((function(n){return n.id===l})):void 0}),[t,l]);return Object(ve.jsxs)(it,{children:[0===t.length&&Object(ve.jsx)(rt,{children:"No compounds added yet"}),t.map((function(n,e){return Object(ve.jsx)(ze,{compound:n,editCompound:function(){u(n.id)},updateCompound:function(n){r(n.id,n)},removeCompound:function(){o(n.id)},validateUnicity:function(n,r){for(var o=0;o<t.length;o++)if(o!==e&&t[o][n]===r)return!1;return!0}},e)})),l&&Object(ve.jsx)(et,{compound:d,closeModal:function(){return u()}})]})},it=H.b.ul(Bn||(Bn=Object(G.a)(["\n  align-self: stretch;\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding-left: 0;\n"]))),at=function(){var n=ie(),e=n.addCompound,t=n.removeAllCompounds;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Pe,{children:"Compounds"}),Object(ve.jsxs)($,{color:"green",onClick:e,children:["Add ",Object(ve.jsx)(tn.g,{})]}),Object(ve.jsx)($,{color:"red",buttonStyle:"\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.6rem 1rem;\n",onClick:function(){window.confirm("Are you sure you want to delete all compounds? This will also delete all reactions")&&t()},children:Object(ve.jsx)(tn.i,{size:20})}),Object(ve.jsx)(ot,{})]})},ct=function(n){var e=n.children;return Object(ve.jsx)(lt,{children:Object(ve.jsx)(st,{children:e})})},lt=H.b.div(Un||(Un=Object(G.a)(["\n  display: flex;\n  flex-basis: 50%;\n\n  @media only screen and (max-width: 940px) {\n    flex-basis: 100%;\n  }\n"]))),st=H.b.div(Dn||(Dn=Object(G.a)(["\n  flex-grow: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  flex-direction: column;\n  padding: 1rem;\n  margin: 1rem;\n  margin-bottom: 0;\n\n  h2 {\n    color: var(--color-grey-normal);\n    font-size: 1.2rem;\n    margin-top: 0;\n  }\n\n  input {\n    width: auto;\n  }\n"]))),ut=function(n){var e=n.formik,t=n.onBlur,r=n.onChange;return Object(ve.jsxs)(ct,{children:[Object(ve.jsx)("h2",{children:"Operating times"}),Object(ve.jsx)(Xe,{fieldName:"reactionTime",label:"Reaction time:",type:"number",value:e.values.reactionTime,error:e.errors.reactionTime,onBlur:t,onChange:r}),Object(ve.jsx)(Xe,{fieldName:"deadTime",label:"Dead time:",type:"number",tooltip:"Time needed for discharge, cleaning, etc.",value:e.values.deadTime,error:e.errors.deadTime,onBlur:t,onChange:r}),Object(ve.jsx)(Xe,{fieldName:"timeStep",label:"Time step:",type:"number",tooltip:"Small time interval for numerical calculation purposes",value:e.values.timeStep,error:e.errors.timeStep,onBlur:t,onChange:r})]})},dt=function(n){var e=n.formik,t=n.onBlur,r=n.onChange;return Object(ve.jsxs)(ct,{children:[Object(ve.jsx)("h2",{children:"Units"}),Object(ve.jsx)(Xe,{fieldName:"timeUnits",label:"Time units:",type:"text",value:e.values.timeUnits,error:e.errors.timeUnits,onBlur:t,onChange:r}),Object(ve.jsx)(Xe,{fieldName:"volumeUnits",label:"Volume units:",type:"text",value:e.values.volumeUnits,error:e.errors.volumeUnits,onBlur:t,onChange:r}),Object(ve.jsx)(Xe,{fieldName:"molarUnits",label:"Molar units:",type:"text",value:e.values.molarUnits,error:e.errors.molarUnits,onBlur:t,onChange:r}),Object(ve.jsx)(Xe,{fieldName:"massUnits",label:"Mass units:",type:"text",value:e.values.massUnits,error:e.errors.massUnits,onBlur:t,onChange:r}),Object(ve.jsx)(Xe,{fieldName:"temperatureUnits",label:"Temperature units:",type:"text",value:e.values.temperatureUnits,error:e.errors.temperatureUnits,onBlur:t,onChange:r})]})},bt=t(61),pt=function(n){var e=n.fieldName,t=n.formik,r=n.label,o=n.tooltip,i=e,a=t.values[i],c=t.errors[i];return Object(ve.jsxs)(mt,{children:[Object(ve.jsx)(ht,{onClick:function(){t.setFieldValue(e,!t.values[i],!1),t.handleSubmit()},toggled:!!a,children:a&&Object(ve.jsx)(bt.a,{size:10})}),Object(ve.jsxs)(ft,{children:[Object(ve.jsx)("label",{htmlFor:e,children:r}),o&&Object(ve.jsx)(qe,{text:o})]}),c&&Object(ve.jsx)(Le,{children:c})]})},mt=H.b.div(_n||(_n=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: flex-start;\n  padding: 0.5rem;\n  position: relative;\n\n  label {\n    font-weight: 600;\n    color: var(--color-grey-dark);\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"]))),ft=H.b.div(An||(An=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),ht=H.b.div(Ln||(Ln=Object(G.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  border: 2px solid var(--color-grey-normal);\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 0.5rem;\n\n  svg {\n    fill: var(--color-grey-lightest);\n  }\n"])),(function(n){return n.toggled?"var(--color-grey-normal)":"var(--color-grey-lightest)"})),jt=function(n){var e=n.formik,t=n.onBlur,r=n.onChange,o=ln().settings;return Object(ve.jsxs)(ct,{children:[Object(ve.jsx)("h2",{children:"Heat Exchange"}),Object(ve.jsx)(pt,{fieldName:"isothermic",label:"Isothermic system",formik:e}),Object(ve.jsx)(Xe,{fieldName:"initialTemperature",label:"Initial Temperature [".concat(o.temperatureUnits,"]:"),type:"number",value:e.values.initialTemperature,error:e.errors.initialTemperature,onBlur:t,onChange:r})]})},gt=function(){var n=ln(),e=n.settings,t=n.saveSettings,r=Object(Fe.a)({initialValues:Object(F.a)({},e),validate:function(n){var e=n.deadTime,t=n.initialTemperature,r=n.timeStep,o=n.reactionTime,i={};return $e(o)?nt(o,0,!0)||(i.reactionTime="Reaction time cannot be lower than 0"):i.reactionTime="Reaction time cannot be empty",$e(e)?nt(e,0,!0)||(i.deadTime="Dead time cannot be lower than 0"):i.deadTime="Dead time cannot be empty",$e(r)?nt(r,0,!1)||(i.timeStep="Time step has to be greater than 0"):i.timeStep="Time step cannot be empty",$e(r)?!Ze(t,"K")&&!Ze(t,"R")||nt(t,0,!1)?Ze(t,"\xb0C")&&!nt(t,-273.15,!1)?i.initialTemperature="Initial temperature cannot be equal or lower than -273.15":Ze(t,"\xb0F")&&!nt(t,-459.67,!1)&&(i.initialTemperature="Initial temperature cannot be equal or lower than -459.67"):i.initialTemperature="Initial temperature cannot be equal or lower than 0":i.initialTemperature="Initial temperature cannot be empty",i},onSubmit:function(n){t(n)}}),o=function(){r.handleSubmit()},i={formik:r,onBlur:o,onChange:function(n){return r.handleChange(n)}};return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Pe,{children:"Operation"}),Object(ve.jsxs)(xt,{children:[Object(ve.jsx)(ut,Object(F.a)({},i)),Object(ve.jsx)(dt,Object(F.a)({},i)),Object(ve.jsx)(jt,Object(F.a)({},i))]})]})},xt=H.b.form(Jn||(Jn=Object(G.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 1rem;\n"]))),vt=H.b.p(qn||(qn=Object(G.a)(["\n  color: var(--color-grey-normal);\n  font-style: italic;\n  margin: 0.5rem;\n"]))),Ot=function(n){var e=n.reaction,t=ie().findCompound;return Object(ve.jsxs)(yt,{children:[0===e.reactants.length&&0===e.products.length&&Object(ve.jsx)(vt,{children:"No reaction data"}),e.reactants.map((function(n,e){var r=t(n.compoundId);return Object(ve.jsxs)(a.Fragment,{children:[0!==e&&Object(ve.jsx)(tn.g,{size:25}),Object(ve.jsxs)(kt,{children:[Object(ve.jsx)("p",{children:n.stoichiometricCoefficient}),Object(ve.jsx)(wt,{color:r.color,children:r.symbol})]})]},n.compoundId)})),e.reactants.length>0&&e.products.length>0&&Object(ve.jsx)(tn.a,{size:25}),e.products.map((function(n,e){var r=t(n.compoundId);return Object(ve.jsxs)(a.Fragment,{children:[0!==e&&Object(ve.jsx)(tn.g,{size:25}),Object(ve.jsxs)(kt,{children:[Object(ve.jsx)("p",{children:n.stoichiometricCoefficient}),Object(ve.jsx)(wt,{color:r.color,children:r.symbol})]})]},n.compoundId)}))]})},yt=H.b.div(Wn||(Wn=Object(G.a)(["\n  align-items: center;\n  display: flex;\n  flex-grow: 1;\n  min-height: 3rem;\n"]))),kt=H.b.div(Yn||(Yn=Object(G.a)(["\n  align-items: flex-end;\n  display: flex;\n  margin: 0 0.5rem;\n\n  p {\n    color: var(--color-grey-dark);\n    font-size: 1.6rem;\n    margin: 0 0 0.2rem 0;\n  }\n"]))),wt=H.b.div(Kn||(Kn=Object(G.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  font-size: 1.6rem;\n  margin: 0 0.5rem;\n  padding: 0.5rem 0.9rem;\n"])),(function(n){return oe[n.color]})),Ct=function(n){var e=n.reaction,t=n.reactionIndex,r=n.editReaction,o=n.removeReaction;return Object(ve.jsxs)(St,{children:[Object(ve.jsxs)(Et,{children:[Object(ve.jsxs)(Tt,{children:["#".concat(t+1)," ",e.name?" - ".concat(e.name):""]}),Object(ve.jsx)(Ot,{reaction:e})]}),Object(ve.jsx)(Re,{onClick:r,children:Object(ve.jsx)(tn.c,{})}),Object(ve.jsx)(Re,{onClick:o,children:Object(ve.jsx)(tn.i,{})})]})},St=H.b.div(Gn||(Gn=Object(G.a)(["\n  margin: 10px;\n  padding: 20px;\n  position: relative;\n\n  align-items: center;\n  align-self: stretch;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  border: 1.5px solid var(--color-grey-lightest);\n  display: flex;\n  color: var(--color-grey-dark);\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  p:not(:first-child) {\n    flex-grow: 1;\n    margin: 0;\n  }\n"]))),Tt=H.b.p(Hn||(Hn=Object(G.a)(["\n  color: var(--color-grey-normal);\n  flex-grow: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin: 0;\n  padding-left: 0.6rem;\n  padding-bottom: 0.5rem;\n"]))),Et=H.b.div(Xn||(Xn=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),It=t(90);!function(n){n[n.Reactant=0]="Reactant",n[n.Product=1]="Product"}(Qn||(Qn={})),function(n){n[n.simple=0]="simple",n[n.hyperbolic=1]="hyperbolic",n[n.autocatalytic=2]="autocatalytic"}(Zn||(Zn={}));var Pt,Rt,zt,Nt,Vt,Mt,Ft,Bt,Ut,Dt,_t,At,Lt,Jt,qt,Wt,Yt,Kt,Gt,Ht,Xt,Qt,Zt,$t,nr,er,tr,rr=["Simple","Hiperbolic","Autocatalytic"],or=function(n,e,t){switch(n){case Zn.hyperbolic:return ar(e,t);case Zn.autocatalytic:return cr(e,t);default:return ir(e,t)}},ir=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=lr(o),a=n.kineticConstants[i];t[i]=void 0===a?1:a})),Object(F.a)({},t)},ar=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=ur(o),a=n.kineticConstants[i];t[i]=void 0===a?1:a})),Object(F.a)({},t)},cr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=lr(o),a=n.kineticConstants[i];t[i]=void 0===a?1:a})),n.products.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=sr(o),a=n.kineticConstants[i];t[i]=void 0===a?1:a})),Object(F.a)({},t)},lr=function(n){return"\\alpha_".concat(n.symbol)},sr=function(n){return"\\beta_".concat(n.symbol)},ur=function(n){return"K_".concat(n.symbol)},dr=function(n){var e=n.alignment,t=n.defaultDisplayValue,r=n.hoverIcon,o=n.initialValue,i=n.onSelectionChange,c=n.selectOptions,l=Object(a.useState)(!1),s=Object(Q.a)(l,2),u=s[0],d=s[1],b=Object(a.useState)((null===o||void 0===o?void 0:o.value)||void 0),p=Object(Q.a)(b,2),m=p[0],f=p[1],h=Object(a.useRef)(un.a.generate(8)),j=Object(a.useRef)(null);Object(a.useEffect)((function(){o&&f(o.value),j.current=document.getElementById(h.current)}),[]),Object(a.useEffect)((function(){j.current=u?document.getElementById(h.current):null}),[u]);var g=Object(a.useCallback)((function(n){var e;(null===(e=j.current)||void 0===e?void 0:e.contains(n.target))||(x(),d(!1))}),[]),x=function(){u?window.removeEventListener("click",g,!0):window.addEventListener("click",g,!0),d(!u)},v=function(n){x(),f(n),i(n)},O=c.find((function(n){return n.value===m}));return Object(ve.jsxs)(br,{id:h.current,children:[Object(ve.jsxs)(pr,{selecting:u,onClick:x,children:[Object(ve.jsx)("p",{children:(null===O||void 0===O?void 0:O.collapsedDisplayText)||t}),Object(ve.jsx)(tn.b,{size:10})]}),u&&Object(ve.jsxs)(mr,{alignment:e||"left",children:[t&&Object(ve.jsx)(fr,{onClick:function(){return v(void 0)},children:Object(ve.jsx)("p",{children:t})}),c.map((function(n){var e=n.value,t=n.displayText,o=n.hoverBackgroundColor;return Object(ve.jsxs)(fr,{onClick:function(){v(e)},hoverBackgroundColor:o,children:[Object(ve.jsx)("p",{children:t}),Object(ve.jsx)("span",{children:r})]},e)}))]})]})},br=H.b.div(Pt||(Pt=Object(G.a)(["\n  position: relative;\n  flex-grow: 1;\n"]))),pr=H.b.div(Rt||(Rt=Object(G.a)(["\n  align-items: center;\n  background-color: var(--color-grey-lightest);\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  font-size: 1.1rem;\n  outline: none;\n  padding: 5px 10px;\n  transition: all 0.15s linear;\n  ","\n\n  & > p {\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  & > svg {\n    margin-left: 0.5rem;\n  }\n"])),(function(n){return n.selecting?"box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15),\n    0px 0px 2px var(--color-grey-normal);":""})),mr=H.b.div(zt||(zt=Object(G.a)(["\n  position: absolute;\n  top: 100%;\n\n  align-items: stretch;\n  ","\n  ","\n  background-color: var(--color-grey-lightest);\n  border: none;\n  border-radius: 5px;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15),\n    0px 0px 2px var(--color-grey-normal);\n  display: flex;\n  flex-direction: column;\n  font-size: 1.2rem;\n  margin-top: 0.5rem;\n  max-height: 400px;\n  overflow-y: scroll;\n  padding: 0.5rem;\n  transition: all 0.05s linear;\n  width: auto;\n  z-index: 20;\n"])),(function(n){return"left"===n.alignment?"left: 0;":""}),(function(n){return"right"===n.alignment?"right: 0;":""})),fr=H.b.button(Nt||(Nt=Object(G.a)(["\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  font-size: 1rem;\n  text-align: left;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n\n  &:hover {\n    background-color: ",";\n\n    & > span {\n      opacity: 1;\n    }\n  }\n\n  & > p {\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  & > span {\n    display: inline-flex;\n    align-items: center;\n    opacity: 0;\n    transition: opacity 0.15s linear;\n  }\n"])),(function(n){return n.hoverBackgroundColor||"var(--color-grey-lighter)"})),hr=H.b.div(Vt||(Vt=Object(G.a)(["\n  border-top: 1px solid var(--color-grey-light);\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 2rem;\n  padding: 2rem 1rem 0rem;\n\n  h2 {\n    color: var(--color-grey-dark);\n    font-size: 20px;\n    margin-top: 0;\n  }\n"]))),jr=Object(H.b)(hr)(Mt||(Mt=Object(G.a)(["\n  flex-direction: column;\n  flex-wrap: nowrap;\n"]))),gr=function(n){var e=n.compound,t=n.reactionCompound,r=n.updateCompound,o=n.removeCompound,i=Object(a.useState)(t.stoichiometricCoefficient),c=Object(Q.a)(i,2),l=c[0],s=c[1];return Object(ve.jsxs)(xr,{color:e.color,children:[Object(ve.jsx)("h1",{children:e.symbol}),Object(ve.jsx)("input",{value:l,type:"number",onChange:function(n){""!==n.target.value?s(parseFloat(n.target.value)):s("")},onBlur:function(){$e(l)?r(Object(F.a)(Object(F.a)({},t),{},{stoichiometricCoefficient:l})):s(t.stoichiometricCoefficient)}}),Object(ve.jsx)(Re,{onClick:o,children:Object(ve.jsx)(tn.i,{})})]})},xr=H.b.div(Ft||(Ft=Object(G.a)(["\n  margin: 5px;\n  padding: 1.3rem;\n  position: relative;\n\n  align-items: center;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: ",";\n  border-radius: 5px;\n  color: var(--color-grey-dark);\n  display: flex;\n  cursor: pointer;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    & {\n      box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n      transform: translateY(-2px);\n    }\n  }\n\n  h1 {\n    flex-grow: 1;\n    font-size: 1.8rem;\n    margin: 0;\n  }\n\n  input {\n    font-size: 1.3rem;\n    width: 0px;\n  }\n\n  button {\n    opacity: 1;\n    margin-left: 0.5rem;\n  }\n"])),(function(n){return oe[n.color]})),vr=function(n){var e=n.reactionCompounds,t=n.removeCompound,r=n.updateCompound,o=n.compoundType,i=ie().findCompound;return Object(ve.jsx)(ve.Fragment,{children:e.map((function(n){var a=i(n.compoundId),c=e.findIndex((function(e){return e.compoundId===n.compoundId}));return Object(ve.jsx)(gr,{compound:a,reactionCompound:n,updateCompound:function(n){r(c,o,n)},removeCompound:function(){t(c,o)}},n.compoundId)}))})},Or=function(n){var e=n.tokenizedEquation,t=[],r=[],o=[];return e.forEach((function(n){if(n.type===i.LeftParenthesis)r.push([]);else if(n.type===i.RightParenthesis){var e=r.pop(),a=0===r.length?t:r[r.length-1];if(o.length>0&&o[o.length-1].level===r.length){var c=o.pop();if("/"===c.code){var l=a.pop();a.push(Object(ve.jsx)(wr,{numerator:l,denominator:Object(ve.jsx)(kr,{elements:e})}))}else if("^"===c.code){var s=a.pop();a.push(Object(ve.jsx)(Sr,{base:s,power:Object(ve.jsx)(kr,{elements:e})}))}else"-"!==c.code&&"+"!==c.code||(a.push(c.code),a.push(Object(ve.jsx)(kr,{elements:e})))}else a.push(Object(ve.jsx)(kr,{elements:e}))}else if(n.type===i.Parameter||n.type===i.Variable)if(r.length>0)r[r.length-1].push(Object(ve.jsx)(yr,{symbol:n.value.replace(/<|>|{|}/g,"")}));else if(o.length>0){var u=o.pop();if("/"===u.code){var d=t.pop();t.push(Object(ve.jsx)(wr,{numerator:d,denominator:Object(ve.jsx)(yr,{symbol:n.value.replace(/<|>|{|}/g,"")})}))}else if("^"===u.code){var b=t.pop();t.push(Object(ve.jsx)(Sr,{base:b,power:Object(ve.jsx)(yr,{symbol:n.value.replace(/<|>|{|}/g,"")})}))}}else t.push(Object(ve.jsx)(yr,{symbol:n.value.replace(/<|>|{|}/g,"")}));else n.type===i.Operator&&("/"===n.value||"^"===n.value?o.push({code:n.value,level:r.length}):r.length>0?"+"===n.value||"-"===n.value?r[r.length-1].push(Object(ve.jsx)(ve.Fragment,{children:n.value})):"*"===n.value&&r[r.length-1].push(Object(ve.jsx)(ve.Fragment,{children:"."})):"+"===n.value||"-"===n.value?t.push(Object(ve.jsx)(ve.Fragment,{children:n.value})):"*"===n.value&&t.push(Object(ve.jsx)(ve.Fragment,{children:"."})))})),Object(ve.jsx)(ve.Fragment,{children:t.map((function(n,e){return Object(ve.jsx)(a.Fragment,{children:n},e)}))})},yr=function(n){var e=n.symbol.split("_");e.forEach((function(n,t){switch(n){case"\\alpha":e[t]=Object(ve.jsx)(Pr,{});break;case"\\beta":e[t]=Object(ve.jsx)(Rr,{});break;case"\\mu":e[t]=Object(ve.jsx)(zr,{});break;case"\\inf":e[t]=Object(ve.jsx)(Nr,{})}}));for(var t=e.length-1;t>0;t--){var r=e.pop();e[t-1]=Object(ve.jsx)(Er,{base:e[t-1],subindex:r})}return e[0]},kr=function(n){var e=n.elements;return Object(ve.jsx)(ve.Fragment,{children:e.map((function(n,e){return Object(ve.jsx)(a.Fragment,{children:n},e)}))})},wr=function(n){var e=n.numerator,t=n.denominator;return Object(ve.jsxs)(Cr,{children:[Object(ve.jsx)("div",{children:e}),Object(ve.jsx)("div",{}),Object(ve.jsx)("div",{children:t})]})},Cr=H.b.div(Bt||(Bt=Object(G.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  & > div:not(:nth-child(2)) {\n    display: flex;\n    padding: 0.5rem;\n    position: relative;\n  }\n\n  & > div:nth-child(2) {\n    width: 100%;\n    height: 2px;\n    background-color: var(--color-grey-dark);\n  }\n"]))),Sr=function(n){var e=n.base,t=n.power;return Object(ve.jsxs)(Tr,{children:[Object(ve.jsx)("div",{children:e}),Object(ve.jsx)("div",{className:"exponent",children:t})]})},Tr=H.b.div(Ut||(Ut=Object(G.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  & > .exponent {\n    transform: translateY(-30%) scale(0.7);\n  }\n"]))),Er=function(n){var e=n.base,t=n.subindex;return Object(ve.jsxs)(Ir,{children:[Object(ve.jsx)("div",{children:e}),Object(ve.jsx)("div",{className:"subindex",children:t})]})},Ir=H.b.div(Dt||(Dt=Object(G.a)(["\n  position: relative;\n  display: flex;\n\n  & > .subindex {\n    transform: translateY(30%) scale(0.75);\n  }\n"]))),Pr=function(){return Object(ve.jsx)("span",{children:"\u03b1"})},Rr=function(){return Object(ve.jsx)("span",{children:"\u03b2"})},zr=function(){return Object(ve.jsx)("span",{children:"\u03bc"})},Nr=function(){return Object(ve.jsx)("span",{children:"\u221e"})},Vr=function(n){var e=n.reaction,t=(0,ie().findCompound)(e.keyCompound),r=(null===t||void 0===t?void 0:t.symbol)||void 0;return Object(ve.jsxs)(Mr,{children:[r&&Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Er,{base:"r",subindex:r}),"\xa0=\xa0"]}),Object(ve.jsx)(Or,{tokenizedEquation:e.kineticEquation})]})},Mr=H.b.div(_t||(_t=Object(G.a)(['\n  align-items: center;\n  align-self: stretch;\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-light);\n  border-radius: 5px;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  display: flex;\n  font-size: 1.8rem;\n  justify-content: center;\n  padding: 1.5rem;\n  margin: 1.5rem 0 1rem;\n\n  span {\n    font-family: "Comfortaa", symbol;\n  }\n']))),Fr=function(n){var e=n.paramSymbol,t=n.value,r=n.units,o=n.updateValue,i=Object(a.useState)(t),c=Object(Q.a)(i,2),l=c[0],s=c[1];return Object(ve.jsx)(Br,{children:Object(ve.jsxs)(Ur,{children:[Object(ve.jsx)("h1",{children:e}),Object(ve.jsx)("input",{value:l,type:"number",onChange:function(n){""!==n.target.value?s(parseFloat(n.target.value)):s("")},onBlur:function(){$e(l)?o(l):s(t)}}),r&&Object(ve.jsx)(qe,{text:r})]})})},Br=H.b.div(At||(At=Object(G.a)(["\n  flex-basis: 25%;\n  position: relative;\n  z-index: 2;\n\n  &:hover {\n    z-index: 3;\n  }\n"]))),Ur=H.b.div(Lt||(Lt=Object(G.a)(['\n  position: relative;\n  align-items: center;\n  background-color: var(--color-grey-light);\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  margin: 0.5rem;\n  padding: 1.3rem;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  h1 {\n    color: var(--color-grey-dark);\n    font-size: 1.6rem;\n    margin: 0;\n    margin-right: 1rem;\n\n    span {\n      /* Greek symbols */\n      font-family: "Comfortaa", symbol;\n    }\n  }\n\n  input {\n    font-size: 1.4rem;\n  }\n']))),Dr=function(n){var e=n.reaction,t=n.updateKineticConstant,r=ln().settings,o=e.kineticModel,a=[new ee(i.Parameter,"".concat(r.timeUnits)),new ee(i.Operator,"^"),new ee(i.Parameter,"-1")],c=[new ee(i.Parameter,"".concat(r.timeUnits)),new ee(i.Operator,"^"),new ee(i.Parameter,"-1")],l=Object.entries(null===e||void 0===e?void 0:e.kineticConstants).reduce((function(n,e){var t=Object(Q.a)(e,2),r=t[0],o=t[1];return"preExponential"===r||"activationEnergy"===r?n:n+o}),-(null===e||void 0===e?void 0:e.kineticConstants.k)||0);return 1!==l&&(c.push(new ee(i.Operator,"*")),c.push(new ee(i.Parameter,"".concat(r.volumeUnits))),c.push(new ee(i.Operator,"^")),c.push(new ee(i.Parameter,"".concat(l-1))),c.push(new ee(i.Operator,"*")),c.push(new ee(i.Parameter,"".concat(r.molarUnits))),c.push(new ee(i.Operator,"^")),c.push(new ee(i.Parameter,"".concat(-(l-1))))),Object(ve.jsx)(_r,{children:Object.entries(e.kineticConstants).map((function(n){var e,r,i=Object(Q.a)(n,2),l=i[0],s=i[1];return e=o===Zn.hyperbolic?Object(ve.jsx)(Or,{tokenizedEquation:a}):Object(ve.jsx)(Or,{tokenizedEquation:c}),r=l,Object(ve.jsx)(Fr,{paramSymbol:Object(ve.jsx)(yr,{symbol:r}),value:s,units:e,updateValue:function(n){t(l,n)}},l)}))})},_r=H.b.div(Jt||(Jt=Object(G.a)(["\n  align-self: stretch;\n  background-color: var(--color-grey-lightest);\n  border-radius: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n\n  input {\n    margin-left: 0;\n  }\n"]))),Ar=function(n,e){var t=function(n){return e.find((function(e){return e.id===n}))},r=[];switch(n.kineticModel){case Zn.hyperbolic:return r.push(new ee(i.Parameter,"<k_\\inf>")),Lr(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;Wr(r,e)})),r;case Zn.autocatalytic:return r.push(new ee(i.Parameter,"<k_\\inf>")),Lr(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;Jr(r,e)})),n.products.forEach((function(n){var e=t(n.compoundId).symbol;qr(r,e)})),r;default:return r.push(new ee(i.Parameter,"<k_\\inf>")),Lr(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;Jr(r,e)})),r}},Lr=function(n){n.push(new ee(i.Operator,"*")),n.push(new ee(i.Parameter,"e")),n.push(new ee(i.Operator,"^")),n.push(new ee(i.LeftParenthesis,"(")),n.push(new ee(i.LeftParenthesis,"(")),n.push(new ee(i.Operator,"-")),n.push(new ee(i.Parameter,"<E_A>")),n.push(new ee(i.RightParenthesis,")")),n.push(new ee(i.Operator,"/")),n.push(new ee(i.LeftParenthesis,"(")),n.push(new ee(i.Parameter,"<R>")),n.push(new ee(i.Operator,"*")),n.push(new ee(i.Variable,"{T}")),n.push(new ee(i.RightParenthesis,")")),n.push(new ee(i.RightParenthesis,")"))},Jr=function(n,e){n.push(new ee(i.Operator,"*")),n.push(new ee(i.Variable,"{[".concat(e,"]}"))),n.push(new ee(i.Operator,"^")),n.push(new ee(i.Parameter,"<\\alpha_".concat(e,">")))},qr=function(n,e){n.push(new ee(i.Operator,"*")),n.push(new ee(i.Variable,"{[".concat(e,"]}"))),n.push(new ee(i.Operator,"^")),n.push(new ee(i.Parameter,"<\\beta_".concat(e,">")))},Wr=function(n,e){n.push(new ee(i.Operator,"*")),n.push(new ee(i.Variable,"{[".concat(e,"]}"))),n.push(new ee(i.Operator,"/")),n.push(new ee(i.LeftParenthesis,"(")),n.push(new ee(i.Parameter,"<K_".concat(e,">"))),n.push(new ee(i.Operator,"+")),n.push(new ee(i.Variable,"{[".concat(e,"]}"))),n.push(new ee(i.RightParenthesis,")"))},Yr=function(n){var e=n.compounds,t=n.reaction,r=n.closeModal,o=ie().findCompound,i=te(),c=i.reactions,l=i.updateReaction,s=Object(a.useState)(!1),u=Object(Q.a)(s,2),d=u[0],b=u[1],m=c.findIndex((function(n){return n.id===t.id})),f=Object(a.useState)(JSON.parse(JSON.stringify(t))),h=Object(Q.a)(f,2),j=h[0],g=h[1],x=Object(a.useRef)(document.getElementById("scroll-target")),v=Object(a.useState)(void 0),O=Object(Q.a)(v,2),y=O[0],k=O[1],w=Object(a.useState)(void 0),C=Object(Q.a)(w,2),S=C[0],T=C[1],E=Object(a.useMemo)((function(){return e.filter((function(n){var e,t=Object(It.a)(j.reactants);try{for(t.s();!(e=t.n()).done;){if(e.value.compoundId===n.id)return!1}}catch(r){t.e(r)}finally{t.f()}return!0})).map((function(n){return{value:e.findIndex((function(e){return e.id===n.id})),displayText:n.symbol,collapsedDisplayText:n.symbol,hoverBackgroundColor:oe[n.color]}}))}),[j.reactants]),I=Object(a.useMemo)((function(){return e.filter((function(n){var e,t=Object(It.a)(j.products);try{for(t.s();!(e=t.n()).done;){if(e.value.compoundId===n.id)return!1}}catch(r){t.e(r)}finally{t.f()}return!0})).map((function(n){return{value:e.findIndex((function(e){return e.id===n.id})),displayText:n.symbol,collapsedDisplayText:n.symbol,hoverBackgroundColor:oe[n.color]}}))}),[j.products]),P=function(n){return n===Qn.Reactant?"reactants":"products"},R=function(n,t){var r=P(t),o=JSON.parse(JSON.stringify(j));o[r].push({compoundId:n,stoichiometricCoefficient:1});var i=or(o.kineticModel,o,e);o.kineticConstants=i,o.kineticEquation=Ar(o,e),g(o)},z=function(n,e,t){var r=P(e),o=Object(F.a)({},j);o[r][n]=t,g(o)},N=function(n,t){var r=P(t),o=Object(F.a)({},j),i=o[r][n];o[r]=[].concat(Object(p.a)(o[r].slice(0,n)),Object(p.a)(o[r].slice(n+1,o[r].length))),i.compoundId===j.keyCompound&&(o.keyCompound=void 0);var a=or(o.kineticModel,o,e);o.kineticConstants=a,o.kineticEquation=Ar(o,e),g(o)},V=y?{value:y,displayText:e[y].symbol,collapsedDisplayText:e[y].symbol}:void 0,M=S?{value:S,displayText:e[S].symbol,collapsedDisplayText:e[S].symbol}:void 0;return Object(ve.jsxs)(Be,{closing:d,setClosing:b,handleClose:r,children:[Object(ve.jsx)(Ot,{reaction:j}),Object(ve.jsx)("br",{}),Object(ve.jsx)(Xe,{fieldName:"name",label:"Reaction name:",onChange:function(n){g(Object(F.a)(Object(F.a)({},j),{},{name:n.target.value}))},value:j.name}),Object(ve.jsxs)(hr,{children:[Object(ve.jsxs)(Gr,{children:[Object(ve.jsx)("h2",{children:"Reactants"}),Object(ve.jsx)(Xr,{children:Object(ve.jsx)(dr,{defaultDisplayValue:"Compound...",hoverIcon:Object(ve.jsx)(tn.g,{}),initialValue:V,selectOptions:E,onSelectionChange:function(n){void 0!==n&&R(e[n].id,Qn.Reactant),k(void 0)}})}),Object(ve.jsx)(Hr,{children:0!==j.reactants.length?Object(ve.jsx)(vr,{reactionIndex:m,reactionCompounds:j.reactants,removeCompound:N,updateCompound:z,compoundType:Qn.Reactant}):Object(ve.jsx)(vt,{children:"No compounds..."})})]}),Object(ve.jsxs)(Gr,{children:[Object(ve.jsx)("h2",{children:"Products"}),Object(ve.jsx)(Xr,{children:Object(ve.jsx)(dr,{defaultDisplayValue:"Compound...",hoverIcon:Object(ve.jsx)(tn.g,{}),initialValue:M,selectOptions:I,onSelectionChange:function(n){void 0!==n&&R(e[n].id,Qn.Product),T(void 0)}})}),Object(ve.jsx)(Hr,{children:0!==j.products.length?Object(ve.jsx)(vr,{reactionIndex:m,reactionCompounds:j.products,removeCompound:N,updateCompound:z,compoundType:Qn.Product}):Object(ve.jsx)(vt,{children:"No compounds..."})})]})]}),Object(ve.jsxs)(jr,{children:[Object(ve.jsx)("h2",{children:"Kinetics"}),Object(ve.jsxs)(Kr,{children:[Object(ve.jsx)("p",{children:"Kinetic model"}),Object(ve.jsx)(dr,{initialValue:{value:j.kineticModel,displayText:rr[j.kineticModel],collapsedDisplayText:rr[j.kineticModel]},selectOptions:rr.map((function(n,e){return{value:e,displayText:n,collapsedDisplayText:n}})),onSelectionChange:function(n){var t=JSON.parse(JSON.stringify(j));t.kineticConstants=or(n,j,e),t.kineticModel=n,t.kineticEquation=Ar(t,e),g(t)}})]}),Object(ve.jsxs)(Kr,{children:[Object(ve.jsx)("p",{children:"Key compound"}),Object(ve.jsx)(dr,{defaultDisplayValue:"Reactant...",initialValue:void 0!==j.keyCompound?{value:j.keyCompound,displayText:o(j.keyCompound).symbol,collapsedDisplayText:o(j.keyCompound).symbol}:void 0,selectOptions:j.reactants.map((function(n){return{value:n.compoundId,displayText:o(n.compoundId).symbol,collapsedDisplayText:o(n.compoundId).symbol}})),onSelectionChange:function(n){var e=JSON.parse(JSON.stringify(j));e.keyCompound=n,g(e)}})]}),Object(ve.jsx)(Vr,{reaction:j}),Object(ve.jsx)(Dr,{reaction:j,compounds:e,updateKineticConstant:function(n,e){var t=JSON.parse(JSON.stringify(j));t.kineticConstants[n]=e,g(t)}})]}),Object(ve.jsx)(Qe,{color:"green",onClick:function(){var n;l(t.id,j),null===x||void 0===x||null===(n=x.current)||void 0===n||n.scrollTo({top:0,behavior:"smooth"}),b(!0)},children:"Done"})]})},Kr=H.b.div(qt||(qt=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  width: 50%;\n\n  p {\n    color: var(--color-grey-dark);\n    flex-grow: 1;\n    font-size: 1rem;\n    margin-right: 1.4rem;\n  }\n\n  div {\n    flex-basis: 45%;\n  }\n"]))),Gr=H.b.div(Wt||(Wt=Object(G.a)(["\n  flex-basis: 50%;\n\n  @media (max-width: 700px) {\n    flex-basis: 100%;\n  }\n"]))),Hr=H.b.div(Yt||(Yt=Object(G.a)(["\n  background-color: var(--color-grey-lightest);\n  border-radius: 5px;\n  margin: 0.5rem 0.3rem;\n  padding: 0.5rem;\n"]))),Xr=H.b.div(Kt||(Kt=Object(G.a)(["\n  display: flex;\n  margin: 0.3rem;\n\n  & > button {\n    margin-left: 0.5rem;\n  }\n"]))),Qr=function(){var n=ie().compounds,e=te(),t=e.reactions,r=e.removeReaction,o=Object(a.useState)(void 0),i=Object(Q.a)(o,2),c=i[0],l=i[1],s=function(n){return l(n)},u=Object(a.useMemo)((function(){return c?t.find((function(n){return n.id===c})):void 0}),[t,c]);return Object(ve.jsxs)(ve.Fragment,{children:[0===t.length&&Object(ve.jsx)(rt,{children:"No reactions added yet"}),t.map((function(n,e){return Object(ve.jsx)(Ct,{reaction:n,reactionIndex:e,editReaction:function(){s(n.id)},removeReaction:function(){r(n.id)},children:"Reaction"},e)})),c&&Object(ve.jsx)(Yr,{compounds:n,reaction:u,closeModal:function(){return s()}})]})},Zr=function(){var n=te(),e=n.addReaction,t=n.resetReactions;return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Pe,{children:"Reactions"}),Object(ve.jsxs)($,{color:"green",onClick:e,children:["Add ",Object(ve.jsx)(tn.g,{})]}),Object(ve.jsx)($,{color:"red",buttonStyle:"\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.6rem 1rem;\n",onClick:function(){window.confirm("Are you sure you want to delete all reactions?")&&t()},children:Object(ve.jsx)(tn.i,{size:20})}),Object(ve.jsx)(Qr,{})]})},$r=30,no=function(n){var e=n.canvas,t=n.data,r=n.colors,o=e.getContext("2d");if(o){o.clearRect(0,0,o.canvas.width,o.canvas.height),o.lineWidth=1;var i=oo({height:o.canvas.height,data:t});eo({context:o,ticks:i}),to({context:o,ticks:i}),ro({context:o,data:t,colors:r,yAxisTicks:i})}},eo=function(n){for(var e=n.context,t=n.ticks,r=e.canvas.width,o=e.canvas.height,i=o-60,a=t.totalTicks,c=t.tickDistance,l=1;l<=a;l++){var s=o-$r-i*l/a;e.beginPath(),e.strokeStyle="hsl(213, 20%, 20%)",e.moveTo(10,s),e.lineTo($r,s),e.stroke(),e.beginPath(),e.strokeStyle="hsl(213, 20%, 85%)",e.moveTo($r,s),e.lineTo(r-$r,s),e.stroke(),e.font="16px Mulish",e.fillStyle="hsl(213, 20%, 80%)",e.textAlign="right",e.fillText(co(l*c),r-$r,s+18)}e.strokeStyle="hsl(213, 20%, 20%)",e.beginPath(),e.moveTo($r,$r),e.lineTo($r,o-$r),e.stroke()},to=function(n){var e=n.context,t=(n.ticks,e.canvas.height),r=e.canvas.width;e.strokeStyle="hsl(213, 20%, 30%)",e.beginPath(),e.moveTo($r,t-$r),e.lineTo(r-$r,t-$r),e.stroke()},ro=function(n){for(var e,t=n.colors,r=n.context,o=n.data,i=n.yAxisTicks,a=0!==o.length?null===(e=o[0][o[0].length-1])||void 0===e?void 0:e.x:10,c=i.tickDistance*i.totalTicks,l=r.canvas.width-60,s=r.canvas.height-60,u=0;u<o.length;u++){r.beginPath();for(var d=new Path2D,b=o[u],p=t[u],m=1;m<b.length;m++)d.moveTo($r+l*b[m-1].x/a,$r+s*(1-b[m-1].y/c)),d.lineTo($r+l*b[m].x/a,$r+s*(1-b[m].y/c));r.lineWidth=4,r.strokeStyle=p,r.stroke(d)}},oo=function(n){var e=n.data,t=n.height,r=Math.floor((t-$r)/50)||10,o=io(e)||10,i=ao(o,r);return{tickDistance:i,totalTicks:Math.ceil(o/i)}},io=function(n){var e=[];return 0===n.length?10:(n.forEach((function(n){e.push(Math.max.apply(Math,Object(p.a)(n.map((function(n){return n.y})))))})),Math.max.apply(Math,e))},ao=function(n,e){var t=lo(n);return n/Math.pow(10,t)<3?Math.pow(10,t-1):Math.pow(10,t)},co=function(n){if(n>=100||n<.1){var e=n.toString();return"".concat(e[0],".").concat(e[1],"e").concat(lo(n))}return n<100&&n>=10?n.toFixed(0):n<10&&n>=1?n.toFixed(1):n.toFixed(2)},lo=function(n){var e=0;if(n>1){for(;n/Math.pow(10,e)>=10;)e++;return e}for(;n*Math.pow(10,e)<=.1;)e++;return 0===e?e:-1*e},so=function(n){var e=n.colors,t=n.data,r=Object(a.useRef)(null),o=Object(a.useState)(window.innerWidth-130),i=Object(Q.a)(o,2),c=i[0],l=i[1],s=Object(a.useState)(window.innerHeight-80),u=Object(Q.a)(s,2),d=u[0],b=u[1],p=Object(a.useCallback)((function(){l(window.innerWidth-130),b(window.innerHeight-120),no({canvas:r.current,data:t,colors:e})}),[t]);return Object(a.useEffect)((function(){return window.addEventListener("resize",p),no({canvas:r.current,data:t,colors:e}),function(){return window.removeEventListener("resize",p)}}),[p,t]),Object(ve.jsx)(uo,{ref:r,height:d,width:c})},uo=H.b.canvas(Gt||(Gt=Object(G.a)(["\n  border-radius: 5px;\n  background-color: var(--color-grey-lightest);\n"]))),bo=function(n){var e=n.selectedVariables,t=n.setSelectedVariables,r=ie().compounds,o=function(n){return-1!==e.findIndex((function(e){return e===n}))};return Object(ve.jsx)(po,{children:r.map((function(n,r){var i=oe[n.color];return Object(ve.jsxs)(mo,{onClick:function(){return function(n){var r=e.findIndex((function(e){return e===n}));t(-1!==r?[].concat(Object(p.a)(e.slice(0,r)),Object(p.a)(e.slice(r+1,e.length))):[].concat(Object(p.a)(e),[n]))}(r)},toggled:o(r),color:i,children:[Object(ve.jsx)(fo,{color:i,toggled:o(r)}),Object(ve.jsx)(ho,{children:n.symbol}),Object(ve.jsx)(jo,{children:e.includes(r)?Object(ve.jsx)(bt.a,{}):null})]},n.id)}))})},po=H.b.div(Ht||(Ht=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),mo=H.b.button(Xt||(Xt=Object(G.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: none;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    ",";\n  }\n"])),(function(n){return n.toggled?n.color:"var(--color-grey-lighter)"}),(function(n){return n.toggled?"opacity: 0.8":"background-color: var(--color-grey-lightest)"})),fo=H.b.div(Qt||(Qt=Object(G.a)(["\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n  background-color: ",";\n  margin-right: 1rem;\n  box-shadow: ",";\n"])),(function(n){return n.color}),(function(n){return n.toggled?"":"0 2px 5px -2px var(--color-grey-normal)"})),ho=H.b.span(Zt||(Zt=Object(G.a)(["\n  flex-grow: 1;\n  text-align: left;\n  font-size: 1rem;\n"]))),jo=H.b.div($t||($t=Object(G.a)(["\n  width: 1.1rem;\n  height: 1.1rem;\n  border: 2px solid var(--color-grey-darker);\n  border-radius: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    fill: var(--color-grey-darker);\n  }\n"]))),go=function(n){var e=n.optionsVisible,t=n.toggleOptionsVisible,r=n.selectedVariables,o=n.setSelectedVariables;return Object(ve.jsxs)(xo,{visible:e,children:[Object(ve.jsx)(vo,{onClick:t,children:Object(ve.jsx)(tn.j,{size:20})}),Object(ve.jsx)("h3",{children:"Variables"}),Object(ve.jsx)(bo,{selectedVariables:r,setSelectedVariables:o})]})},xo=H.b.div(nr||(nr=Object(G.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: calc(300px - 2rem);\n  padding: 1rem;\n  padding-top: 2rem;\n  transform: ",";\n  background-color: var(--color-grey-light);\n  transition: all 0.15s ease-in-out;\n  box-shadow: ",";\n"])),(function(n){return n.visible?"translateX(0px)":"translateX(300px)"}),(function(n){return n.visible?"0 0 20px -5px var(--color-grey-normal)":"unset"})),vo=H.b.div(er||(er=Object(G.a)(["\n  position: absolute;\n  top: 0.5rem;\n  left: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  border-radius: 5px;\n  transition: background-color 0.15s ease-in-out;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"]))),Oo=function(){var n=ae().simulationResults;return{variableData:function(e){return null===n||void 0===n?void 0:n.map((function(n){return{x:n.t,y:n[e]}}))}}},yo=function(){var n=Oo().variableData,e=ie().compounds,t=Object(a.useState)([0]),r=Object(Q.a)(t,2),o=r[0],i=r[1],c=Object(a.useState)(!1),l=Object(Q.a)(c,2),s=l[0],u=l[1],d=function(){return u(!s)},b=Object(a.useMemo)((function(){var t=[],r=[];return o.forEach((function(o){var i=e[o],a=n("[".concat(i.symbol,"]"));t.push(a),r.push(oe[i.color])})),[t,r]}),[o]),p=Object(Q.a)(b,2),m=p[0],f=p[1];return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Pe,{children:"Results"}),Object(ve.jsx)(ko,{onClick:d,children:"Options"}),Object(ve.jsx)(go,{optionsVisible:s,toggleOptionsVisible:d,selectedVariables:o,setSelectedVariables:i}),Object(ve.jsx)(so,{data:m,colors:f})]})},ko=H.b.button(tr||(tr=Object(G.a)(["\n  float: right;\n  margin-bottom: 0.5rem;\n  padding: 0.8rem;\n  background-color: var(--color-grey-lighter);\n  border: none;\n  font-size: 1rem;\n  border-radius: 5px;\n\n  &:hover {\n    background-color: var(--color-grey-lightest);\n  }\n"]))),wo=function(){var n=ae().simulationResults;return Object(ve.jsxs)(Z.d,{children:[Object(ve.jsx)(Z.b,{path:"/",exact:!0,component:at}),Object(ve.jsx)(Z.b,{path:"/compounds",component:at}),Object(ve.jsx)(Z.b,{path:"/reactions",component:Zr}),Object(ve.jsx)(Z.b,{path:"/settings",component:gt}),Object(ve.jsx)(Z.b,{path:"/batch-simulator",children:Object(ve.jsx)(Z.a,{to:{pathname:"/"}})}),Object(ve.jsx)(Z.b,{path:"/results",component:yo,children:(null===n||void 0===n?void 0:n.length)?Object(ve.jsx)(yo,{}):Object(ve.jsx)(Z.a,{to:{pathname:"/"}})})]})},Co=function(){return Object(ve.jsx)(d.a,{store:K,children:Object(ve.jsxs)(u.a,{children:[Object(ve.jsx)(X,{}),Object(ve.jsx)(Se,{children:Object(ve.jsx)(wo,{})})]})})},So=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,262)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;t(n),r(n),o(n),i(n),a(n)}))};s.a.render(Object(ve.jsx)(c.a.StrictMode,{children:Object(ve.jsx)(Co,{})}),document.getElementById("root")),So()}},[[261,1,2]]]);
//# sourceMappingURL=main.45e5504b.chunk.js.map