(this["webpackJsonpbatch-simulator"]=this["webpackJsonpbatch-simulator"]||[]).push([[0],{154:function(n,e,t){},163:function(n,e){},165:function(n,e){},175:function(n,e){},177:function(n,e){},204:function(n,e){},205:function(n,e){},210:function(n,e){},212:function(n,e){},219:function(n,e){},238:function(n,e){},259:function(n,e,t){"use strict";t.r(e);var r,o,i,a,c,l,s,u,d,p,b,m,f,h,j,g,v,x,O,y,k,w,C,S,T,E,I,z,R,F,N,U,M,V,_,D,B,A,J,q,W,Y,K,P,L,H,G,X,Q,Z,$,nn,en,tn,rn,on,an,cn,ln,sn,un,dn,pn,bn,mn,fn,hn,jn,gn,vn=t(2),xn=t.n(vn),On=t(56),yn=t.n(On),kn=(t(154),t(57)),wn=t(50),Cn=t(27),Sn=t(14),Tn=function(n){try{var e=localStorage.getItem(n);if(null===e)return;return JSON.parse(e)}catch(t){return}},En=function(n,e){try{var t=JSON.stringify(n);localStorage.setItem(e,t)}catch(r){console.error(r)}},In="batch-simulator:compounds",zn=Tn(In)||[],Rn=Object(Cn.b)({name:"compounds",initialState:zn,reducers:{add:function(n,e){return[].concat(Object(Sn.a)(n),[e.payload])},update:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));if(-1===t)return n;n[t]=e.payload.compound},remove:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));return-1===t?n:[].concat(Object(Sn.a)(n.slice(0,t)),Object(Sn.a)(n.slice(t+1,n.length)))},reset:function(){return[]}}}),Fn=Rn.actions,Nn=Fn.add,Un=Fn.update,Mn=Fn.remove,Vn=Fn.reset,_n=Rn.reducer,Dn="batch-simulator:reactions",Bn=Tn(Dn)||[],An=Object(Cn.b)({name:"reactions",initialState:Bn,reducers:{reset:function(n){return[]},add:function(n,e){return[].concat(Object(Sn.a)(n),[e.payload])},update:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));if(-1===t)return n;n[t]=e.payload.reaction},remove:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));return-1===t?n:[].concat(Object(Sn.a)(n.slice(0,t)),Object(Sn.a)(n.slice(t+1,n.length)))},removeCompound:function(n,e){var t=e.payload.id;return n.forEach((function(n){n.reactants=n.reactants.filter((function(n){return n.compoundId!==t})),n.products=n.products.filter((function(n){return n.compoundId!==t})),n.keyCompound===t&&(n.keyCompound=void 0)})),n}}}),Jn=An.actions,qn=Jn.reset,Wn=Jn.add,Yn=Jn.update,Kn=Jn.remove,Pn=Jn.removeCompound,Ln=An.reducer,Hn=t(58),Gn=t(9),Xn="batch-simulator:settings",Qn=Tn(Xn)||{reactionTime:30,deadTime:30,timeStep:.1,timeUnits:0,volumeUnits:0,molarUnits:0,massUnits:0,temperatureUnits:0,energyUnits:0,isothermal:!0,initialTemperature:300},Zn=Object(Cn.b)({name:"settings",initialState:Qn,reducers:{reset:function(){return Qn},save:function(n,e){return e.payload},saveField:function(n,e){return Object(Gn.a)(Object(Gn.a)({},n),{},Object(Hn.a)({},e.payload.field,e.payload.value))}}}),$n=Zn.actions,ne=$n.reset,ee=$n.save,te=$n.saveField,re=Zn.reducer,oe=Object(Cn.b)({name:"simulationResults",initialState:[],reducers:{save:function(n,e){return e.payload}}}),ie=oe.actions.save,ae=oe.reducer,ce=Object(Cn.a)({reducer:{compounds:_n,reactions:Ln,settings:re,simulationResults:ae}}),le=ce,se=t(3),ue=t(4),de=Object(ue.a)(r||(r=Object(se.a)(["\n  :root {\n    --color-primary-darkest: hsl(213,48%,15%);\n    --color-primary-darker: hsl(213,48%,30%);\n    --color-primary-dark: hsl(213,48%,50%);\n    --color-primary-normal: hsl(213,48%,70%);\n    --color-primary-light: hsl(213,48%,85%);\n    --color-primary-lighter: hsl(213,48%,95%);\n\n    --color-triadic-green-darker: hsl(93,40%,30%);\n    --color-triadic-green-dark: hsl(93,40%,45%);\n    --color-triadic-green-normal: hsl(93,40%,70%);\n    --color-triadic-green-light: hsl(93,40%,85%);\n    --color-triadic-green-lighter: hsl(93,40%,95%);\n\n    --color-triadic-red-darker: hsl(333,48%,30%);\n    --color-triadic-red-dark: hsl(333,48%,45%);\n    --color-triadic-red-normal: hsl(333,48%,70%);\n    --color-triadic-red-light: hsl(333,48%,85%);\n    --color-triadic-red-lighter: hsl(333,48%,95%);\n\n    --color-grey-darker: hsl(213, 20%, 15%);\n    --color-grey-dark: hsl(213, 20%, 30%);\n    --color-grey-normal: hsl(213, 20%, 45%);\n    --color-grey-light: hsl(213, 20%, 70%);\n    --color-grey-lighter: hsl(213, 20%, 85%);\n    --color-grey-lightest: hsl(213, 20%, 95%);\n  }\n  \n  body {\n    margin: 0;\n    background-color: var(--color-grey-lighter);\n    font-family: 'Mulish', sans-serif;\n\n    @media (max-width: 800px) {\n      margin-top: 0;\n    }\n  }\n\n  a, button {\n    cursor: pointer;\n  }\n\n  a, button, input {\n    transition: all 0.15s ease-in-out;\n  }\n\n  /* Scrollbar */\n  /* Width */\n  ::-webkit-scrollbar {\n    opacity: 0;\n    width: 5px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    background: var(--color-grey-lighter); \n  }\n  \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    opacity: 0;\n    border-radius: 10px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    opacity: 0;\n  }\n\n  @keyframes slide-in {\n    from {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n\n    to {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n  }\n\n  @keyframes slide-out {\n    from {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n    \n    to {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n  }\n"]))),pe=de,be=t(7),me=t(12),fe=ue.b.button(o||(o=Object(se.a)(["\n  align-items: center;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  font-size: 1.1rem;\n  justify-content: space-between;\n  padding: 5px 10px;\n  text-decoration: none;\n\n  ","\n\n  &:hover {\n    ","\n  }\n\n  /* Any additional custom styles */\n  ","\n"])),(function(n){return je(n.color)}),(function(n){return ge(n.color)}),(function(n){var e;return null!==(e=n.buttonStyle)&&void 0!==e?e:""})),he=fe,je=function(n){switch(n){case"red":return"\n        background-color: var(--color-triadic-red-dark);\n        color: var(--color-grey-lightest);\n      ";case"green":return"\n        background-color: var(--color-triadic-green-dark);\n        color: var(--color-grey-lightest);\n      ";case"grey":return"\n        background-color: var(--color-grey-dark);\n        color: var(--color-grey-lightest);\n      ";default:return"\n        background-color: var(--color-primary-dark);\n        color: var(--color-grey-lightest);\n      "}},ge=function(n){switch(n){case"red":return"\n        background-color: var(--color-triadic-red-darker);\n      ";case"green":return"\n        background-color: var(--color-triadic-green-darker);\n      ";case"grey":return"\n        background-color: var(--color-grey-darker);\n      ";default:return"\n        background-color: var(--color-primary-darker);\n      "}},ve=t(8),xe=t(89),Oe=t(147),ye=function(){return Object(wn.b)()},ke=wn.c,we=function(){var n=ye(),e=ke((function(n){return n.settings}));return Object(vn.useEffect)((function(){En(e,Xn)}),[e]),{settings:e,resetSettings:function(){n(ne())},saveSettings:function(e){n(ee(e))},saveField:function(e,t){n(te({field:e,value:t}))}}},Ce=t(43),Se=t.n(Ce),Te="parameter",Ee="variable",Ie="operator",ze="left-parenthesis",Re="right-parenthesis",Fe=0,Ne=1,Ue=0,Me=1,Ve=2,_e=function(){var n=ye(),e=ke((function(n){return n.reactions}));return Object(vn.useEffect)((function(){En(e,Dn)}),[e]),{reactions:e,resetReactions:function(){n(qn())},addReaction:function(){var e={id:Se.a.generate(8),name:"",reactants:[],products:[],kineticModel:Ue,kineticConstants:{"k_\\inf":"1000000",E_A:"30000"},kineticEquation:[{type:Te,value:"<k_\\inf>"},{type:Ie,value:"*"},{type:Te,value:"e"},{type:Ie,value:"^"},{type:ze,value:"("},{type:ze,value:"("},{type:Ie,value:"-"},{type:Te,value:"<E_A>"},{type:Re,value:")"},{type:Ie,value:"/"},{type:ze,value:"("},{type:Te,value:"<R>"},{type:Ie,value:"*"},{type:Ee,value:"{T}"},{type:Re,value:")"},{type:Re,value:")"}]};n(Wn(e))},updateReaction:function(e,t){n(Yn({id:e,reaction:t}))},removeCompoundFromReactions:function(e){n(Pn({id:e}))},removeReaction:function(e){n(Kn({id:e}))}}},De=["blue1","pink3","yellow","skyBlue2","red2","green1","skyBlue1","orange","violet1","pink1","lime","waterGreen2","red1","blue2","green2","pink2","waterGreen1","violet2"],Be={orange:"hsl(30, 80%, 65%)",yellow:"hsl(50, 80%, 65%)",lime:"hsl(70, 80%, 65%)",green1:"hsl(90, 80%, 65%)",green2:"hsl(110, 80%, 65%)",waterGreen1:"hsl(130, 80%, 65%)",waterGreen2:"hsl(150, 80%, 65%)",skyBlue1:"hsl(170, 80%, 65%)",skyBlue2:"hsl(190, 80%, 65%)",blue1:"hsl(210, 80%, 65%)",blue2:"hsl(230, 80%, 65%)",violet1:"hsl(250, 80%, 65%)",violet2:"hsl(270, 80%, 65%)",pink1:"hsl(290, 80%, 65%)",pink2:"hsl(310, 80%, 65%)",pink3:"hsl(330, 80%, 65%)",red1:"hsl(350, 80%, 65%)",red2:"hsl(10, 80%, 65%)"},Ae=function(){var n=ye(),e=ke((function(n){return n.compounds})),t=_e(),r=t.resetReactions,o=t.removeCompoundFromReactions;Object(vn.useEffect)((function(){En(e,In)}),[e]);var i=function(){var n=De,t={};n.forEach((function(n){return t[n]=!1})),e.forEach((function(n){return t[n.color]=!0}));for(var r,o=0;o<n.length&&!r;)t[n[o]]||(r=n[o]),o++;return r||"blue1"};return{compounds:e,addCompound:function(){var e={id:Se.a.generate(8),color:i(),concentration:0,molecularWeight:0,symbol:"A",name:""};n(Nn(e))},findCompound:function(n){return e.find((function(e){return e.id===n}))},updateCompound:function(e,t){n(Un({id:e,compound:t}))},removeCompound:function(e){o(e),n(Mn({id:e}))},removeAllCompounds:function(){r(),n(Vn())}}},Je=function(){var n=ye();return{simulationResults:ke((function(n){return n.simulationResults})),saveSimulationResults:function(e){n(ie(e))}}},qe=["K","R","\xb0C","\xb0F"],We=["ms","s","min","h"],Ye=["mg","g","kg","lb"],Ke=["mol","kmol","lbmol"],Pe=["L","m3","cm3"],Le=["cal","kcal","J","kJ"],He=function(n){return We[n]},Ge=function(n){return Pe[n]},Xe=function(n){return Ye[n]},Qe=function(n){return Ke[n]},Ze=function(n){return qe[n]},$e=function(n){return Le[n]},nt=function(n){return n.map((function(n,e){return{value:e,displayText:n,collapsedDisplayText:n}}))},et=nt(We),tt=nt(Ye),rt=nt(Ke),ot=nt(Pe),it=nt(qe),at=nt(Le),ct={energy:{J:1,kJ:.001,cal:.239006,kcal:239006e-9},mass:{kg:1,g:.001,mg:1e-6,lb:2.20462},molar:{mol:1,kmol:.001,lbmol:.00220462},time:{s:1,min:1/60,h:1/3600,ms:1e3},temperature:{K:1,R:1.8,"\xb0C":1,"\xb0F":1.8},volume:{L:1,m3:.001,cm3:1e3}},lt=function(){var n=we().settings,e=n.energyUnits,t=(n.massUnits,n.molarUnits),r=n.temperatureUnits,o=(n.timeUnits,n.volumeUnits,{R:function(){return 8.314*function(){var n=$e(e);return ct.energy[n]}()/function(){var n=Ze(r);return ct.temperature[n]}()/function(){var n=Qe(t);return ct.molar[n]}()},e:function(){return 2.7182818}});return function(n){return o[n].call(null)}},st={"^":"right","*":"left","/":"left","+":"left","-":"left"},ut={"^":4,"*":3,"/":3,"+":2,"-":2},dt=function(n){return ut[n.value]||1},pt=function(n){return st[n.value]||"left"},bt=function(n){for(var e=0,t=!1;e<n.length;)n[e].type===ze?t=!0:(!t||"+"!==n[e].value&&"-"!==n[e].value||(n[e].type=Te,"+"===n[e].value?n[e].value=1:n[e].value=-1,n=[].concat(Object(Sn.a)(n.slice(0,e+1)),[{type:Ie,value:"*"}],Object(Sn.a)(n.slice(e+1,n.length)))),t=!1),e++;return n},mt=function(n,e){var t=ft(n),r=0;return n.reactants.forEach((function(n){n.compoundId===e&&(r=-t/n.stoichiometricCoefficient)})),0!==r||n.products.forEach((function(n){n.compoundId===e&&(r=t/n.stoichiometricCoefficient)})),r},ft=function(n){return n.reactants.find((function(e){return e.compoundId===n.keyCompound})).stoichiometricCoefficient},ht=function(){var n=lt(),e=Ae().compounds,t=_e().reactions,r=we().settings,o=Je().saveSimulationResults,i=function(){var n=[];return t.forEach((function(t,r){var o={};o.kineticEquation=a(t),o.kineticEquation=function(n){var e=bt(n),t=[],r=[],o=function(n){return n.slice(-1)[0]};return e.forEach((function(n){if(n.type===Te||n.type===Ee)t.push(n);else if(n.type===Ie){for(;o(r)&&o(r).type===Ie&&("left"===pt(n)&&dt(n)<=dt(o(r))||"right"===pt(n)&&dt(n)<dt(o(r)));)t.push(r.pop());r.push(n)}else if(n.type===ze)r.push(n);else if(n.type===Re){for(;o(r)&&o(r).type!==ze;)t.push(r.pop());r.pop()}})),t.concat(r.reverse())}(o.kineticEquation),o.compounds=c(t,e),n.push(o)})),n},a=function(e){var t=JSON.parse(JSON.stringify(e.kineticEquation));return t.forEach((function(r,o){if(r.type===Te){var i=r.value.replace(/<|>/g,"");e.kineticConstants[i]?r.value=parseFloat(e.kineticConstants[i]):r.value=n(i)}else r.type===Ee&&(r.value=r.value.replace(/{|}/g,""));t[o]=r})),t},c=function(n,e){var t=[];return n.reactants.forEach((function(r){var o,i=Object.assign({},{compoundId:r.compoundId,symbol:"[".concat(null===(o=e.find((function(n){return n.id===r.compoundId})))||void 0===o?void 0:o.symbol,"]"),coefficient:mt(n,r.compoundId)});t.push(i)})),n.products.forEach((function(r){var o,i=Object.assign({},{compoundId:r.compoundId,symbol:"[".concat(null===(o=e.find((function(n){return n.id===r.compoundId})))||void 0===o?void 0:o.symbol,"]"),coefficient:mt(n,r.compoundId)});t.push(i)})),t};return{simulate:function(){var n=i(),t={t:0,T:r.initialTemperature};e.forEach((function(n){return t["[".concat(n.symbol,"]")]=n.concentration}));var a=jt(t,n,r);o(a)}}},jt=function(n,e,t){for(var r=[n],o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,o={next:function(){var o;return r[r.length-1].t<n?(o={done:!1},gt(e,t,r),o):{done:!0}}};return o}(t.reactionTime,t.timeStep),i=o.next();!i.done;)i=o.next();return r},gt=function(n,e,t){var r=JSON.parse(JSON.stringify(t[t.length-1])),o={t:0,T:r.T},i=n.map((function(n){return xt(n,r)}));Object.entries(r).forEach((function(t){var a=Object(be.a)(t,2),c=a[0],l=a[1];if("t"!==c){var s=vt(n,i,c);o[c]=Ot(r[c]+s*e)}else o.t=l+e})),t.push(o)},vt=function(n,e,t){var r=0;return n.forEach((function(n,o){var i,a=null===(i=n.compounds)||void 0===i?void 0:i.find((function(n){return n.symbol===t}));a&&(r+=e[o]*a.coefficient)})),r},xt=function(n,e){var t,r=[];return null===(t=n.kineticEquation)||void 0===t||t.forEach((function(n){if(n.type===Te)r.push(n.value);else if(n.type===Ee)r.push(e[n.value]);else{var t=r.pop(),o=r.pop();switch(n.value){case"+":r.push(o+t);break;case"-":r.push(o-t);break;case"*":r.push(o*t);break;case"/":r.push(o/t);break;case"^":r.push(Math.pow(o,t))}}})),r[0]},Ot=function(n){return n<0?0:n},yt=t(1),kt=function(){var n=ht().simulate,e=Je().simulationResults,t=Object(me.g)(),r=Object(vn.useState)(!1),o=Object(be.a)(r,2),i=o[0],a=o[1],c=function(n){t.push(n),a(!1)},l={size:25};return Object(yt.jsx)(Tt,{expanded:i,children:Object(yt.jsxs)("nav",{children:[Object(yt.jsx)("button",{onClick:function(n){n.preventDefault(),a(!i)},id:"hamburger",children:Object(yt.jsx)(Ct,{children:Object(yt.jsx)(St,{children:Object(yt.jsx)(ve.e,Object(Gn.a)({},l))})})}),Object(yt.jsx)(wt,{onClick:function(){return c("/compounds")},title:"Compounds",icon:Object(yt.jsx)(xe.a,Object(Gn.a)({},l))}),Object(yt.jsx)(wt,{onClick:function(){return c("/reactions")},title:"Reactions",icon:Object(yt.jsx)(Oe.a,Object(Gn.a)({},l))}),Object(yt.jsx)(wt,{onClick:function(){return c("/settings")},title:"Settings",icon:Object(yt.jsx)(ve.h,Object(Gn.a)({},l))}),e&&Object(yt.jsx)(wt,{onClick:function(){return c("/results")},title:"Results",icon:Object(yt.jsx)(xe.b,Object(Gn.a)({},l))}),Object(yt.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),n(),t.push("/results")},children:Object(yt.jsxs)(Ct,{children:[Object(yt.jsx)(St,{children:Object(yt.jsx)(ve.f,Object(Gn.a)({},l))}),Object(yt.jsx)("p",{children:"Simulate"})]})})]})})},wt=function(n){var e=n.icon,t=n.onClick,r=n.title;return Object(yt.jsx)(he,{onClick:t,children:Object(yt.jsxs)(Ct,{children:[Object(yt.jsx)(St,{children:e}),Object(yt.jsx)("p",{children:r})]})})},Ct=ue.b.div(i||(i=Object(se.a)(["\n  padding: 0.7rem 0.5rem;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n"]))),St=ue.b.div(a||(a=Object(se.a)(["\n  width: 25px;\n  height: 25px;\n  margin-right: 0.5rem;\n  @media only screen and (max-width: 750px) {\n    margin-right: 0;\n  }\n"]))),Tt=ue.b.div(c||(c=Object(se.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 20;\n  height: 100vh;\n  max-width: ",";\n  @media screen and (max-width: 750px) {\n    height: 80px;\n    width: 100vw;\n    max-width: 100vw;\n    position: fixed;\n  }\n  flex-grow: 0;\n  flex-shrink: 0;\n  transition: all 0.15s linear;\n  background-color: var(--color-grey-normal);\n\n  nav {\n    margin: 1rem;\n    display: flex;\n    flex-direction: column;\n    @media screen and (max-width: 750px) {\n      flex-direction: row;\n      margin: 0 1rem;\n      align-items: center;\n      height: 100%;\n    }\n\n    a,\n    button {\n      align-items: center;\n      background-color: var(--color-grey-normal);\n      border: none;\n      border-radius: 5px;\n      color: var(--color-grey-lightest);\n      display: flex;\n      font-size: 1.2rem;\n      justify-content: space-between;\n      margin-bottom: 10px;\n      padding: 5px 10px;\n      text-decoration: none;\n\n      &:hover {\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n\n      p {\n        margin: 0;\n      }\n\n      @media screen and (max-width: 750px) {\n        margin-bottom: 0;\n\n        p {\n          display: none;\n        }\n      }\n    }\n  }\n\n  @media screen and (max-width: 750px) {\n    #hamburger {\n      display: none;\n    }\n  }\n"])),(function(n){return n.expanded?"270px":"90px"})),Et=function(n){var e=n.children;return Object(yt.jsxs)(It,{children:[Object(yt.jsx)(kt,{}),Object(yt.jsx)(zt,{id:"scroll-target",children:Object(yt.jsx)(Rt,{children:e})})]})},It=ue.b.div(l||(l=Object(se.a)(["\n  height: 100vh;\n"]))),zt=ue.b.div(s||(s=Object(se.a)(["\n  background: var(--color-grey-light);\n  flex-grow: 1;\n  height: 100vh;\n  margin-left: 90px;\n  @media screen and (max-width: 750px) {\n    margin-left: 0;\n    padding-top: 80px;\n    height: calc(100vh - 80px);\n  }\n  position: relative;\n  overflow-y: scroll;\n"]))),Rt=ue.b.div(u||(u=Object(se.a)(["\n  margin: 20px;\n"]))),Ft=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{serialize:JSON.stringify,deserialize:JSON.parse},r=t.serialize,o=t.deserialize,i=Object(vn.useState)((function(){var t=window.localStorage.getItem(n);return t?o(t):"function"===typeof e?e():e})),a=Object(be.a)(i,2),c=a[0],l=a[1],s=Object(vn.useRef)(n);return Object(vn.useEffect)((function(){var e=s.current;e!==n&&(window.localStorage.removeItem(e),s.current=n),window.localStorage.setItem(n,r(c))}),[n,r,c]),[c,l]},Nt="1.0.0",Ut=function(){var n=Ft("currentVersion"),e=Object(be.a)(n,2),t=e[0],r=e[1],o=Ae().removeAllCompounds,i=we().resetSettings;Object(vn.useEffect)((function(){t!==Nt&&(r(Nt),o(),i())}),[])},Mt=ue.b.h2(d||(d=Object(se.a)(["\n  color: var(--color-grey-lightest);\n  font-size: 20px;\n  margin-top: 0;\n  display: inline-block;\n"]))),Vt=Mt,_t=ue.b.button(p||(p=Object(se.a)(["\n  align-items: center;\n  align-self: stretch;\n  background-color: unset;\n  border: none;\n  border-radius: 5px;\n  color: var(--color-grey-normal);\n  cursor: pointer;\n  display: flex;\n  font-size: 1.5em;\n  margin-left: 0.2rem;\n  padding: 0.5rem;\n  transition: all 0.15s ease-in-out;\n  z-index: 2;\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.3);\n    color: var(--color-grey-dark);\n  }\n"]))),Dt=_t,Bt=function(n){var e=n.compound,t=n.editCompound,r=n.removeCompound;return Object(yt.jsx)(At,{children:Object(yt.jsxs)(Jt,{children:[Object(yt.jsx)(qt,{color:e.color,children:e.symbol}),Object(yt.jsx)(Dt,{onClick:t,children:Object(yt.jsx)(ve.c,{})}),Object(yt.jsx)(Dt,{onClick:r,children:Object(yt.jsx)(ve.i,{})})]})})},At=ue.b.li(b||(b=Object(se.a)([""]))),Jt=ue.b.div(m||(m=Object(se.a)(["\n  margin: 5px;\n  padding: 20px;\n  position: relative;\n\n  align-items: center;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  border: 1.5px solid var(--color-grey-lightest);\n  display: flex;\n  color: var(--color-grey-lightest);\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  button {\n    padding: 0.8rem;\n  }\n"]))),qt=ue.b.div(f||(f=Object(se.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 1px solid var(--color-grey-normal);\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  font-size: 1.6rem;\n  padding: 0.5rem 0.9rem;\n  margin-right: 1rem;\n"])),(function(n){return Be[n.color]})),Wt=t(62),Yt=function(n){var e=n.children,t=n.closing,r=n.setClosing,o=n.handleClose,i=function(){r(!0),setTimeout((function(){o()}),250)};return Object(vn.useEffect)((function(){t&&i()}),[t]),Object(yt.jsx)(Kt,{closing:t,children:Object(yt.jsxs)(Pt,{closing:t,children:[Object(yt.jsx)(Lt,{onClick:i,closing:t,children:Object(yt.jsx)(ve.j,{})}),e]})})},Kt=ue.b.div(h||(h=Object(se.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  background-color: rgba(0, 0, 0, 0.15);\n\n  animation-name: dim-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  /* Override animation upon modal close */\n  ","\n\n  @keyframes dim-in {\n    from {\n      background-color: rgba(0, 0, 0, 0);\n    }\n\n    to {\n      background-color: rgba(0, 0, 0, 0.15);\n    }\n  }\n\n  @keyframes dim-out {\n    from {\n      background-color: rgba(0, 0, 0, 0.15);\n    }\n\n    to {\n      background-color: rgba(0, 0, 0, 0);\n    }\n  }\n"])),(function(n){return n.closing?"\n    animation-name: dim-out;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n  ":""})),Pt=ue.b.div(j||(j=Object(se.a)(["\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border: 1px solid var(--color-grey-lightest);\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  border-radius: 5px;\n  flex-grow: 1;\n  margin: 10px;\n  padding: 2rem;\n  padding-top: 3.5rem;\n  position: relative;\n  max-width: 700px;\n  max-height: 600px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  z-index: 3;\n\n  /* Override animation upon modal close */\n  ","\n\n  label {\n    color: var(--color-grey-darker);\n  }\n"])),(function(n){return n.closing?"\n    animation-name: slide-out;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n  ":""})),Lt=ue.b.button(g||(g=Object(se.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n\n  align-items: center;\n  background-color: unset;\n  border: none;\n  border-radius: 5px;\n  display: flex;\n  ","\n  font-size: 1.3rem;\n  padding: 0.5rem;\n  margin-bottom: 1rem;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"])),(function(n){return n.closing?"disabled: true;":""})),Ht=ue.b.div(v||(v=Object(se.a)(["\n  position: absolute;\n  ","\n\n  background-color: var(--color-triadic-red-darker);\n  border-radius: 5px;\n  box-shadow: 0px 0px 4px var(--color-triadic-red-darker);\n  color: white;\n  padding: 0.2rem 0.5rem;\n  pointer-events: none;\n  opacity: 0;\n  transform: translateY(105%);\n  z-index: 4;\n"])),(function(n){return n.big?"\n    bottom: 0.9rem;\n    right: 1rem;\n  ":"\n    bottom: 0.4rem;\n    right: 0.5rem;\n  "})),Gt=function(n){var e=n.big,t=n.children;return Object(yt.jsx)(Ht,{big:e,className:"error",children:t})},Xt=ue.b.input(x||(x=Object(se.a)(['\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-normal);\n  border-radius: 5px;\n  flex-grow: 1;\n  font-family: "Mulish", sans-serif;\n  min-width: 0;\n  width: 0;\n  outline: none;\n  padding: 0.5rem 1rem;\n  color: var(--color-grey-dark);\n\n  &:autofill {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  &:focus {\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  }\n\n  /**\n   * Remove arrows from number inputs\n   */\n\n  /* Chrome, Safari, Edge, Opera */\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  /* Firefox */\n  &[type="number"] {\n    -moz-appearance: textfield;\n  }\n\n  /** Overrides */\n  ',"\n  ","\n"])),(function(n){return n.transparent?"\n      background-color: rgba(255,255,255,0.2);\n      border-color: hsla(213, 20%, 15%, 0.5);\n      color: var(--color-grey-darker);\n\n      &:focus {\n        border-color: var(--color-grey-darker);\n        background-color: rgba(255,255,255,0.5);\n      }\n      ":""}),(function(n){return n.errors?"\n        border-color: var(--color-triadic-red-darker) !important\n      ":""})),Qt=Xt,Zt=function(n){var e=n.text;return Object(yt.jsxs)($t,{children:[Object(yt.jsx)(ve.d,{color:"hsl(213, 20%, 95%)",size:16}),Object(yt.jsx)(er,{children:Object(yt.jsx)(nr,{children:e})})]})},$t=ue.b.div(O||(O=Object(se.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background-color: var(--color-grey-normal);\n  margin-left: 0.5rem;\n  color: var(--color-white);\n  cursor: pointer;\n  position: relative;\n  &:hover > div > div {\n    opacity: 1;\n  }\n"]))),nr=ue.b.div(y||(y=Object(se.a)(['\n  position: relative;\n  opacity: 0;\n  transition: opacity 0.15s linear;\n  padding: 1rem;\n  background-color: var(--color-grey-normal);\n  border-radius: 5px;\n  margin-left: 1rem;\n  margin-bottom: 25px;\n  width: max-content;\n  max-width: 180px;\n  font-size: 1rem;\n  color: var(--color-grey-lightest);\n  overflow: visible;\n  filter: drop-shadow(0 1px 2px var(--color-grey-normal));\n  display: flex;\n\n  &:before {\n    position: absolute;\n    right: 50%;\n    bottom: 0;\n    transform: translateY(100%) translateX(50%);\n    content: "";\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 8px solid var(--color-grey-normal);\n  }\n']))),er=ue.b.div(k||(k=Object(se.a)(["\n  position: absolute;\n  display: flex;\n  right: 18px;\n  transform: translateX(50%) translateY(-50%);\n  pointer-events: none;\n"]))),tr=ue.b.div(w||(w=Object(se.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.5rem;\n  position: relative;\n\n  ","\n  ","\n\n  label {\n    ","\n    font-weight: 600;\n    color: ",";\n  }\n\n  input {\n    ","\n    width: 300px;\n    align-self: stretch;\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"])),(function(n){return n.color?"\n    background-color: ".concat(Be[n.color],";\n    border-radius: 5px;\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  "):""}),(function(n){return n.big?"\n    align-items: flex-start;\n    margin-bottom: 1.5rem;\n    padding: 1rem;\n  ":""}),(function(n){return n.big?"font-size: 1.5rem;":""}),(function(n){return n.color?"var(--color-grey-darker)":"var(--color-grey-dark)"}),(function(n){return n.big?"    \n    font-size: 3rem;\n    margin-left: 1rem;\n    width: 0;\n    ":"font-size: 1rem;"})),rr=ue.b.div(C||(C=Object(se.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex-basis: 50%;\n"]))),or=function(n){var e=n.big,t=n.color,r=n.error,o=n.fieldName,i=n.label,a=n.type,c=n.tooltip,l=n.transparent,s=n.value,u=n.onBlur,d=n.onChange;return Object(yt.jsxs)(tr,{color:t,big:e,children:[Object(yt.jsxs)(rr,{children:[Object(yt.jsx)("label",{htmlFor:o,children:i}),c&&Object(yt.jsx)(Zt,{text:c})]}),Object(yt.jsx)(Qt,{errors:!!r,name:o,type:a||"text",autoComplete:"off",onBlur:u||function(){},onChange:d,value:s,transparent:l}),r&&Object(yt.jsx)(Gt,{big:e,children:r})]})},ir=Object(ue.b)(he)(S||(S=Object(se.a)(["\n  align-self: stretch;\n  font-size: 1.2rem;\n  justify-content: center;\n  margin-top: 1.5rem;\n  padding: 0.5rem;\n  width: 100%;\n"]))),ar=function(n,e){return n===e},cr=function(n){return""!==n&&("number"===typeof n||!!n)},lr=function(n,e,t){return"number"===typeof n&&(n>e||!(n!==e||!t))},sr=function(n){var e=n.compound,t=n.closeModal,r=Ae(),o=r.compounds,i=r.updateCompound,a=we().settings,c=Object(vn.useState)(!1),l=Object(be.a)(c,2),s=l[0],u=l[1],d=o.findIndex((function(n){return n.id===e.id})),p=Qe(a.molarUnits),b=Ge(a.volumeUnits),m=Xe(a.massUnits),f=function(n,e){for(var t=0;t<o.length;t++)if(t!==d&&o[t][n]===e)return!1;return!0},h=Object(Wt.a)({initialValues:{symbol:e.symbol,concentration:e.concentration,name:e.name,molecularWeight:e.molecularWeight},validate:function(n){var e={};return cr(n.symbol)?f("symbol",n.symbol)||(e.symbol="Symbol is already used"):e.symbol="Symbol cannot be empty",cr(n.concentration)?lr(n.concentration,0,!0)||(e.concentration="Concentration cannot be lower than 0"):e.concentration="Concentration cannot be empty",cr(n.molecularWeight)?lr(n.molecularWeight,0,!0)||(e.molecularWeight="Molecular weight cannot be lower than 0"):e.molecularWeight="Molecular weight cannot be empty",e},onSubmit:function(n){var t=Object(Gn.a)(Object(Gn.a)({},e),n);i(e.id,t),window.scrollTo({top:0,behavior:"smooth"}),u(!0)}});return Object(yt.jsx)(Yt,{closing:s,setClosing:u,handleClose:t,children:Object(yt.jsxs)(ur,{onSubmit:h.handleSubmit,children:[Object(yt.jsx)(or,{fieldName:"symbol",label:"Symbol:",error:h.errors.symbol,onChange:function(n){h.handleChange(n)},value:h.values.symbol,color:e.color,big:!0,transparent:!0}),Object(yt.jsx)(or,{fieldName:"concentration",label:"Initial concentration [".concat(p,"/").concat(b,"]:"),error:h.errors.concentration,tooltip:"Concentration in the loaded mixture",type:"number",onChange:function(n){h.handleChange(n)},value:h.values.concentration}),Object(yt.jsx)(or,{fieldName:"molecularWeight",label:"Molecular weight [".concat(m,"/").concat(p,"]:"),error:h.errors.molecularWeight,type:"number",onChange:function(n){h.handleChange(n)},value:h.values.molecularWeight}),Object(yt.jsx)(or,{fieldName:"name",label:"Compound name (optional):",error:h.errors.name,onChange:function(n){h.handleChange(n)},value:h.values.name}),Object(yt.jsx)(ir,{color:"green",type:"submit",children:"Done"})]})})},ur=ue.b.form(T||(T=Object(se.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),dr=ue.b.p(E||(E=Object(se.a)(["\n  padding: 1rem;\n  color: var(--color-grey-dark);\n  font-style: italic;\n"]))),pr=function(n){var e=Ae(),t=e.compounds,r=e.updateCompound,o=e.removeCompound,i=Object(vn.useState)(void 0),a=Object(be.a)(i,2),c=a[0],l=a[1],s=function(n){return l(n)},u=Object(vn.useMemo)((function(){return c?t.find((function(n){return n.id===c})):void 0}),[t,c]);return Object(yt.jsxs)(br,{children:[0===t.length&&Object(yt.jsx)(dr,{children:"No compounds added yet"}),t.map((function(n,e){return Object(yt.jsx)(Bt,{compound:n,editCompound:function(){s(n.id)},updateCompound:function(n){r(n.id,n)},removeCompound:function(){o(n.id)},validateUnicity:function(n,r){for(var o=0;o<t.length;o++)if(o!==e&&t[o][n]===r)return!1;return!0}},e)})),c&&Object(yt.jsx)(sr,{compound:u,closeModal:function(){return s()}})]})},br=ue.b.ul(I||(I=Object(se.a)(["\n  align-self: stretch;\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding-left: 0;\n"]))),mr=function(){var n=Ae(),e=n.addCompound,t=n.removeAllCompounds;return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Vt,{children:"Compounds"}),Object(yt.jsxs)(he,{color:"green",onClick:e,children:["Add ",Object(yt.jsx)(ve.g,{})]}),Object(yt.jsx)(he,{color:"red",buttonStyle:"\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.6rem 1rem;\n",onClick:function(){window.confirm("Are you sure you want to delete all compounds? This will also delete all reactions")&&t()},children:Object(yt.jsx)(ve.i,{size:20})}),Object(yt.jsx)(pr,{})]})},fr=function(n){var e=n.children;return Object(yt.jsx)(hr,{children:Object(yt.jsx)(jr,{children:e})})},hr=ue.b.div(z||(z=Object(se.a)(["\n  display: flex;\n  flex-basis: 50%;\n\n  @media only screen and (max-width: 940px) {\n    flex-basis: 100%;\n  }\n"]))),jr=ue.b.div(R||(R=Object(se.a)(["\n  flex-grow: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  flex-direction: column;\n  padding: 1rem;\n  margin: 1rem;\n  margin-bottom: 0;\n\n  h2 {\n    color: var(--color-grey-normal);\n    font-size: 1.2rem;\n    margin-top: 0;\n  }\n\n  input {\n    width: auto;\n  }\n"]))),gr=function(n){var e=n.formik,t=n.onBlur,r=n.onChange;return Object(yt.jsxs)(fr,{children:[Object(yt.jsx)("h2",{children:"Operating times"}),Object(yt.jsx)(or,{fieldName:"reactionTime",label:"Reaction time:",type:"number",value:e.values.reactionTime,error:e.errors.reactionTime,onBlur:t,onChange:r}),Object(yt.jsx)(or,{fieldName:"deadTime",label:"Dead time:",type:"number",tooltip:"Time needed for discharge, cleaning, etc.",value:e.values.deadTime,error:e.errors.deadTime,onBlur:t,onChange:r}),Object(yt.jsx)(or,{fieldName:"timeStep",label:"Time step:",type:"number",tooltip:"Small time interval for numerical calculation purposes",value:e.values.timeStep,error:e.errors.timeStep,onBlur:t,onChange:r})]})},vr=function(n){var e=n.alignment,t=n.defaultDisplayValue,r=n.hoverIcon,o=n.initialValue,i=n.onSelectionChange,a=n.selectOptions,c=Object(vn.useState)(!1),l=Object(be.a)(c,2),s=l[0],u=l[1],d=Object(vn.useState)((null===o||void 0===o?void 0:o.value)||void 0),p=Object(be.a)(d,2),b=p[0],m=p[1],f=Object(vn.useRef)(Se.a.generate(8)),h=Object(vn.useRef)(null);Object(vn.useEffect)((function(){o&&m(o.value),h.current=document.getElementById(f.current)}),[]),Object(vn.useEffect)((function(){h.current=s?document.getElementById(f.current):null}),[s]);var j=Object(vn.useCallback)((function(n){var e;(null===(e=h.current)||void 0===e?void 0:e.contains(n.target))||(g(),u(!1))}),[]),g=function(){s?window.removeEventListener("click",j,!0):window.addEventListener("click",j,!0),u(!s)},v=function(n){g(),m(n),i(n)},x=a.find((function(n){return n.value===b}));return Object(yt.jsxs)(xr,{id:f.current,children:[Object(yt.jsxs)(Or,{selecting:s,onClick:g,children:[Object(yt.jsx)("p",{children:(null===x||void 0===x?void 0:x.collapsedDisplayText)||t}),Object(yt.jsx)(ve.b,{size:10})]}),s&&Object(yt.jsxs)(yr,{alignment:e||"left",children:[t&&Object(yt.jsx)(kr,{onClick:function(){return v(void 0)},children:Object(yt.jsx)("p",{children:t})}),a.map((function(n){var e=n.value,t=n.displayText,o=n.hoverBackgroundColor;return Object(yt.jsxs)(kr,{onClick:function(){v(e)},hoverBackgroundColor:o,children:[Object(yt.jsx)("p",{children:t}),Object(yt.jsx)("span",{children:r})]},e)}))]})]})},xr=ue.b.div(F||(F=Object(se.a)(["\n  position: relative;\n  flex: 1;\n"]))),Or=ue.b.div(N||(N=Object(se.a)(["\n  align-items: center;\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-normal);\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  font-size: 1.1rem;\n  outline: none;\n  padding: 5px 10px;\n  transition: all 0.15s linear;\n  ","\n\n  & > p {\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  & > svg {\n    margin-left: 0.5rem;\n  }\n"])),(function(n){return n.selecting?"box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15),\n    0px 0px 2px var(--color-grey-normal);":""})),yr=ue.b.div(U||(U=Object(se.a)(["\n  position: absolute;\n  top: 100%;\n\n  align-items: stretch;\n  ","\n  ","\n  background-color: var(--color-grey-lightest);\n  border: none;\n  border-radius: 5px;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15),\n    0px 0px 2px var(--color-grey-normal);\n  display: flex;\n  flex-direction: column;\n  font-size: 1.2rem;\n  margin-top: 0.5rem;\n  max-height: 400px;\n  overflow-y: scroll;\n  padding: 0.5rem;\n  transition: all 0.05s linear;\n  width: auto;\n  z-index: 20;\n"])),(function(n){return"left"===n.alignment?"left: 0;":""}),(function(n){return"right"===n.alignment?"right: 0;":""})),kr=ue.b.button(M||(M=Object(se.a)(["\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  font-size: 1rem;\n  text-align: left;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n\n  &:hover {\n    background-color: ",";\n\n    & > span {\n      opacity: 1;\n    }\n  }\n\n  & > p {\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  & > span {\n    display: inline-flex;\n    align-items: center;\n    opacity: 0;\n    transition: opacity 0.15s linear;\n  }\n"])),(function(n){return n.hoverBackgroundColor||"var(--color-grey-lighter)"})),wr=ue.b.div(V||(V=Object(se.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: flex-start;\n  padding: 0.5rem;\n  position: relative;\n\n  label {\n    font-weight: 600;\n    color: var(--color-grey-dark);\n    margin-right: 1rem;\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"]))),Cr=ue.b.div(_||(_=Object(se.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-basis: 50%;\n  align-items: center;\n"]))),Sr=function(n){var e=n.fieldName,t=n.label,r=n.selectOptions,o=n.tooltip,i=n.selectedOption,a=n.onSelectionChange,c=r.find((function(n){return n.value===i.value}));return Object(yt.jsxs)(wr,{children:[Object(yt.jsxs)(Cr,{children:[Object(yt.jsx)("label",{htmlFor:e,children:t}),o&&Object(yt.jsx)(Zt,{text:o})]}),Object(yt.jsx)(vr,{initialValue:c,selectOptions:r,onSelectionChange:a})]})},Tr=function(n){var e=n.formik;return Object(yt.jsxs)(fr,{children:[Object(yt.jsx)("h2",{children:"Units"}),Object(yt.jsx)(Sr,{selectedOption:et[e.values.timeUnits],fieldName:"timeUnits",label:"Time units:",selectOptions:et,onSelectionChange:function(n){e.setFieldValue("timeUnits",n,!1),e.handleSubmit()}}),Object(yt.jsx)(Sr,{selectedOption:ot[e.values.volumeUnits],fieldName:"volumeUnits",label:"Volume units:",selectOptions:ot,onSelectionChange:function(n){e.setFieldValue("volumeUnits",n,!1),e.handleSubmit()}}),Object(yt.jsx)(Sr,{selectedOption:rt[e.values.molarUnits],fieldName:"molarUnits",label:"Molar units:",selectOptions:rt,onSelectionChange:function(n){e.setFieldValue("molarUnits",n,!1),e.handleSubmit()}}),Object(yt.jsx)(Sr,{selectedOption:tt[e.values.massUnits],fieldName:"massUnits",label:"Mass units:",selectOptions:tt,onSelectionChange:function(n){e.setFieldValue("massUnits",n,!1),e.handleSubmit()}}),Object(yt.jsx)(Sr,{selectedOption:it[e.values.temperatureUnits],fieldName:"temperatureUnits",label:"Temperature units:",selectOptions:it,onSelectionChange:function(n){e.setFieldValue("temperatureUnits",n,!1),e.handleSubmit()}}),Object(yt.jsx)(Sr,{selectedOption:at[e.values.energyUnits],fieldName:"energyUnits",label:"Energy units:",selectOptions:at,onSelectionChange:function(n){e.setFieldValue("energyUnits",n,!1),e.handleSubmit()}})]})},Er=t(61),Ir=function(n){var e=n.fieldName,t=n.formik,r=n.label,o=n.tooltip,i=e,a=t.values[i],c=t.errors[i];return Object(yt.jsxs)(zr,{children:[Object(yt.jsx)(Fr,{onClick:function(){t.setFieldValue(e,!t.values[i],!1),t.handleSubmit()},toggled:!!a,children:a&&Object(yt.jsx)(Er.a,{size:10})}),Object(yt.jsxs)(Rr,{children:[Object(yt.jsx)("label",{htmlFor:e,children:r}),o&&Object(yt.jsx)(Zt,{text:o})]}),c&&Object(yt.jsx)(Gt,{children:c})]})},zr=ue.b.div(D||(D=Object(se.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: flex-start;\n  padding: 0.5rem;\n  position: relative;\n\n  label {\n    font-weight: 600;\n    color: var(--color-grey-dark);\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"]))),Rr=ue.b.div(B||(B=Object(se.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Fr=ue.b.div(A||(A=Object(se.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  border: 2px solid var(--color-grey-normal);\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 0.5rem;\n\n  svg {\n    fill: var(--color-grey-lightest);\n  }\n"])),(function(n){return n.toggled?"var(--color-grey-normal)":"var(--color-grey-lightest)"})),Nr=function(n){var e=n.formik,t=n.onBlur,r=n.onChange,o=we().settings,i=Ze(o.temperatureUnits);return Object(yt.jsxs)(fr,{children:[Object(yt.jsx)("h2",{children:"Heat Exchange"}),Object(yt.jsx)(Ir,{fieldName:"isothermic",label:"Isothermic system",formik:e}),Object(yt.jsx)(or,{fieldName:"initialTemperature",label:"Initial Temperature [".concat(i,"]:"),type:"number",value:e.values.initialTemperature,error:e.errors.initialTemperature,onBlur:t,onChange:r})]})},Ur=function(){var n=we(),e=n.settings,t=n.saveSettings,r=Object(Wt.a)({initialValues:Object(Gn.a)({},e),validate:function(n){var e=n.deadTime,t=n.initialTemperature,r=n.timeStep,o=n.reactionTime,i={};return cr(o)?lr(o,0,!0)||(i.reactionTime="Reaction time cannot be lower than 0"):i.reactionTime="Reaction time cannot be empty",cr(e)?lr(e,0,!0)||(i.deadTime="Dead time cannot be lower than 0"):i.deadTime="Dead time cannot be empty",cr(r)?lr(r,0,!1)||(i.timeStep="Time step has to be greater than 0"):i.timeStep="Time step cannot be empty",cr(r)?!ar(t,"K")&&!ar(t,"R")||lr(t,0,!1)?ar(t,"\xb0C")&&!lr(t,-273.15,!1)?i.initialTemperature="Initial temperature cannot be equal or lower than -273.15":ar(t,"\xb0F")&&!lr(t,-459.67,!1)&&(i.initialTemperature="Initial temperature cannot be equal or lower than -459.67"):i.initialTemperature="Initial temperature cannot be equal or lower than 0":i.initialTemperature="Initial temperature cannot be empty",i},onSubmit:function(n){t(n)}}),o=function(){r.handleSubmit()},i={formik:r,onBlur:o,onChange:function(n){return r.handleChange(n)}};return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Vt,{children:"Operation"}),Object(yt.jsxs)(Mr,{children:[Object(yt.jsx)(gr,Object(Gn.a)({},i)),Object(yt.jsx)(Tr,Object(Gn.a)({},i)),Object(yt.jsx)(Nr,Object(Gn.a)({},i))]})]})},Mr=ue.b.form(J||(J=Object(se.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 1rem;\n"]))),Vr=ue.b.p(q||(q=Object(se.a)(["\n  color: var(--color-grey-normal);\n  font-style: italic;\n  margin: 0.5rem;\n"]))),_r=function(n){var e=n.reaction,t=Ae().findCompound;return Object(yt.jsxs)(Dr,{children:[0===e.reactants.length&&0===e.products.length&&Object(yt.jsx)(Vr,{children:"No reaction data"}),e.reactants.map((function(n,e){var r=t(n.compoundId);return Object(yt.jsxs)(vn.Fragment,{children:[0!==e&&Object(yt.jsx)(ve.g,{size:25}),Object(yt.jsxs)(Br,{children:[Object(yt.jsx)("p",{children:n.stoichiometricCoefficient}),Object(yt.jsx)(Ar,{color:r.color,children:r.symbol})]})]},n.compoundId)})),e.reactants.length>0&&e.products.length>0&&Object(yt.jsx)(ve.a,{size:25}),e.products.map((function(n,e){var r=t(n.compoundId);return Object(yt.jsxs)(vn.Fragment,{children:[0!==e&&Object(yt.jsx)(ve.g,{size:25}),Object(yt.jsxs)(Br,{children:[Object(yt.jsx)("p",{children:n.stoichiometricCoefficient}),Object(yt.jsx)(Ar,{color:r.color,children:r.symbol})]})]},n.compoundId)}))]})},Dr=ue.b.div(W||(W=Object(se.a)(["\n  align-items: center;\n  display: flex;\n  flex-grow: 1;\n  min-height: 3rem;\n"]))),Br=ue.b.div(Y||(Y=Object(se.a)(["\n  align-items: flex-end;\n  display: flex;\n  margin: 0 0.5rem;\n\n  p {\n    color: var(--color-grey-dark);\n    font-size: 1.6rem;\n    margin: 0 0 0.2rem 0;\n  }\n"]))),Ar=ue.b.div(K||(K=Object(se.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 1px solid var(--color-grey-normal);\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  font-size: 1.6rem;\n  margin: 0 0.5rem;\n  padding: 0.5rem 0.9rem;\n"])),(function(n){return Be[n.color]})),Jr=function(n){var e=n.reaction,t=n.reactionIndex,r=n.editReaction,o=n.removeReaction;return Object(yt.jsxs)(qr,{children:[Object(yt.jsxs)(Yr,{children:[Object(yt.jsxs)(Wr,{children:["#".concat(t+1)," ",e.name?" - ".concat(e.name):""]}),Object(yt.jsx)(_r,{reaction:e})]}),Object(yt.jsx)(Dt,{onClick:r,children:Object(yt.jsx)(ve.c,{})}),Object(yt.jsx)(Dt,{onClick:o,children:Object(yt.jsx)(ve.i,{})})]})},qr=ue.b.div(P||(P=Object(se.a)(["\n  margin: 10px;\n  padding: 20px;\n  position: relative;\n\n  align-items: center;\n  align-self: stretch;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  border: 1.5px solid var(--color-grey-lightest);\n  display: flex;\n  color: var(--color-grey-dark);\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  p:not(:first-child) {\n    flex-grow: 1;\n    margin: 0;\n  }\n"]))),Wr=ue.b.p(L||(L=Object(se.a)(["\n  color: var(--color-grey-normal);\n  flex-grow: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin: 0;\n  padding-left: 0.6rem;\n  padding-bottom: 0.5rem;\n"]))),Yr=ue.b.div(H||(H=Object(se.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),Kr=t(90),Pr=["Simple","Hiperbolic","Autocatalytic"],Lr=function(n,e,t){switch(n){case Me:return Gr(e,t);case Ve:return Xr(e,t);default:return Hr(e,t)}},Hr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Qr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Gn.a)({},t)},Gr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=$r(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Gn.a)({},t)},Xr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Qr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),n.products.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Zr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Gn.a)({},t)},Qr=function(n){return"\\alpha_".concat(n.symbol)},Zr=function(n){return"\\beta_".concat(n.symbol)},$r=function(n){return"K_".concat(n.symbol)},no=ue.b.div(G||(G=Object(se.a)(["\n  border-top: 1px solid var(--color-grey-light);\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 2rem;\n  padding: 2rem 1rem 0rem;\n\n  h2 {\n    color: var(--color-grey-dark);\n    font-size: 20px;\n    margin-top: 0;\n  }\n"]))),eo=Object(ue.b)(no)(X||(X=Object(se.a)(["\n  flex-direction: column;\n  flex-wrap: nowrap;\n"]))),to=function(n){var e=n.compound,t=n.reactionCompound,r=n.updateCompound,o=n.removeCompound,i=Object(vn.useState)(t.stoichiometricCoefficient),a=Object(be.a)(i,2),c=a[0],l=a[1];return Object(yt.jsxs)(ro,{color:e.color,children:[Object(yt.jsx)("h1",{children:e.symbol}),Object(yt.jsx)(Qt,{value:c,type:"number",onChange:function(n){""!==n.target.value?l(parseFloat(n.target.value)):l("")},onBlur:function(){cr(c)?r(Object(Gn.a)(Object(Gn.a)({},t),{},{stoichiometricCoefficient:c})):l(t.stoichiometricCoefficient)},transparent:!0}),Object(yt.jsx)(Dt,{onClick:o,children:Object(yt.jsx)(ve.i,{})})]})},ro=ue.b.div(Q||(Q=Object(se.a)(["\n  margin: 5px;\n  padding: 1rem 1.3rem;\n  position: relative;\n\n  align-items: center;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: ",";\n  border-radius: 5px;\n  color: var(--color-grey-dark);\n  display: flex;\n  cursor: pointer;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    & {\n      box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n      transform: translateY(-2px);\n    }\n  }\n\n  h1 {\n    flex-grow: 1;\n    font-size: 1.8rem;\n    margin: 0;\n  }\n\n  input {\n    font-size: 1.3rem;\n    width: 0px;\n  }\n\n  button {\n    opacity: 1;\n    margin-left: 0.5rem;\n  }\n"])),(function(n){return Be[n.color]})),oo=function(n){var e=n.reactionCompounds,t=n.removeCompound,r=n.updateCompound,o=n.compoundType,i=Ae().findCompound;return Object(yt.jsx)(yt.Fragment,{children:e.map((function(n){var a=i(n.compoundId),c=e.findIndex((function(e){return e.compoundId===n.compoundId}));return Object(yt.jsx)(to,{compound:a,reactionCompound:n,updateCompound:function(n){r(c,o,n)},removeCompound:function(){t(c,o)}},n.compoundId)}))})},io=function(n){var e=n.tokenizedEquation,t=[],r=[],o=[];return e.forEach((function(n){if(n.type===ze)r.push([]);else if(n.type===Re){var e=r.pop(),i=0===r.length?t:r[r.length-1];if(o.length>0&&o[o.length-1].level===r.length){var a=o.pop();if("/"===a.code){var c=i.pop();i.push(Object(yt.jsx)(lo,{numerator:c,denominator:Object(yt.jsx)(co,{elements:e})}))}else if("^"===a.code){var l=i.pop();i.push(Object(yt.jsx)(uo,{base:l,power:Object(yt.jsx)(co,{elements:e})}))}else"-"!==a.code&&"+"!==a.code||(i.push(a.code),i.push(Object(yt.jsx)(co,{elements:e})))}else i.push(Object(yt.jsx)(co,{elements:e}))}else if(n.type===Te||n.type===Ee)if(r.length>0)r[r.length-1].push(Object(yt.jsx)(ao,{symbol:n.value.replace(/<|>|{|}/g,"")}));else if(o.length>0){var s=o.pop();if("/"===s.code){var u=t.pop();t.push(Object(yt.jsx)(lo,{numerator:u,denominator:Object(yt.jsx)(ao,{symbol:n.value.replace(/<|>|{|}/g,"")})}))}else if("^"===s.code){var d=t.pop();t.push(Object(yt.jsx)(uo,{base:d,power:Object(yt.jsx)(ao,{symbol:n.value.replace(/<|>|{|}/g,"")})}))}}else t.push(Object(yt.jsx)(ao,{symbol:n.value.replace(/<|>|{|}/g,"")}));else n.type===Ie&&("/"===n.value||"^"===n.value?o.push({code:n.value,level:r.length}):r.length>0?"+"===n.value||"-"===n.value?r[r.length-1].push(Object(yt.jsx)(yt.Fragment,{children:n.value})):"*"===n.value&&r[r.length-1].push(Object(yt.jsx)(yt.Fragment,{children:"."})):"+"===n.value||"-"===n.value?t.push(Object(yt.jsx)(yt.Fragment,{children:n.value})):"*"===n.value&&t.push(Object(yt.jsx)(yt.Fragment,{children:"."})))})),Object(yt.jsx)(yt.Fragment,{children:t.map((function(n,e){return Object(yt.jsx)(vn.Fragment,{children:n},e)}))})},ao=function(n){var e=n.symbol.split("_");e.forEach((function(n,t){switch(n){case"\\alpha":e[t]=Object(yt.jsx)(fo,{});break;case"\\beta":e[t]=Object(yt.jsx)(ho,{});break;case"\\mu":e[t]=Object(yt.jsx)(jo,{});break;case"\\inf":e[t]=Object(yt.jsx)(go,{})}}));for(var t=e.length-1;t>0;t--){var r=e.pop();e[t-1]=Object(yt.jsx)(bo,{base:e[t-1],subindex:r})}return e[0]},co=function(n){var e=n.elements;return Object(yt.jsx)(yt.Fragment,{children:e.map((function(n,e){return Object(yt.jsx)(vn.Fragment,{children:n},e)}))})},lo=function(n){var e=n.numerator,t=n.denominator;return Object(yt.jsxs)(so,{children:[Object(yt.jsx)("div",{children:e}),Object(yt.jsx)("div",{}),Object(yt.jsx)("div",{children:t})]})},so=ue.b.div(Z||(Z=Object(se.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  & > div:not(:nth-child(2)) {\n    display: flex;\n    padding: 0.5rem;\n    position: relative;\n  }\n\n  & > div:nth-child(2) {\n    width: 100%;\n    height: 2px;\n    background-color: var(--color-grey-dark);\n  }\n"]))),uo=function(n){var e=n.base,t=n.power;return Object(yt.jsxs)(po,{children:[Object(yt.jsx)("div",{children:e}),Object(yt.jsx)("div",{className:"exponent",children:t})]})},po=ue.b.div($||($=Object(se.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  & > .exponent {\n    transform: translateY(-30%) scale(0.7);\n  }\n"]))),bo=function(n){var e=n.base,t=n.subindex;return Object(yt.jsxs)(mo,{children:[Object(yt.jsx)("div",{children:e}),Object(yt.jsx)("div",{className:"subindex",children:t})]})},mo=ue.b.div(nn||(nn=Object(se.a)(["\n  position: relative;\n  display: flex;\n\n  & > .subindex {\n    transform: translateY(30%) scale(0.75);\n  }\n"]))),fo=function(){return Object(yt.jsx)("span",{children:"\u03b1"})},ho=function(){return Object(yt.jsx)("span",{children:"\u03b2"})},jo=function(){return Object(yt.jsx)("span",{children:"\u03bc"})},go=function(){return Object(yt.jsx)("span",{children:"\u221e"})},vo=function(n){var e=n.reaction,t=(0,Ae().findCompound)(e.keyCompound),r=(null===t||void 0===t?void 0:t.symbol)||void 0;return Object(yt.jsxs)(xo,{children:[r&&Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(bo,{base:"r",subindex:r}),"\xa0=\xa0"]}),Object(yt.jsx)(io,{tokenizedEquation:e.kineticEquation})]})},xo=ue.b.div(en||(en=Object(se.a)(['\n  align-items: center;\n  align-self: stretch;\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-light);\n  border-radius: 5px;\n  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.1);\n  color: var(--color-grey-dark);\n  display: flex;\n  font-size: 1.8rem;\n  justify-content: center;\n  padding: 1.5rem;\n  margin: 1.5rem 0 1rem;\n\n  span {\n    font-family: "Comfortaa", symbol;\n  }\n']))),Oo=/(\d+(.\d+)?([eE]{1,1}[-]?\d+(.\d+)?)?)/g,yo=function(n){var e=n.paramSymbol,t=n.value,r=n.units,o=n.updateValue,i=Object(vn.useState)(t),a=Object(be.a)(i,2),c=a[0],l=a[1];return Object(yt.jsx)(ko,{children:Object(yt.jsxs)(wo,{children:[Object(yt.jsx)("h1",{children:e}),Object(yt.jsx)(Qt,{value:c,type:"text",onChange:function(n){if(""!==n.target.value){var e=n.target.value.split("").filter((function(n){return"0123456789.-+eE".indexOf(n)>-1})).join("");l(e)}else l("")},onBlur:function(){var n;if(cr(c)){var e=null===(n=c.match(Oo))||void 0===n?void 0:n[0];e?(o(e),l(e)):l(c)}else l(c)},transparent:!0}),r&&Object(yt.jsx)(Zt,{text:r})]})})},ko=ue.b.div(tn||(tn=Object(se.a)(["\n  flex-basis: 50%;\n  flex-shrink: 0;\n  position: relative;\n  z-index: 2;\n\n  @media screen and (max-width: 600px) {\n    flex-basis: 100%;\n  }\n\n  &:hover {\n    z-index: 3;\n  }\n"]))),wo=ue.b.div(rn||(rn=Object(se.a)(['\n  position: relative;\n  align-items: center;\n  background-color: var(--color-grey-light);\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  margin: 0.5rem;\n  padding: 1rem 1.3rem;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  h1 {\n    color: var(--color-grey-dark);\n    font-size: 1.6rem;\n    margin: 0;\n    margin-right: 1rem;\n    flex-grow: 1;\n\n    span {\n      /* Greek symbols */\n      font-family: "Comfortaa", symbol;\n    }\n  }\n\n  input {\n    font-size: 1.4rem;\n  }\n']))),Co=function(n){var e=n.reaction,t=n.updateKineticConstant,r=we().settings,o=e.kineticModel,i=He(r.timeUnits),a=Ze(r.temperatureUnits),c=Ge(r.volumeUnits),l=Qe(r.molarUnits),s=$e(r.energyUnits),u=[{type:Te,value:"".concat(i)},{type:Ie,value:"^"},{type:Te,value:"-1"}],d=[{type:Te,value:"".concat(i)},{type:Ie,value:"^"},{type:Te,value:"-1"}],p=Object.entries(null===e||void 0===e?void 0:e.kineticConstants).reduce((function(n,e){var t=Object(be.a)(e,2),r=t[0],o=t[1];return"k_\\inf"===r||"E_A"===r?n:n+parseFloat(o)}),0);1!==p&&(d.push({type:Ie,value:"*"}),d.push({type:Te,value:"".concat(c)}),d.push({type:Ie,value:"^"}),d.push({type:Te,value:"".concat(p-1)}),d.push({type:Ie,value:"*"}),d.push({type:Te,value:"".concat(l)}),d.push({type:Ie,value:"^"}),d.push({type:Te,value:"".concat(-(p-1))}));var b=[{type:Te,value:"".concat(s)},{type:Ie,value:"*"},{type:Te,value:"".concat(l)},{type:Ie,value:"^"},{type:Te,value:"-1"},{type:Ie,value:"*"},{type:Te,value:"".concat(a)},{type:Ie,value:"^"},{type:Te,value:"-1"}];return Object(yt.jsx)(So,{children:Object.entries(e.kineticConstants).map((function(n){var e,r=Object(be.a)(n,2),i=r[0],a=r[1];return"k_\\inf"===i&&(e=o===Me?Object(yt.jsx)(io,{tokenizedEquation:u}):Object(yt.jsx)(io,{tokenizedEquation:d})),"E_A"===i&&(e=Object(yt.jsx)(io,{tokenizedEquation:b})),Object(yt.jsx)(yo,{paramSymbol:Object(yt.jsx)(ao,{symbol:i}),value:a,units:e,updateValue:function(n){t(i,n)}},i)}))})},So=ue.b.div(on||(on=Object(se.a)(["\n  align-self: stretch;\n  background-color: var(--color-grey-lightest);\n  border-radius: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n\n  input {\n    margin-left: 0;\n  }\n"]))),To=function(n,e){var t=function(n){return e.find((function(e){return e.id===n}))},r=[];switch(n.kineticModel){case Me:return r.push({type:Te,value:"<k_\\inf>"}),Eo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;Ro(r,e)})),r;case Ve:return r.push({type:Te,value:"<k_\\inf>"}),Eo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;Io(r,e)})),n.products.forEach((function(n){var e=t(n.compoundId).symbol;zo(r,e)})),r;default:return r.push({type:Te,value:"<k_\\inf>"}),Eo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;Io(r,e)})),r}},Eo=function(n){n.push({type:Ie,value:"*"}),n.push({type:Te,value:"e"}),n.push({type:Ie,value:"^"}),n.push({type:ze,value:"("}),n.push({type:ze,value:"("}),n.push({type:Ie,value:"-"}),n.push({type:Te,value:"<E_A>"}),n.push({type:Re,value:")"}),n.push({type:Ie,value:"/"}),n.push({type:ze,value:"("}),n.push({type:Te,value:"<R>"}),n.push({type:Ie,value:"*"}),n.push({type:Ee,value:"{T}"}),n.push({type:Re,value:")"}),n.push({type:Re,value:")"})},Io=function(n,e){n.push({type:Ie,value:"*"}),n.push({type:Ee,value:"{[".concat(e,"]}")}),n.push({type:Ie,value:"^"}),n.push({type:Te,value:"<\\alpha_".concat(e,">")})},zo=function(n,e){n.push({type:Ie,value:"*"}),n.push({type:Ee,value:"{[".concat(e,"]}")}),n.push({type:Ie,value:"^"}),n.push({type:Te,value:"<\\beta_".concat(e,">")})},Ro=function(n,e){n.push({type:Ie,value:"*"}),n.push({type:Ee,value:"{[".concat(e,"]}")}),n.push({type:Ie,value:"/"}),n.push({type:ze,value:"("}),n.push({type:Te,value:"<K_".concat(e,">")}),n.push({type:Ie,value:"+"}),n.push({type:Ee,value:"{[".concat(e,"]}")}),n.push({type:Re,value:")"})},Fo=function(n){var e=n.compounds,t=n.reaction,r=n.closeModal,o=Ae().findCompound,i=_e(),a=i.reactions,c=i.updateReaction,l=Object(vn.useState)(!1),s=Object(be.a)(l,2),u=s[0],d=s[1],p=a.findIndex((function(n){return n.id===t.id})),b=Object(vn.useState)(JSON.parse(JSON.stringify(t))),m=Object(be.a)(b,2),f=m[0],h=m[1],j=Object(vn.useRef)(document.getElementById("scroll-target")),g=Object(vn.useState)(void 0),v=Object(be.a)(g,2),x=v[0],O=v[1],y=Object(vn.useState)(void 0),k=Object(be.a)(y,2),w=k[0],C=k[1],S=Object(vn.useMemo)((function(){return e.filter((function(n){var e,t=Object(Kr.a)(f.reactants);try{for(t.s();!(e=t.n()).done;){if(e.value.compoundId===n.id)return!1}}catch(r){t.e(r)}finally{t.f()}return!0})).map((function(n){return{value:e.findIndex((function(e){return e.id===n.id})),displayText:n.symbol,collapsedDisplayText:n.symbol,hoverBackgroundColor:Be[n.color]}}))}),[f.reactants]),T=Object(vn.useMemo)((function(){return e.filter((function(n){var e,t=Object(Kr.a)(f.products);try{for(t.s();!(e=t.n()).done;){if(e.value.compoundId===n.id)return!1}}catch(r){t.e(r)}finally{t.f()}return!0})).map((function(n){return{value:e.findIndex((function(e){return e.id===n.id})),displayText:n.symbol,collapsedDisplayText:n.symbol,hoverBackgroundColor:Be[n.color]}}))}),[f.products]),E=function(n){return n===Fe?"reactants":"products"},I=function(n,t){var r=E(t),o=JSON.parse(JSON.stringify(f));o[r].push({compoundId:n,stoichiometricCoefficient:1});var i=Lr(o.kineticModel,o,e);o.kineticConstants=i,o.kineticEquation=To(o,e),h(o)},z=function(n,e,t){var r=E(e),o=Object(Gn.a)({},f);o[r][n]=t,h(o)},R=function(n,t){var r=E(t),o=Object(Gn.a)({},f),i=o[r][n];o[r]=[].concat(Object(Sn.a)(o[r].slice(0,n)),Object(Sn.a)(o[r].slice(n+1,o[r].length))),i.compoundId===f.keyCompound&&(o.keyCompound=void 0);var a=Lr(o.kineticModel,o,e);o.kineticConstants=a,o.kineticEquation=To(o,e),h(o)},F=x?{value:x,displayText:e[x].symbol,collapsedDisplayText:e[x].symbol}:void 0,N=w?{value:w,displayText:e[w].symbol,collapsedDisplayText:e[w].symbol}:void 0;return Object(yt.jsxs)(Yt,{closing:u,setClosing:d,handleClose:r,children:[Object(yt.jsx)(_r,{reaction:f}),Object(yt.jsx)("br",{}),Object(yt.jsx)(No,{children:Object(yt.jsx)(or,{fieldName:"name",label:"Reaction name:",onChange:function(n){h(Object(Gn.a)(Object(Gn.a)({},f),{},{name:n.target.value}))},value:f.name})}),Object(yt.jsxs)(no,{children:[Object(yt.jsxs)(Uo,{children:[Object(yt.jsx)("h2",{children:"Reactants"}),Object(yt.jsx)(Vo,{children:Object(yt.jsx)(vr,{defaultDisplayValue:"Compound...",hoverIcon:Object(yt.jsx)(ve.g,{}),initialValue:F,selectOptions:S,onSelectionChange:function(n){void 0!==n&&I(e[n].id,Fe),O(void 0)}})}),Object(yt.jsx)(Mo,{children:0!==f.reactants.length?Object(yt.jsx)(oo,{reactionIndex:p,reactionCompounds:f.reactants,removeCompound:R,updateCompound:z,compoundType:Fe}):Object(yt.jsx)(Vr,{children:"No compounds..."})})]}),Object(yt.jsxs)(Uo,{children:[Object(yt.jsx)("h2",{children:"Products"}),Object(yt.jsx)(Vo,{children:Object(yt.jsx)(vr,{defaultDisplayValue:"Compound...",hoverIcon:Object(yt.jsx)(ve.g,{}),initialValue:N,selectOptions:T,onSelectionChange:function(n){void 0!==n&&I(e[n].id,Ne),C(void 0)}})}),Object(yt.jsx)(Mo,{children:0!==f.products.length?Object(yt.jsx)(oo,{reactionIndex:p,reactionCompounds:f.products,removeCompound:R,updateCompound:z,compoundType:Ne}):Object(yt.jsx)(Vr,{children:"No compounds..."})})]})]}),Object(yt.jsxs)(eo,{children:[Object(yt.jsx)("h2",{children:"Kinetics"}),Object(yt.jsxs)(No,{children:[Object(yt.jsx)("p",{children:"Kinetic model"}),Object(yt.jsx)(vr,{initialValue:{value:f.kineticModel,displayText:Pr[f.kineticModel],collapsedDisplayText:Pr[f.kineticModel]},selectOptions:Pr.map((function(n,e){return{value:e,displayText:n,collapsedDisplayText:n}})),onSelectionChange:function(n){var t=JSON.parse(JSON.stringify(f));t.kineticConstants=Lr(n,f,e),t.kineticModel=n,t.kineticEquation=To(t,e),h(t)}})]}),Object(yt.jsxs)(No,{children:[Object(yt.jsx)("p",{children:"Key compound"}),Object(yt.jsx)(vr,{defaultDisplayValue:"Reactant...",initialValue:void 0!==f.keyCompound?{value:f.keyCompound,displayText:o(f.keyCompound).symbol,collapsedDisplayText:o(f.keyCompound).symbol}:void 0,selectOptions:f.reactants.map((function(n){return{value:n.compoundId,displayText:o(n.compoundId).symbol,collapsedDisplayText:o(n.compoundId).symbol}})),onSelectionChange:function(n){var e=JSON.parse(JSON.stringify(f));e.keyCompound=n,h(e)}})]}),Object(yt.jsx)(vo,{reaction:f}),Object(yt.jsx)(Co,{reaction:f,compounds:e,updateKineticConstant:function(n,e){var t=JSON.parse(JSON.stringify(f));t.kineticConstants[n]=e,h(t)}})]}),Object(yt.jsx)(ir,{color:"green",onClick:function(){var n;c(t.id,f),null===j||void 0===j||null===(n=j.current)||void 0===n||n.scrollTo({top:0,behavior:"smooth"}),d(!0)},children:"Done"})]})},No=ue.b.div(an||(an=Object(se.a)(["\n  display: flex;\n  align-items: center;\n  width: 50%;\n\n  p {\n    color: var(--color-grey-dark);\n    flex-grow: 1;\n    font-size: 1rem;\n    margin-right: 1.4rem;\n    flex-basis: 50%;\n  }\n\n  div {\n    flex-basis: 45%;\n  }\n\n  @media screen and (max-width: 750px) {\n    width: 100%;\n  }\n"]))),Uo=ue.b.div(cn||(cn=Object(se.a)(["\n  flex-basis: 50%;\n\n  @media (max-width: 700px) {\n    flex-basis: 100%;\n  }\n"]))),Mo=ue.b.div(ln||(ln=Object(se.a)(["\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-light);\n  border-radius: 5px;\n  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.1);\n  margin: 0.5rem 0.3rem;\n  padding: 0.5rem;\n"]))),Vo=ue.b.div(sn||(sn=Object(se.a)(["\n  display: flex;\n  margin: 0.3rem;\n\n  & > button {\n    margin-left: 0.5rem;\n  }\n"]))),_o=function(){var n=Ae().compounds,e=_e(),t=e.reactions,r=e.removeReaction,o=Object(vn.useState)(void 0),i=Object(be.a)(o,2),a=i[0],c=i[1],l=function(n){return c(n)},s=Object(vn.useMemo)((function(){return a?t.find((function(n){return n.id===a})):void 0}),[t,a]);return Object(yt.jsxs)(yt.Fragment,{children:[0===t.length&&Object(yt.jsx)(dr,{children:"No reactions added yet"}),t.map((function(n,e){return Object(yt.jsx)(Jr,{reaction:n,reactionIndex:e,editReaction:function(){l(n.id)},removeReaction:function(){r(n.id)},children:"Reaction"},e)})),a&&Object(yt.jsx)(Fo,{compounds:n,reaction:s,closeModal:function(){return l()}})]})},Do=function(){var n=_e(),e=n.addReaction,t=n.resetReactions;return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Vt,{children:"Reactions"}),Object(yt.jsxs)(he,{color:"green",onClick:e,children:["Add ",Object(yt.jsx)(ve.g,{})]}),Object(yt.jsx)(he,{color:"red",buttonStyle:"\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.6rem 1rem;\n",onClick:function(){window.confirm("Are you sure you want to delete all reactions?")&&t()},children:Object(yt.jsx)(ve.i,{size:20})}),Object(yt.jsx)(_o,{})]})},Bo=30,Ao=function(n){var e=n.canvas,t=n.data,r=n.colors,o=e.getContext("2d");if(o){o.clearRect(0,0,o.canvas.width,o.canvas.height),o.lineWidth=1;var i=Yo({height:o.canvas.height,data:t});Jo({context:o,ticks:i}),qo({context:o,ticks:i}),Wo({context:o,data:t,colors:r,yAxisTicks:i})}},Jo=function(n){for(var e=n.context,t=n.ticks,r=e.canvas.width,o=e.canvas.height,i=o-60,a=t.totalTicks,c=t.tickDistance,l=1;l<=a;l++){var s=o-Bo-i*l/a;e.beginPath(),e.strokeStyle="hsl(213, 20%, 20%)",e.moveTo(10,s),e.lineTo(Bo,s),e.stroke(),e.beginPath(),e.strokeStyle="hsl(213, 20%, 85%)",e.moveTo(Bo,s),e.lineTo(r-Bo,s),e.stroke(),e.font="16px Mulish",e.fillStyle="hsl(213, 20%, 80%)",e.textAlign="right",e.fillText(Lo(l*c),r-Bo,s+18)}e.strokeStyle="hsl(213, 20%, 20%)",e.beginPath(),e.moveTo(Bo,Bo),e.lineTo(Bo,o-Bo),e.stroke()},qo=function(n){var e=n.context,t=(n.ticks,e.canvas.height),r=e.canvas.width;e.strokeStyle="hsl(213, 20%, 30%)",e.beginPath(),e.moveTo(Bo,t-Bo),e.lineTo(r-Bo,t-Bo),e.stroke()},Wo=function(n){for(var e,t=n.colors,r=n.context,o=n.data,i=n.yAxisTicks,a=0!==o.length?null===(e=o[0][o[0].length-1])||void 0===e?void 0:e.x:10,c=i.tickDistance*i.totalTicks,l=r.canvas.width-60,s=r.canvas.height-60,u=0;u<o.length;u++){r.beginPath();for(var d=new Path2D,p=o[u],b=t[u],m=1;m<p.length;m++)d.moveTo(Bo+l*p[m-1].x/a,Bo+s*(1-p[m-1].y/c)),d.lineTo(Bo+l*p[m].x/a,Bo+s*(1-p[m].y/c));r.lineWidth=4,r.strokeStyle=b,r.stroke(d)}},Yo=function(n){var e=n.data,t=n.height,r=Math.floor((t-Bo)/50)||10,o=Ko(e)||10,i=Po(o,r);return{tickDistance:i,totalTicks:Math.ceil(o/i)}},Ko=function(n){var e=[];return 0===n.length?10:(n.forEach((function(n){e.push(Math.max.apply(Math,Object(Sn.a)(n.map((function(n){return n.y})))))})),Math.max.apply(Math,e))},Po=function(n,e){var t=Ho(n);return n/Math.pow(10,t)<3?Math.pow(10,t-1):Math.pow(10,t)},Lo=function(n){if(n>=100||n<.1){var e=n.toString();return"".concat(e[0],".").concat(e[1],"e").concat(Ho(n))}return n<100&&n>=10?n.toFixed(0):n<10&&n>=1?n.toFixed(1):n.toFixed(2)},Ho=function(n){var e=0;if(n>1){for(;n/Math.pow(10,e)>=10;)e++;return e}for(;n*Math.pow(10,e)<=.1;)e++;return 0===e?e:-1*e},Go=function(n){var e=n.colors,t=n.data,r=Object(vn.useRef)(null),o=Object(vn.useState)(window.innerWidth-130),i=Object(be.a)(o,2),a=i[0],c=i[1],l=Object(vn.useState)(window.innerHeight-80),s=Object(be.a)(l,2),u=s[0],d=s[1],p=Object(vn.useCallback)((function(){c(window.innerWidth-130),d(window.innerHeight-120),Ao({canvas:r.current,data:t,colors:e})}),[t]);return Object(vn.useEffect)((function(){return window.addEventListener("resize",p),Ao({canvas:r.current,data:t,colors:e}),function(){return window.removeEventListener("resize",p)}}),[p,t]),Object(yt.jsx)(Xo,{ref:r,height:u,width:a})},Xo=ue.b.canvas(un||(un=Object(se.a)(["\n  border-radius: 5px;\n  background-color: var(--color-grey-lightest);\n"]))),Qo=function(n){var e=n.selectedVariables,t=n.setSelectedVariables,r=Ae().compounds,o=function(n){return-1!==e.findIndex((function(e){return e===n}))};return Object(yt.jsx)(Zo,{children:r.map((function(n,r){var i=Be[n.color];return Object(yt.jsxs)($o,{onClick:function(){return function(n){var r=e.findIndex((function(e){return e===n}));t(-1!==r?[].concat(Object(Sn.a)(e.slice(0,r)),Object(Sn.a)(e.slice(r+1,e.length))):[].concat(Object(Sn.a)(e),[n]))}(r)},toggled:o(r),color:i,children:[Object(yt.jsx)(ni,{color:i,toggled:o(r)}),Object(yt.jsx)(ei,{children:n.symbol}),Object(yt.jsx)(ti,{children:e.includes(r)?Object(yt.jsx)(Er.a,{}):null})]},n.id)}))})},Zo=ue.b.div(dn||(dn=Object(se.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),$o=ue.b.button(pn||(pn=Object(se.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: none;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    ",";\n  }\n"])),(function(n){return n.toggled?n.color:"var(--color-grey-lighter)"}),(function(n){return n.toggled?"opacity: 0.8":"background-color: var(--color-grey-lightest)"})),ni=ue.b.div(bn||(bn=Object(se.a)(["\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n  background-color: ",";\n  margin-right: 1rem;\n  box-shadow: ",";\n"])),(function(n){return n.color}),(function(n){return n.toggled?"":"0 2px 5px -2px var(--color-grey-normal)"})),ei=ue.b.span(mn||(mn=Object(se.a)(["\n  flex-grow: 1;\n  text-align: left;\n  font-size: 1rem;\n"]))),ti=ue.b.div(fn||(fn=Object(se.a)(["\n  width: 1.1rem;\n  height: 1.1rem;\n  border: 2px solid var(--color-grey-darker);\n  border-radius: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    fill: var(--color-grey-darker);\n  }\n"]))),ri=function(n){var e=n.optionsVisible,t=n.toggleOptionsVisible,r=n.selectedVariables,o=n.setSelectedVariables;return Object(yt.jsxs)(oi,{visible:e,children:[Object(yt.jsx)(ii,{onClick:t,children:Object(yt.jsx)(ve.j,{size:20})}),Object(yt.jsx)("h3",{children:"Variables"}),Object(yt.jsx)(Qo,{selectedVariables:r,setSelectedVariables:o})]})},oi=ue.b.div(hn||(hn=Object(se.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: calc(300px - 2rem);\n  padding: 1rem;\n  padding-top: 2rem;\n  transform: ",";\n  background-color: var(--color-grey-light);\n  transition: all 0.15s ease-in-out;\n  box-shadow: ",";\n"])),(function(n){return n.visible?"translateX(0px)":"translateX(300px)"}),(function(n){return n.visible?"0 0 20px -5px var(--color-grey-normal)":"unset"})),ii=ue.b.div(jn||(jn=Object(se.a)(["\n  position: absolute;\n  top: 0.5rem;\n  left: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  border-radius: 5px;\n  transition: background-color 0.15s ease-in-out;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"]))),ai=function(){var n=Je().simulationResults;return{variableData:function(e){return null===n||void 0===n?void 0:n.map((function(n){return{x:n.t,y:n[e]}}))}}},ci=function(){var n=ai().variableData,e=Ae().compounds,t=Object(vn.useState)([0]),r=Object(be.a)(t,2),o=r[0],i=r[1],a=Object(vn.useState)(!1),c=Object(be.a)(a,2),l=c[0],s=c[1],u=function(){return s(!l)},d=Object(vn.useMemo)((function(){var t=[],r=[];return o.forEach((function(o){var i=e[o],a=n("[".concat(i.symbol,"]"));t.push(a),r.push(Be[i.color])})),[t,r]}),[o]),p=Object(be.a)(d,2),b=p[0],m=p[1];return Object(yt.jsxs)(yt.Fragment,{children:[Object(yt.jsx)(Vt,{children:"Results"}),Object(yt.jsx)(li,{onClick:u,children:"Options"}),Object(yt.jsx)(ri,{optionsVisible:l,toggleOptionsVisible:u,selectedVariables:o,setSelectedVariables:i}),Object(yt.jsx)(Go,{data:b,colors:m})]})},li=ue.b.button(gn||(gn=Object(se.a)(["\n  float: right;\n  margin-bottom: 0.5rem;\n  padding: 0.8rem;\n  background-color: var(--color-grey-lighter);\n  border: none;\n  font-size: 1rem;\n  border-radius: 5px;\n\n  &:hover {\n    background-color: var(--color-grey-lightest);\n  }\n"]))),si=function(){var n=Je().simulationResults;return Ut(),Object(yt.jsxs)(me.d,{children:[Object(yt.jsx)(me.b,{path:"/",exact:!0,component:mr}),Object(yt.jsx)(me.b,{path:"/compounds",component:mr}),Object(yt.jsx)(me.b,{path:"/reactions",component:Do}),Object(yt.jsx)(me.b,{path:"/settings",component:Ur}),Object(yt.jsx)(me.b,{path:"/batch-simulator",children:Object(yt.jsx)(me.a,{to:{pathname:"/"}})}),Object(yt.jsx)(me.b,{path:"/results",component:ci,children:(null===n||void 0===n?void 0:n.length)?Object(yt.jsx)(ci,{}):Object(yt.jsx)(me.a,{to:{pathname:"/"}})})]})},ui=function(){return Object(yt.jsx)(wn.a,{store:le,children:Object(yt.jsxs)(kn.a,{children:[Object(yt.jsx)(pe,{}),Object(yt.jsx)(Et,{children:Object(yt.jsx)(si,{})})]})})},di=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,260)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;t(n),r(n),o(n),i(n),a(n)}))};yn.a.render(Object(yt.jsx)(xn.a.StrictMode,{children:Object(yt.jsx)(ui,{})}),document.getElementById("root")),di()}},[[259,1,2]]]);
//# sourceMappingURL=main.13dd9dab.chunk.js.map