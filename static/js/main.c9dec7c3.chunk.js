(this["webpackJsonpbatch-simulator"]=this["webpackJsonpbatch-simulator"]||[]).push([[0],{154:function(n,e,t){},163:function(n,e){},165:function(n,e){},175:function(n,e){},177:function(n,e){},204:function(n,e){},205:function(n,e){},210:function(n,e){},212:function(n,e){},219:function(n,e){},238:function(n,e){},259:function(n,e,t){"use strict";t.r(e);var r,o,i,a,c,l,s,u,d,p,b,m,f,h,j,g,x,v,O,y,k,w,C,S,T,E,I,z,R,F,N,M,V,U,D,_,B,A,J,q,W,Y,K,P,L,H,G,X,Q,Z,$,nn,en,tn,rn,on,an,cn,ln,sn,un,dn,pn,bn,mn,fn,hn,jn,gn,xn=t(2),vn=t.n(xn),On=t(56),yn=t.n(On),kn=(t(154),t(57)),wn=t(50),Cn=t(27),Sn=t(14),Tn=function(n){try{var e=localStorage.getItem(n);if(null===e)return;return JSON.parse(e)}catch(t){return}},En=function(n,e){try{var t=JSON.stringify(n);localStorage.setItem(e,t)}catch(r){console.error(r)}},In="batch-simulator:compounds",zn=Tn(In)||[],Rn=Object(Cn.b)({name:"compounds",initialState:zn,reducers:{add:function(n,e){return[].concat(Object(Sn.a)(n),[e.payload])},update:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));if(-1===t)return n;n[t]=e.payload.compound},remove:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));return-1===t?n:[].concat(Object(Sn.a)(n.slice(0,t)),Object(Sn.a)(n.slice(t+1,n.length)))},reset:function(){return[]}}}),Fn=Rn.actions,Nn=Fn.add,Mn=Fn.update,Vn=Fn.remove,Un=Fn.reset,Dn=Rn.reducer,_n="batch-simulator:reactions",Bn=Tn(_n)||[],An=Object(Cn.b)({name:"reactions",initialState:Bn,reducers:{reset:function(n){return[]},add:function(n,e){return[].concat(Object(Sn.a)(n),[e.payload])},update:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));if(-1===t)return n;n[t]=e.payload.reaction},remove:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));return-1===t?n:[].concat(Object(Sn.a)(n.slice(0,t)),Object(Sn.a)(n.slice(t+1,n.length)))},removeCompound:function(n,e){var t=e.payload.id;return n.forEach((function(n){n.reactants=n.reactants.filter((function(n){return n.compoundId!==t})),n.products=n.products.filter((function(n){return n.compoundId!==t})),n.keyCompound===t&&(n.keyCompound=void 0)})),n}}}),Jn=An.actions,qn=Jn.reset,Wn=Jn.add,Yn=Jn.update,Kn=Jn.remove,Pn=Jn.removeCompound,Ln=An.reducer,Hn=t(58),Gn=t(9),Xn="batch-simulator:settings",Qn=Tn(Xn)||{reactionTime:30,deadTime:30,timeStep:.1,timeUnits:0,volumeUnits:0,molarUnits:0,massUnits:0,temperatureUnits:0,isothermal:!0,initialTemperature:300},Zn=Object(Cn.b)({name:"settings",initialState:Qn,reducers:{save:function(n,e){return e.payload},saveField:function(n,e){return Object(Gn.a)(Object(Gn.a)({},n),{},Object(Hn.a)({},e.payload.field,e.payload.value))}}}),$n=Zn.actions,ne=$n.save,ee=$n.saveField,te=Zn.reducer,re=Object(Cn.b)({name:"simulationResults",initialState:[],reducers:{save:function(n,e){return e.payload}}}),oe=re.actions.save,ie=re.reducer,ae=Object(Cn.a)({reducer:{compounds:Dn,reactions:Ln,settings:te,simulationResults:ie}}),ce=ae,le=t(3),se=t(4),ue=Object(se.a)(r||(r=Object(le.a)(["\n  :root {\n    --color-primary-darkest: hsl(213,48%,15%);\n    --color-primary-darker: hsl(213,48%,30%);\n    --color-primary-dark: hsl(213,48%,50%);\n    --color-primary-normal: hsl(213,48%,70%);\n    --color-primary-light: hsl(213,48%,85%);\n    --color-primary-lighter: hsl(213,48%,95%);\n\n    --color-triadic-green-darker: hsl(93,40%,30%);\n    --color-triadic-green-dark: hsl(93,40%,45%);\n    --color-triadic-green-normal: hsl(93,40%,70%);\n    --color-triadic-green-light: hsl(93,40%,85%);\n    --color-triadic-green-lighter: hsl(93,40%,95%);\n\n    --color-triadic-red-darker: hsl(333,48%,30%);\n    --color-triadic-red-dark: hsl(333,48%,45%);\n    --color-triadic-red-normal: hsl(333,48%,70%);\n    --color-triadic-red-light: hsl(333,48%,85%);\n    --color-triadic-red-lighter: hsl(333,48%,95%);\n\n    --color-grey-darker: hsl(213, 20%, 15%);\n    --color-grey-dark: hsl(213, 20%, 30%);\n    --color-grey-normal: hsl(213, 20%, 45%);\n    --color-grey-light: hsl(213, 20%, 70%);\n    --color-grey-lighter: hsl(213, 20%, 85%);\n    --color-grey-lightest: hsl(213, 20%, 95%);\n  }\n  \n  body {\n    margin: 0;\n    background-color: var(--color-grey-lighter);\n    font-family: 'Mulish', sans-serif;\n\n    @media (max-width: 800px) {\n      margin-top: 0;\n    }\n  }\n\n  a, button {\n    cursor: pointer;\n  }\n\n  a, button, input {\n    transition: all 0.15s ease-in-out;\n  }\n\n  /* Scrollbar */\n  /* Width */\n  ::-webkit-scrollbar {\n    opacity: 0;\n    width: 5px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    background: var(--color-grey-lighter); \n  }\n  \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    opacity: 0;\n    border-radius: 10px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    opacity: 0;\n  }\n\n  @keyframes slide-in {\n    from {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n\n    to {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n  }\n\n  @keyframes slide-out {\n    from {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n    \n    to {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n  }\n"]))),de=ue,pe=t(8),be=t(12),me=se.b.button(o||(o=Object(le.a)(["\n  align-items: center;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  font-size: 1.1rem;\n  justify-content: space-between;\n  padding: 5px 10px;\n  text-decoration: none;\n\n  ","\n\n  &:hover {\n    ","\n  }\n\n  /* Any additional custom styles */\n  ","\n"])),(function(n){return he(n.color)}),(function(n){return je(n.color)}),(function(n){var e;return null!==(e=n.buttonStyle)&&void 0!==e?e:""})),fe=me,he=function(n){switch(n){case"red":return"\n        background-color: var(--color-triadic-red-dark);\n        color: var(--color-grey-lightest);\n      ";case"green":return"\n        background-color: var(--color-triadic-green-dark);\n        color: var(--color-grey-lightest);\n      ";case"grey":return"\n        background-color: var(--color-grey-dark);\n        color: var(--color-grey-lightest);\n      ";default:return"\n        background-color: var(--color-primary-dark);\n        color: var(--color-grey-lightest);\n      "}},je=function(n){switch(n){case"red":return"\n        background-color: var(--color-triadic-red-darker);\n      ";case"green":return"\n        background-color: var(--color-triadic-green-darker);\n      ";case"grey":return"\n        background-color: var(--color-grey-darker);\n      ";default:return"\n        background-color: var(--color-primary-darker);\n      "}},ge=t(7),xe=t(89),ve=t(147),Oe=function(){return Object(wn.b)()},ye=wn.c,ke=function(){var n=Oe(),e=ye((function(n){return n.settings}));return Object(xn.useEffect)((function(){En(e,Xn)}),[e]),{settings:e,saveSettings:function(e){n(ne(e))},saveField:function(e,t){n(ee({field:e,value:t}))}}},we=t(43),Ce=t.n(we),Se="parameter",Te="variable",Ee="operator",Ie="left-parenthesis",ze="right-parenthesis",Re=0,Fe=1,Ne=0,Me=1,Ve=2,Ue=function(){var n=Oe(),e=ye((function(n){return n.reactions}));return Object(xn.useEffect)((function(){En(e,_n)}),[e]),{reactions:e,resetReactions:function(){n(qn())},addReaction:function(){var e={id:Ce.a.generate(8),name:"",reactants:[],products:[],kineticModel:Ne,kineticConstants:{"k_\\inf":"1000000",E_A:"30000"},kineticEquation:[{type:Se,value:"<k_\\inf>"},{type:Ee,value:"*"},{type:Se,value:"e"},{type:Ee,value:"^"},{type:Ie,value:"("},{type:Ie,value:"("},{type:Ee,value:"-"},{type:Se,value:"<E_A>"},{type:ze,value:")"},{type:Ee,value:"/"},{type:Ie,value:"("},{type:Se,value:"<R>"},{type:Ee,value:"*"},{type:Te,value:"{T}"},{type:ze,value:")"},{type:ze,value:")"}]};n(Wn(e))},updateReaction:function(e,t){n(Yn({id:e,reaction:t}))},removeCompoundFromReactions:function(e){n(Pn({id:e}))},removeReaction:function(e){n(Kn({id:e}))}}},De=["blue1","pink3","yellow","skyBlue2","red2","green1","skyBlue1","orange","violet1","pink1","lime","waterGreen2","red1","blue2","green2","pink2","waterGreen1","violet2"],_e={orange:"hsl(30, 80%, 65%)",yellow:"hsl(50, 80%, 65%)",lime:"hsl(70, 80%, 65%)",green1:"hsl(90, 80%, 65%)",green2:"hsl(110, 80%, 65%)",waterGreen1:"hsl(130, 80%, 65%)",waterGreen2:"hsl(150, 80%, 65%)",skyBlue1:"hsl(170, 80%, 65%)",skyBlue2:"hsl(190, 80%, 65%)",blue1:"hsl(210, 80%, 65%)",blue2:"hsl(230, 80%, 65%)",violet1:"hsl(250, 80%, 65%)",violet2:"hsl(270, 80%, 65%)",pink1:"hsl(290, 80%, 65%)",pink2:"hsl(310, 80%, 65%)",pink3:"hsl(330, 80%, 65%)",red1:"hsl(350, 80%, 65%)",red2:"hsl(10, 80%, 65%)"},Be=function(){var n=Oe(),e=ye((function(n){return n.compounds})),t=Ue(),r=t.resetReactions,o=t.removeCompoundFromReactions;Object(xn.useEffect)((function(){En(e,In)}),[e]);var i=function(){var n=De,t={};n.forEach((function(n){return t[n]=!1})),e.forEach((function(n){return t[n.color]=!0}));for(var r,o=0;o<n.length&&!r;)t[n[o]]||(r=n[o]),o++;return r||"blue1"};return{compounds:e,addCompound:function(){var e={id:Ce.a.generate(8),color:i(),concentration:0,molecularWeight:0,symbol:"A",name:""};n(Nn(e))},findCompound:function(n){return e.find((function(e){return e.id===n}))},updateCompound:function(e,t){n(Mn({id:e,compound:t}))},removeCompound:function(e){o(e),n(Vn({id:e}))},removeAllCompounds:function(){r(),n(Un())}}},Ae=function(){var n=Oe();return{simulationResults:ye((function(n){return n.simulationResults})),saveSimulationResults:function(e){n(oe(e))}}},Je={"^":"right","*":"left","/":"left","+":"left","-":"left"},qe={"^":4,"*":3,"/":3,"+":2,"-":2},We=function(n){return qe[n.value]||1},Ye=function(n){return Je[n.value]||"left"},Ke=function(n){for(var e=0,t=!1;e<n.length;)n[e].type===Ie?t=!0:(!t||"+"!==n[e].value&&"-"!==n[e].value||(n[e].type=Se,"+"===n[e].value?n[e].value=1:n[e].value=-1,n=[].concat(Object(Sn.a)(n.slice(0,e+1)),[{type:Ee,value:"*"}],Object(Sn.a)(n.slice(e+1,n.length)))),t=!1),e++;return n},Pe=function(n,e){var t=Le(n),r=0;return n.reactants.forEach((function(n){n.compoundId===e&&(r=-t/n.stoichiometricCoefficient)})),0!==r||n.products.forEach((function(n){n.compoundId===e&&(r=t/n.stoichiometricCoefficient)})),r},Le=function(n){return n.reactants.find((function(e){return e.compoundId===n.keyCompound})).stoichiometricCoefficient},He={e:2.7182818,R:.082,T:290},Ge=function(){var n=Be().compounds,e=Ue().reactions,t=ke().settings,r=Ae().saveSimulationResults;return{simulate:function(){var o=Xe(e,n),i={t:0,T:t.initialTemperature};n.forEach((function(n){return i["[".concat(n.symbol,"]")]=n.concentration}));var a=$e(i,o,t);r(a)}}},Xe=function(n,e){var t=[];return n.forEach((function(n,r){var o={};o.kineticEquation=Qe(n),o.kineticEquation=function(n){var e=Ke(n),t=[],r=[],o=function(n){return n.slice(-1)[0]};return e.forEach((function(n){if(n.type===Se||n.type===Te)t.push(n);else if(n.type===Ee){for(;o(r)&&o(r).type===Ee&&("left"===Ye(n)&&We(n)<=We(o(r))||"right"===Ye(n)&&We(n)<We(o(r)));)t.push(r.pop());r.push(n)}else if(n.type===Ie)r.push(n);else if(n.type===ze){for(;o(r)&&o(r).type!==Ie;)t.push(r.pop());r.pop()}})),t.concat(r.reverse())}(o.kineticEquation),o.compounds=Ze(n,e),t.push(o)})),t},Qe=function(n){var e=JSON.parse(JSON.stringify(n.kineticEquation));return e.forEach((function(t,r){if(t.type===Se){var o=t.value.replace(/<|>/g,"");n.kineticConstants[o]?t.value=parseFloat(n.kineticConstants[o]):t.value=He[o]}else t.type===Te&&(t.value=t.value.replace(/{|}/g,""));e[r]=t})),e},Ze=function(n,e){var t=[];return n.reactants.forEach((function(r){var o,i=Object.assign({},{compoundId:r.compoundId,symbol:"[".concat(null===(o=e.find((function(n){return n.id===r.compoundId})))||void 0===o?void 0:o.symbol,"]"),coefficient:Pe(n,r.compoundId)});t.push(i)})),n.products.forEach((function(r){var o,i=Object.assign({},{compoundId:r.compoundId,symbol:"[".concat(null===(o=e.find((function(n){return n.id===r.compoundId})))||void 0===o?void 0:o.symbol,"]"),coefficient:Pe(n,r.compoundId)});t.push(i)})),t},$e=function(n,e,t){for(var r=[n],o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,o={next:function(){var o;return r[r.length-1].t<n?(o={done:!1},nt(e,t,r),o):{done:!0}}};return o}(t.reactionTime,t.timeStep),i=o.next();!i.done;)i=o.next();return r},nt=function(n,e,t){var r=JSON.parse(JSON.stringify(t[t.length-1])),o={t:0,T:r.T},i=n.map((function(n){return tt(n,r)}));Object.entries(r).forEach((function(t){var a=Object(pe.a)(t,2),c=a[0],l=a[1];if("t"!==c){var s=et(n,i,c);o[c]=rt(r[c]+s*e)}else o.t=l+e})),t.push(o)},et=function(n,e,t){var r=0;return n.forEach((function(n,o){var i,a=null===(i=n.compounds)||void 0===i?void 0:i.find((function(n){return n.symbol===t}));a&&(r+=e[o]*a.coefficient)})),r},tt=function(n,e){var t,r=[];return null===(t=n.kineticEquation)||void 0===t||t.forEach((function(n){if(n.type===Se)r.push(n.value);else if(n.type===Te)r.push(e[n.value]);else{var t=r.pop(),o=r.pop();switch(n.value){case"+":r.push(o+t);break;case"-":r.push(o-t);break;case"*":r.push(o*t);break;case"/":r.push(o/t);break;case"^":r.push(Math.pow(o,t))}}})),r[0]},rt=function(n){return n<0?0:n},ot=t(1),it=function(){var n=Ge().simulate,e=Ae().simulationResults,t=Object(be.g)(),r=Object(xn.useState)(!1),o=Object(pe.a)(r,2),i=o[0],a=o[1],c=function(n){t.push(n),a(!1)},l={size:25};return Object(ot.jsx)(st,{expanded:i,children:Object(ot.jsxs)("nav",{children:[Object(ot.jsx)("button",{onClick:function(n){n.preventDefault(),a(!i)},id:"hamburger",children:Object(ot.jsx)(ct,{children:Object(ot.jsx)(lt,{children:Object(ot.jsx)(ge.e,Object(Gn.a)({},l))})})}),Object(ot.jsx)(at,{onClick:function(){return c("/compounds")},title:"Compounds",icon:Object(ot.jsx)(xe.a,Object(Gn.a)({},l))}),Object(ot.jsx)(at,{onClick:function(){return c("/reactions")},title:"Reactions",icon:Object(ot.jsx)(ve.a,Object(Gn.a)({},l))}),Object(ot.jsx)(at,{onClick:function(){return c("/settings")},title:"Settings",icon:Object(ot.jsx)(ge.h,Object(Gn.a)({},l))}),e&&Object(ot.jsx)(at,{onClick:function(){return c("/results")},title:"Results",icon:Object(ot.jsx)(xe.b,Object(Gn.a)({},l))}),Object(ot.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),n(),t.push("/results")},children:Object(ot.jsxs)(ct,{children:[Object(ot.jsx)(lt,{children:Object(ot.jsx)(ge.f,Object(Gn.a)({},l))}),Object(ot.jsx)("p",{children:"Simulate"})]})})]})})},at=function(n){var e=n.icon,t=n.onClick,r=n.title;return Object(ot.jsx)(fe,{onClick:t,children:Object(ot.jsxs)(ct,{children:[Object(ot.jsx)(lt,{children:e}),Object(ot.jsx)("p",{children:r})]})})},ct=se.b.div(i||(i=Object(le.a)(["\n  padding: 0.7rem 0.5rem;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n"]))),lt=se.b.div(a||(a=Object(le.a)(["\n  width: 25px;\n  height: 25px;\n  margin-right: 0.5rem;\n  @media only screen and (max-width: 750px) {\n    margin-right: 0;\n  }\n"]))),st=se.b.div(c||(c=Object(le.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 20;\n  height: 100vh;\n  max-width: ",";\n  @media screen and (max-width: 750px) {\n    height: 80px;\n    width: 100vw;\n    max-width: 100vw;\n  }\n  flex-grow: 0;\n  flex-shrink: 0;\n  transition: all 0.15s linear;\n  background-color: var(--color-grey-normal);\n\n  nav {\n    margin: 1rem;\n    display: flex;\n    flex-direction: column;\n    @media screen and (max-width: 750px) {\n      flex-direction: row;\n      margin: 0 1rem;\n      align-items: center;\n      height: 100%;\n    }\n\n    a,\n    button {\n      align-items: center;\n      background-color: var(--color-grey-normal);\n      border: none;\n      border-radius: 5px;\n      color: var(--color-grey-lightest);\n      display: flex;\n      font-size: 1.2rem;\n      justify-content: space-between;\n      margin-bottom: 10px;\n      padding: 5px 10px;\n      text-decoration: none;\n\n      &:hover {\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n\n      p {\n        margin: 0;\n      }\n\n      @media screen and (max-width: 750px) {\n        margin-bottom: 0;\n\n        p {\n          display: none;\n        }\n      }\n    }\n  }\n\n  @media screen and (max-width: 750px) {\n    #hamburger {\n      display: none;\n    }\n  }\n"])),(function(n){return n.expanded?"270px":"90px"})),ut=function(n){var e=n.children;return Object(ot.jsxs)(dt,{children:[Object(ot.jsx)(it,{}),Object(ot.jsx)(pt,{id:"scroll-target",children:Object(ot.jsx)(bt,{children:e})})]})},dt=se.b.div(l||(l=Object(le.a)(["\n  height: 100vh;\n"]))),pt=se.b.div(s||(s=Object(le.a)(["\n  background: var(--color-grey-light);\n  flex-grow: 1;\n  height: 100vh;\n  margin-left: 90px;\n  @media screen and (max-width: 750px) {\n    margin-top: 80px;\n    margin-left: 0;\n    height: calc(100vh - 80px);\n  }\n  position: relative;\n  overflow-y: scroll;\n"]))),bt=se.b.div(u||(u=Object(le.a)(["\n  margin: 20px;\n"]))),mt=se.b.h2(d||(d=Object(le.a)(["\n  color: var(--color-grey-lightest);\n  font-size: 20px;\n  margin-top: 0;\n  display: inline-block;\n"]))),ft=mt,ht=se.b.button(p||(p=Object(le.a)(["\n  align-items: center;\n  align-self: stretch;\n  background-color: unset;\n  border: none;\n  border-radius: 5px;\n  color: var(--color-grey-normal);\n  cursor: pointer;\n  display: flex;\n  font-size: 1.5em;\n  margin-left: 0.2rem;\n  padding: 0.5rem;\n  transition: all 0.15s ease-in-out;\n  z-index: 2;\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.3);\n    color: var(--color-grey-dark);\n  }\n"]))),jt=ht,gt=function(n){var e=n.compound,t=n.editCompound,r=n.removeCompound;return Object(ot.jsx)(xt,{children:Object(ot.jsxs)(vt,{children:[Object(ot.jsx)(Ot,{color:e.color,children:e.symbol}),Object(ot.jsx)(jt,{onClick:t,children:Object(ot.jsx)(ge.c,{})}),Object(ot.jsx)(jt,{onClick:r,children:Object(ot.jsx)(ge.i,{})})]})})},xt=se.b.li(b||(b=Object(le.a)([""]))),vt=se.b.div(m||(m=Object(le.a)(["\n  margin: 5px;\n  padding: 20px;\n  position: relative;\n\n  align-items: center;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  border: 1.5px solid var(--color-grey-lightest);\n  display: flex;\n  color: var(--color-grey-lightest);\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  button {\n    padding: 0.8rem;\n  }\n"]))),Ot=se.b.div(f||(f=Object(le.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 1px solid var(--color-grey-normal);\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  font-size: 1.6rem;\n  padding: 0.5rem 0.9rem;\n  margin-right: 1rem;\n"])),(function(n){return _e[n.color]})),yt=t(62),kt=function(n){var e=n.children,t=n.closing,r=n.setClosing,o=n.handleClose,i=function(){r(!0),setTimeout((function(){o()}),250)};return Object(xn.useEffect)((function(){t&&i()}),[t]),Object(ot.jsx)(wt,{closing:t,children:Object(ot.jsxs)(Ct,{closing:t,children:[Object(ot.jsx)(St,{onClick:i,closing:t,children:Object(ot.jsx)(ge.j,{})}),e]})})},wt=se.b.div(h||(h=Object(le.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  background-color: rgba(0, 0, 0, 0.15);\n\n  animation-name: dim-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  /* Override animation upon modal close */\n  ","\n\n  @keyframes dim-in {\n    from {\n      background-color: rgba(0, 0, 0, 0);\n    }\n\n    to {\n      background-color: rgba(0, 0, 0, 0.15);\n    }\n  }\n\n  @keyframes dim-out {\n    from {\n      background-color: rgba(0, 0, 0, 0.15);\n    }\n\n    to {\n      background-color: rgba(0, 0, 0, 0);\n    }\n  }\n"])),(function(n){return n.closing?"\n    animation-name: dim-out;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n  ":""})),Ct=se.b.div(j||(j=Object(le.a)(["\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border: 1px solid var(--color-grey-lightest);\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  border-radius: 5px;\n  flex-grow: 1;\n  margin: 10px;\n  padding: 2rem;\n  padding-top: 3.5rem;\n  position: relative;\n  max-width: 700px;\n  max-height: 600px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  z-index: 3;\n\n  /* Override animation upon modal close */\n  ","\n\n  label {\n    color: var(--color-grey-darker);\n  }\n"])),(function(n){return n.closing?"\n    animation-name: slide-out;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n  ":""})),St=se.b.button(g||(g=Object(le.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n\n  align-items: center;\n  background-color: unset;\n  border: none;\n  border-radius: 5px;\n  display: flex;\n  ","\n  font-size: 1.3rem;\n  padding: 0.5rem;\n  margin-bottom: 1rem;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"])),(function(n){return n.closing?"disabled: true;":""})),Tt=se.b.div(x||(x=Object(le.a)(["\n  position: absolute;\n  ","\n\n  background-color: var(--color-triadic-red-darker);\n  border-radius: 5px;\n  box-shadow: 0px 0px 4px var(--color-triadic-red-darker);\n  color: white;\n  padding: 0.2rem 0.5rem;\n  pointer-events: none;\n  opacity: 0;\n  transform: translateY(105%);\n  z-index: 4;\n"])),(function(n){return n.big?"\n    bottom: 0.9rem;\n    right: 1rem;\n  ":"\n    bottom: 0.4rem;\n    right: 0.5rem;\n  "})),Et=function(n){var e=n.big,t=n.children;return Object(ot.jsx)(Tt,{big:e,className:"error",children:t})},It=se.b.input(v||(v=Object(le.a)(['\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-normal);\n  border-radius: 5px;\n  flex-grow: 1;\n  font-family: "Mulish", sans-serif;\n  min-width: 0;\n  width: 0;\n  outline: none;\n  padding: 0.5rem 1rem;\n  color: var(--color-grey-dark);\n\n  &:autofill {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  &:focus {\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  }\n\n  /**\n   * Remove arrows from number inputs\n   */\n\n  /* Chrome, Safari, Edge, Opera */\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  /* Firefox */\n  &[type="number"] {\n    -moz-appearance: textfield;\n  }\n\n  /** Overrides */\n  ',"\n  ","\n"])),(function(n){return n.transparent?"\n      background-color: rgba(255,255,255,0.2);\n      border-color: hsla(213, 20%, 15%, 0.5);\n      color: var(--color-grey-darker);\n\n      &:focus {\n        border-color: var(--color-grey-darker);\n        background-color: rgba(255,255,255,0.5);\n      }\n      ":""}),(function(n){return n.errors?"\n        border-color: var(--color-triadic-red-darker) !important\n      ":""})),zt=It,Rt=function(n){var e=n.text;return Object(ot.jsxs)(Ft,{children:[Object(ot.jsx)(ge.d,{color:"hsl(213, 20%, 95%)",size:14}),Object(ot.jsx)(Mt,{children:Object(ot.jsx)(Nt,{children:e})})]})},Ft=se.b.div(O||(O=Object(le.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: var(--color-grey-normal);\n  margin-left: 0.5rem;\n  color: var(--color-white);\n  cursor: pointer;\n  position: relative;\n  &:hover > div > div {\n    opacity: 1;\n  }\n"]))),Nt=se.b.div(y||(y=Object(le.a)(['\n  position: relative;\n  opacity: 0;\n  transition: opacity 0.15s linear;\n  padding: 1rem;\n  background-color: var(--color-grey-normal);\n  border-radius: 5px;\n  margin-left: 1rem;\n  width: max-content;\n  max-width: 180px;\n  font-size: 1rem;\n  color: var(--color-grey-lightest);\n  overflow: visible;\n  filter: drop-shadow(0 1px 2px var(--color-grey-normal));\n  display: flex;\n\n  &:before {\n    position: absolute;\n    left: -8px;\n    top: 50%;\n    transform: translateY(-50%);\n    content: "";\n    width: 0;\n    height: 0;\n    border-top: 8px solid transparent;\n    border-bottom: 8px solid transparent;\n    border-right: 8px solid var(--color-grey-normal);\n  }\n']))),Mt=se.b.div(k||(k=Object(le.a)(["\n  position: absolute;\n  display: flex;\n  right: 0;\n  transform: translateX(102%);\n  pointer-events: none;\n"]))),Vt=se.b.div(w||(w=Object(le.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.5rem;\n  position: relative;\n\n  ","\n  ","\n\n  label {\n    ","\n    font-weight: 600;\n    color: ",";\n  }\n\n  input {\n    ","\n    width: 300px;\n    align-self: stretch;\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"])),(function(n){return n.color?"\n    background-color: ".concat(_e[n.color],";\n    border-radius: 5px;\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  "):""}),(function(n){return n.big?"\n    align-items: flex-start;\n    margin-bottom: 1.5rem;\n    padding: 1rem;\n  ":""}),(function(n){return n.big?"font-size: 1.5rem;":""}),(function(n){return n.color?"var(--color-grey-darker)":"var(--color-grey-dark)"}),(function(n){return n.big?"    \n    font-size: 3rem;\n    margin-left: 1rem;\n    width: 0;\n    ":"font-size: 1rem;"})),Ut=se.b.div(C||(C=Object(le.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex-basis: 50%;\n"]))),Dt=function(n){var e=n.big,t=n.color,r=n.error,o=n.fieldName,i=n.label,a=n.type,c=n.tooltip,l=n.transparent,s=n.value,u=n.onBlur,d=n.onChange;return Object(ot.jsxs)(Vt,{color:t,big:e,children:[Object(ot.jsxs)(Ut,{children:[Object(ot.jsx)("label",{htmlFor:o,children:i}),c&&Object(ot.jsx)(Rt,{text:c})]}),Object(ot.jsx)(zt,{errors:!!r,name:o,type:a||"text",autoComplete:"off",onBlur:u||function(){},onChange:d,value:s,transparent:l}),r&&Object(ot.jsx)(Et,{big:e,children:r})]})},_t=Object(se.b)(fe)(S||(S=Object(le.a)(["\n  align-self: stretch;\n  font-size: 1.2rem;\n  justify-content: center;\n  margin-top: 1.5rem;\n  padding: 0.5rem;\n  width: 100%;\n"]))),Bt=_t,At=function(n,e){return n===e},Jt=function(n){return""!==n&&("number"===typeof n||!!n)},qt=function(n,e,t){return"number"===typeof n&&(n>e||!(n!==e||!t))},Wt=["K","R","\xb0C","\xb0F"],Yt=["ms","s","min","h"],Kt=["mg","g","kg","lb"],Pt=["mol","kmol","lbmol"],Lt=["L","m^3","cm^3"],Ht=function(n){return Lt[n]},Gt=function(n){return Pt[n]},Xt=function(n){return n.map((function(n,e){return{value:e,displayText:n,collapsedDisplayText:n}}))},Qt=Xt(Yt),Zt=Xt(Kt),$t=Xt(Pt),nr=Xt(Lt),er=Xt(Wt),tr=function(n){var e,t=n.compound,r=n.closeModal,o=Be(),i=o.compounds,a=o.updateCompound,c=ke().settings,l=Object(xn.useState)(!1),s=Object(pe.a)(l,2),u=s[0],d=s[1],p=i.findIndex((function(n){return n.id===t.id})),b=Gt(c.molarUnits),m=Ht(c.volumeUnits),f=(e=c.massUnits,Kt[e]),h=function(n,e){for(var t=0;t<i.length;t++)if(t!==p&&i[t][n]===e)return!1;return!0},j=Object(yt.a)({initialValues:{symbol:t.symbol,concentration:t.concentration,name:t.name,molecularWeight:t.molecularWeight},validate:function(n){var e={};return Jt(n.symbol)?h("symbol",n.symbol)||(e.symbol="Symbol is already used"):e.symbol="Symbol cannot be empty",Jt(n.concentration)?qt(n.concentration,0,!0)||(e.concentration="Concentration cannot be lower than 0"):e.concentration="Concentration cannot be empty",Jt(n.molecularWeight)?qt(n.molecularWeight,0,!0)||(e.molecularWeight="Molecular weight cannot be lower than 0"):e.molecularWeight="Molecular weight cannot be empty",e},onSubmit:function(n){var e=Object(Gn.a)(Object(Gn.a)({},t),n);a(t.id,e),window.scrollTo({top:0,behavior:"smooth"}),d(!0)}});return Object(ot.jsx)(kt,{closing:u,setClosing:d,handleClose:r,children:Object(ot.jsxs)(rr,{onSubmit:j.handleSubmit,children:[Object(ot.jsx)(Dt,{fieldName:"symbol",label:"Symbol:",error:j.errors.symbol,onChange:function(n){j.handleChange(n)},value:j.values.symbol,color:t.color,big:!0,transparent:!0}),Object(ot.jsx)(Dt,{fieldName:"concentration",label:"Initial concentration [".concat(b,"/").concat(m,"]:"),error:j.errors.concentration,tooltip:"Concentration in the loaded mixture",type:"number",onChange:function(n){j.handleChange(n)},value:j.values.concentration}),Object(ot.jsx)(Dt,{fieldName:"molecularWeight",label:"Molecular weight [".concat(f,"/").concat(b,"]:"),error:j.errors.molecularWeight,type:"number",onChange:function(n){j.handleChange(n)},value:j.values.molecularWeight}),Object(ot.jsx)(Dt,{fieldName:"name",label:"Compound name (optional):",error:j.errors.name,onChange:function(n){j.handleChange(n)},value:j.values.name}),Object(ot.jsx)(Bt,{color:"green",type:"submit",children:"Done"})]})})},rr=se.b.form(T||(T=Object(le.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),or=se.b.p(E||(E=Object(le.a)(["\n  padding: 1rem;\n  color: var(--color-grey-dark);\n  font-style: italic;\n"]))),ir=function(n){var e=Be(),t=e.compounds,r=e.updateCompound,o=e.removeCompound,i=Object(xn.useState)(void 0),a=Object(pe.a)(i,2),c=a[0],l=a[1],s=function(n){return l(n)},u=Object(xn.useMemo)((function(){return c?t.find((function(n){return n.id===c})):void 0}),[t,c]);return Object(ot.jsxs)(ar,{children:[0===t.length&&Object(ot.jsx)(or,{children:"No compounds added yet"}),t.map((function(n,e){return Object(ot.jsx)(gt,{compound:n,editCompound:function(){s(n.id)},updateCompound:function(n){r(n.id,n)},removeCompound:function(){o(n.id)},validateUnicity:function(n,r){for(var o=0;o<t.length;o++)if(o!==e&&t[o][n]===r)return!1;return!0}},e)})),c&&Object(ot.jsx)(tr,{compound:u,closeModal:function(){return s()}})]})},ar=se.b.ul(I||(I=Object(le.a)(["\n  align-self: stretch;\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding-left: 0;\n"]))),cr=function(){var n=Be(),e=n.addCompound,t=n.removeAllCompounds;return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(ft,{children:"Compounds"}),Object(ot.jsxs)(fe,{color:"green",onClick:e,children:["Add ",Object(ot.jsx)(ge.g,{})]}),Object(ot.jsx)(fe,{color:"red",buttonStyle:"\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.6rem 1rem;\n",onClick:function(){window.confirm("Are you sure you want to delete all compounds? This will also delete all reactions")&&t()},children:Object(ot.jsx)(ge.i,{size:20})}),Object(ot.jsx)(ir,{})]})},lr=function(n){var e=n.children;return Object(ot.jsx)(sr,{children:Object(ot.jsx)(ur,{children:e})})},sr=se.b.div(z||(z=Object(le.a)(["\n  display: flex;\n  flex-basis: 50%;\n\n  @media only screen and (max-width: 940px) {\n    flex-basis: 100%;\n  }\n"]))),ur=se.b.div(R||(R=Object(le.a)(["\n  flex-grow: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  flex-direction: column;\n  padding: 1rem;\n  margin: 1rem;\n  margin-bottom: 0;\n\n  h2 {\n    color: var(--color-grey-normal);\n    font-size: 1.2rem;\n    margin-top: 0;\n  }\n\n  input {\n    width: auto;\n  }\n"]))),dr=function(n){var e=n.formik,t=n.onBlur,r=n.onChange;return Object(ot.jsxs)(lr,{children:[Object(ot.jsx)("h2",{children:"Operating times"}),Object(ot.jsx)(Dt,{fieldName:"reactionTime",label:"Reaction time:",type:"number",value:e.values.reactionTime,error:e.errors.reactionTime,onBlur:t,onChange:r}),Object(ot.jsx)(Dt,{fieldName:"deadTime",label:"Dead time:",type:"number",tooltip:"Time needed for discharge, cleaning, etc.",value:e.values.deadTime,error:e.errors.deadTime,onBlur:t,onChange:r}),Object(ot.jsx)(Dt,{fieldName:"timeStep",label:"Time step:",type:"number",tooltip:"Small time interval for numerical calculation purposes",value:e.values.timeStep,error:e.errors.timeStep,onBlur:t,onChange:r})]})},pr=function(n){var e=n.alignment,t=n.defaultDisplayValue,r=n.hoverIcon,o=n.initialValue,i=n.onSelectionChange,a=n.selectOptions,c=Object(xn.useState)(!1),l=Object(pe.a)(c,2),s=l[0],u=l[1],d=Object(xn.useState)((null===o||void 0===o?void 0:o.value)||void 0),p=Object(pe.a)(d,2),b=p[0],m=p[1],f=Object(xn.useRef)(Ce.a.generate(8)),h=Object(xn.useRef)(null);Object(xn.useEffect)((function(){o&&m(o.value),h.current=document.getElementById(f.current)}),[]),Object(xn.useEffect)((function(){h.current=s?document.getElementById(f.current):null}),[s]);var j=Object(xn.useCallback)((function(n){var e;(null===(e=h.current)||void 0===e?void 0:e.contains(n.target))||(g(),u(!1))}),[]),g=function(){s?window.removeEventListener("click",j,!0):window.addEventListener("click",j,!0),u(!s)},x=function(n){g(),m(n),i(n)},v=a.find((function(n){return n.value===b}));return Object(ot.jsxs)(br,{id:f.current,children:[Object(ot.jsxs)(mr,{selecting:s,onClick:g,children:[Object(ot.jsx)("p",{children:(null===v||void 0===v?void 0:v.collapsedDisplayText)||t}),Object(ot.jsx)(ge.b,{size:10})]}),s&&Object(ot.jsxs)(fr,{alignment:e||"left",children:[t&&Object(ot.jsx)(hr,{onClick:function(){return x(void 0)},children:Object(ot.jsx)("p",{children:t})}),a.map((function(n){var e=n.value,t=n.displayText,o=n.hoverBackgroundColor;return Object(ot.jsxs)(hr,{onClick:function(){x(e)},hoverBackgroundColor:o,children:[Object(ot.jsx)("p",{children:t}),Object(ot.jsx)("span",{children:r})]},e)}))]})]})},br=se.b.div(F||(F=Object(le.a)(["\n  position: relative;\n  flex: 1;\n"]))),mr=se.b.div(N||(N=Object(le.a)(["\n  align-items: center;\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-normal);\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  font-size: 1.1rem;\n  outline: none;\n  padding: 5px 10px;\n  transition: all 0.15s linear;\n  ","\n\n  & > p {\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  & > svg {\n    margin-left: 0.5rem;\n  }\n"])),(function(n){return n.selecting?"box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15),\n    0px 0px 2px var(--color-grey-normal);":""})),fr=se.b.div(M||(M=Object(le.a)(["\n  position: absolute;\n  top: 100%;\n\n  align-items: stretch;\n  ","\n  ","\n  background-color: var(--color-grey-lightest);\n  border: none;\n  border-radius: 5px;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15),\n    0px 0px 2px var(--color-grey-normal);\n  display: flex;\n  flex-direction: column;\n  font-size: 1.2rem;\n  margin-top: 0.5rem;\n  max-height: 400px;\n  overflow-y: scroll;\n  padding: 0.5rem;\n  transition: all 0.05s linear;\n  width: auto;\n  z-index: 20;\n"])),(function(n){return"left"===n.alignment?"left: 0;":""}),(function(n){return"right"===n.alignment?"right: 0;":""})),hr=se.b.button(V||(V=Object(le.a)(["\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  font-size: 1rem;\n  text-align: left;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n\n  &:hover {\n    background-color: ",";\n\n    & > span {\n      opacity: 1;\n    }\n  }\n\n  & > p {\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  & > span {\n    display: inline-flex;\n    align-items: center;\n    opacity: 0;\n    transition: opacity 0.15s linear;\n  }\n"])),(function(n){return n.hoverBackgroundColor||"var(--color-grey-lighter)"})),jr=se.b.div(U||(U=Object(le.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: flex-start;\n  padding: 0.5rem;\n  position: relative;\n\n  label {\n    font-weight: 600;\n    color: var(--color-grey-dark);\n    margin-right: 1rem;\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"]))),gr=se.b.div(D||(D=Object(le.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-basis: 50%;\n  align-items: center;\n"]))),xr=function(n){var e=n.fieldName,t=n.label,r=n.selectOptions,o=n.tooltip,i=n.selectedOption,a=n.onSelectionChange,c=r.find((function(n){return n.value===i.value}));return Object(ot.jsxs)(jr,{children:[Object(ot.jsxs)(gr,{children:[Object(ot.jsx)("label",{htmlFor:e,children:t}),o&&Object(ot.jsx)(Rt,{text:o})]}),Object(ot.jsx)(pr,{initialValue:c,selectOptions:r,onSelectionChange:a})]})},vr=function(n){var e=n.formik;return Object(ot.jsxs)(lr,{children:[Object(ot.jsx)("h2",{children:"Units"}),Object(ot.jsx)(xr,{selectedOption:Qt[e.values.timeUnits],fieldName:"timeUnits",label:"Time units:",selectOptions:Qt,onSelectionChange:function(n){e.setFieldValue("timeUnits",n,!1),e.handleSubmit()}}),Object(ot.jsx)(xr,{selectedOption:nr[e.values.volumeUnits],fieldName:"volumeUnits",label:"Volume units:",selectOptions:nr,onSelectionChange:function(n){e.setFieldValue("volumeUnits",n,!1),e.handleSubmit()}}),Object(ot.jsx)(xr,{selectedOption:$t[e.values.molarUnits],fieldName:"molarUnits",label:"Molar units:",selectOptions:$t,onSelectionChange:function(n){e.setFieldValue("molarUnits",n,!1),e.handleSubmit()}}),Object(ot.jsx)(xr,{selectedOption:Zt[e.values.massUnits],fieldName:"massUnits",label:"Mass units:",selectOptions:Zt,onSelectionChange:function(n){e.setFieldValue("massUnits",n,!1),e.handleSubmit()}}),Object(ot.jsx)(xr,{selectedOption:er[e.values.temperatureUnits],fieldName:"temperatureUnits",label:"Temperature units:",selectOptions:er,onSelectionChange:function(n){e.setFieldValue("temperatureUnits",n,!1),e.handleSubmit()}})]})},Or=t(61),yr=function(n){var e=n.fieldName,t=n.formik,r=n.label,o=n.tooltip,i=e,a=t.values[i],c=t.errors[i];return Object(ot.jsxs)(kr,{children:[Object(ot.jsx)(Cr,{onClick:function(){t.setFieldValue(e,!t.values[i],!1),t.handleSubmit()},toggled:!!a,children:a&&Object(ot.jsx)(Or.a,{size:10})}),Object(ot.jsxs)(wr,{children:[Object(ot.jsx)("label",{htmlFor:e,children:r}),o&&Object(ot.jsx)(Rt,{text:o})]}),c&&Object(ot.jsx)(Et,{children:c})]})},kr=se.b.div(_||(_=Object(le.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: flex-start;\n  padding: 0.5rem;\n  position: relative;\n\n  label {\n    font-weight: 600;\n    color: var(--color-grey-dark);\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"]))),wr=se.b.div(B||(B=Object(le.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Cr=se.b.div(A||(A=Object(le.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  border: 2px solid var(--color-grey-normal);\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 0.5rem;\n\n  svg {\n    fill: var(--color-grey-lightest);\n  }\n"])),(function(n){return n.toggled?"var(--color-grey-normal)":"var(--color-grey-lightest)"})),Sr=function(n){var e,t=n.formik,r=n.onBlur,o=n.onChange,i=ke().settings,a=(e=i.temperatureUnits,Wt[e]);return Object(ot.jsxs)(lr,{children:[Object(ot.jsx)("h2",{children:"Heat Exchange"}),Object(ot.jsx)(yr,{fieldName:"isothermic",label:"Isothermic system",formik:t}),Object(ot.jsx)(Dt,{fieldName:"initialTemperature",label:"Initial Temperature [".concat(a,"]:"),type:"number",value:t.values.initialTemperature,error:t.errors.initialTemperature,onBlur:r,onChange:o})]})},Tr=function(){var n=ke(),e=n.settings,t=n.saveSettings,r=Object(yt.a)({initialValues:Object(Gn.a)({},e),validate:function(n){var e=n.deadTime,t=n.initialTemperature,r=n.timeStep,o=n.reactionTime,i={};return Jt(o)?qt(o,0,!0)||(i.reactionTime="Reaction time cannot be lower than 0"):i.reactionTime="Reaction time cannot be empty",Jt(e)?qt(e,0,!0)||(i.deadTime="Dead time cannot be lower than 0"):i.deadTime="Dead time cannot be empty",Jt(r)?qt(r,0,!1)||(i.timeStep="Time step has to be greater than 0"):i.timeStep="Time step cannot be empty",Jt(r)?!At(t,"K")&&!At(t,"R")||qt(t,0,!1)?At(t,"\xb0C")&&!qt(t,-273.15,!1)?i.initialTemperature="Initial temperature cannot be equal or lower than -273.15":At(t,"\xb0F")&&!qt(t,-459.67,!1)&&(i.initialTemperature="Initial temperature cannot be equal or lower than -459.67"):i.initialTemperature="Initial temperature cannot be equal or lower than 0":i.initialTemperature="Initial temperature cannot be empty",i},onSubmit:function(n){t(n)}}),o=function(){r.handleSubmit()},i={formik:r,onBlur:o,onChange:function(n){return r.handleChange(n)}};return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(ft,{children:"Operation"}),Object(ot.jsxs)(Er,{children:[Object(ot.jsx)(dr,Object(Gn.a)({},i)),Object(ot.jsx)(vr,Object(Gn.a)({},i)),Object(ot.jsx)(Sr,Object(Gn.a)({},i))]})]})},Er=se.b.form(J||(J=Object(le.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 1rem;\n"]))),Ir=se.b.p(q||(q=Object(le.a)(["\n  color: var(--color-grey-normal);\n  font-style: italic;\n  margin: 0.5rem;\n"]))),zr=function(n){var e=n.reaction,t=Be().findCompound;return Object(ot.jsxs)(Rr,{children:[0===e.reactants.length&&0===e.products.length&&Object(ot.jsx)(Ir,{children:"No reaction data"}),e.reactants.map((function(n,e){var r=t(n.compoundId);return Object(ot.jsxs)(xn.Fragment,{children:[0!==e&&Object(ot.jsx)(ge.g,{size:25}),Object(ot.jsxs)(Fr,{children:[Object(ot.jsx)("p",{children:n.stoichiometricCoefficient}),Object(ot.jsx)(Nr,{color:r.color,children:r.symbol})]})]},n.compoundId)})),e.reactants.length>0&&e.products.length>0&&Object(ot.jsx)(ge.a,{size:25}),e.products.map((function(n,e){var r=t(n.compoundId);return Object(ot.jsxs)(xn.Fragment,{children:[0!==e&&Object(ot.jsx)(ge.g,{size:25}),Object(ot.jsxs)(Fr,{children:[Object(ot.jsx)("p",{children:n.stoichiometricCoefficient}),Object(ot.jsx)(Nr,{color:r.color,children:r.symbol})]})]},n.compoundId)}))]})},Rr=se.b.div(W||(W=Object(le.a)(["\n  align-items: center;\n  display: flex;\n  flex-grow: 1;\n  min-height: 3rem;\n"]))),Fr=se.b.div(Y||(Y=Object(le.a)(["\n  align-items: flex-end;\n  display: flex;\n  margin: 0 0.5rem;\n\n  p {\n    color: var(--color-grey-dark);\n    font-size: 1.6rem;\n    margin: 0 0 0.2rem 0;\n  }\n"]))),Nr=se.b.div(K||(K=Object(le.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 1px solid var(--color-grey-normal);\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  font-size: 1.6rem;\n  margin: 0 0.5rem;\n  padding: 0.5rem 0.9rem;\n"])),(function(n){return _e[n.color]})),Mr=function(n){var e=n.reaction,t=n.reactionIndex,r=n.editReaction,o=n.removeReaction;return Object(ot.jsxs)(Vr,{children:[Object(ot.jsxs)(Dr,{children:[Object(ot.jsxs)(Ur,{children:["#".concat(t+1)," ",e.name?" - ".concat(e.name):""]}),Object(ot.jsx)(zr,{reaction:e})]}),Object(ot.jsx)(jt,{onClick:r,children:Object(ot.jsx)(ge.c,{})}),Object(ot.jsx)(jt,{onClick:o,children:Object(ot.jsx)(ge.i,{})})]})},Vr=se.b.div(P||(P=Object(le.a)(["\n  margin: 10px;\n  padding: 20px;\n  position: relative;\n\n  align-items: center;\n  align-self: stretch;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  border: 1.5px solid var(--color-grey-lightest);\n  display: flex;\n  color: var(--color-grey-dark);\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  p:not(:first-child) {\n    flex-grow: 1;\n    margin: 0;\n  }\n"]))),Ur=se.b.p(L||(L=Object(le.a)(["\n  color: var(--color-grey-normal);\n  flex-grow: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin: 0;\n  padding-left: 0.6rem;\n  padding-bottom: 0.5rem;\n"]))),Dr=se.b.div(H||(H=Object(le.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),_r=t(90),Br=["Simple","Hiperbolic","Autocatalytic"],Ar=function(n,e,t){switch(n){case Me:return qr(e,t);case Ve:return Wr(e,t);default:return Jr(e,t)}},Jr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Yr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Gn.a)({},t)},qr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Pr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Gn.a)({},t)},Wr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Yr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),n.products.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Kr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Gn.a)({},t)},Yr=function(n){return"\\alpha_".concat(n.symbol)},Kr=function(n){return"\\beta_".concat(n.symbol)},Pr=function(n){return"K_".concat(n.symbol)},Lr=se.b.div(G||(G=Object(le.a)(["\n  border-top: 1px solid var(--color-grey-light);\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 2rem;\n  padding: 2rem 1rem 0rem;\n\n  h2 {\n    color: var(--color-grey-dark);\n    font-size: 20px;\n    margin-top: 0;\n  }\n"]))),Hr=Object(se.b)(Lr)(X||(X=Object(le.a)(["\n  flex-direction: column;\n  flex-wrap: nowrap;\n"]))),Gr=function(n){var e=n.compound,t=n.reactionCompound,r=n.updateCompound,o=n.removeCompound,i=Object(xn.useState)(t.stoichiometricCoefficient),a=Object(pe.a)(i,2),c=a[0],l=a[1];return Object(ot.jsxs)(Xr,{color:e.color,children:[Object(ot.jsx)("h1",{children:e.symbol}),Object(ot.jsx)(zt,{value:c,type:"number",onChange:function(n){""!==n.target.value?l(parseFloat(n.target.value)):l("")},onBlur:function(){Jt(c)?r(Object(Gn.a)(Object(Gn.a)({},t),{},{stoichiometricCoefficient:c})):l(t.stoichiometricCoefficient)},transparent:!0}),Object(ot.jsx)(jt,{onClick:o,children:Object(ot.jsx)(ge.i,{})})]})},Xr=se.b.div(Q||(Q=Object(le.a)(["\n  margin: 5px;\n  padding: 1rem 1.3rem;\n  position: relative;\n\n  align-items: center;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: ",";\n  border-radius: 5px;\n  color: var(--color-grey-dark);\n  display: flex;\n  cursor: pointer;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    & {\n      box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n      transform: translateY(-2px);\n    }\n  }\n\n  h1 {\n    flex-grow: 1;\n    font-size: 1.8rem;\n    margin: 0;\n  }\n\n  input {\n    font-size: 1.3rem;\n    width: 0px;\n  }\n\n  button {\n    opacity: 1;\n    margin-left: 0.5rem;\n  }\n"])),(function(n){return _e[n.color]})),Qr=function(n){var e=n.reactionCompounds,t=n.removeCompound,r=n.updateCompound,o=n.compoundType,i=Be().findCompound;return Object(ot.jsx)(ot.Fragment,{children:e.map((function(n){var a=i(n.compoundId),c=e.findIndex((function(e){return e.compoundId===n.compoundId}));return Object(ot.jsx)(Gr,{compound:a,reactionCompound:n,updateCompound:function(n){r(c,o,n)},removeCompound:function(){t(c,o)}},n.compoundId)}))})},Zr=function(n){var e=n.tokenizedEquation,t=[],r=[],o=[];return e.forEach((function(n){if(n.type===Ie)r.push([]);else if(n.type===ze){var e=r.pop(),i=0===r.length?t:r[r.length-1];if(o.length>0&&o[o.length-1].level===r.length){var a=o.pop();if("/"===a.code){var c=i.pop();i.push(Object(ot.jsx)(eo,{numerator:c,denominator:Object(ot.jsx)(no,{elements:e})}))}else if("^"===a.code){var l=i.pop();i.push(Object(ot.jsx)(ro,{base:l,power:Object(ot.jsx)(no,{elements:e})}))}else"-"!==a.code&&"+"!==a.code||(i.push(a.code),i.push(Object(ot.jsx)(no,{elements:e})))}else i.push(Object(ot.jsx)(no,{elements:e}))}else if(n.type===Se||n.type===Te)if(r.length>0)r[r.length-1].push(Object(ot.jsx)($r,{symbol:n.value.replace(/<|>|{|}/g,"")}));else if(o.length>0){var s=o.pop();if("/"===s.code){var u=t.pop();t.push(Object(ot.jsx)(eo,{numerator:u,denominator:Object(ot.jsx)($r,{symbol:n.value.replace(/<|>|{|}/g,"")})}))}else if("^"===s.code){var d=t.pop();t.push(Object(ot.jsx)(ro,{base:d,power:Object(ot.jsx)($r,{symbol:n.value.replace(/<|>|{|}/g,"")})}))}}else t.push(Object(ot.jsx)($r,{symbol:n.value.replace(/<|>|{|}/g,"")}));else n.type===Ee&&("/"===n.value||"^"===n.value?o.push({code:n.value,level:r.length}):r.length>0?"+"===n.value||"-"===n.value?r[r.length-1].push(Object(ot.jsx)(ot.Fragment,{children:n.value})):"*"===n.value&&r[r.length-1].push(Object(ot.jsx)(ot.Fragment,{children:"."})):"+"===n.value||"-"===n.value?t.push(Object(ot.jsx)(ot.Fragment,{children:n.value})):"*"===n.value&&t.push(Object(ot.jsx)(ot.Fragment,{children:"."})))})),Object(ot.jsx)(ot.Fragment,{children:t.map((function(n,e){return Object(ot.jsx)(xn.Fragment,{children:n},e)}))})},$r=function(n){var e=n.symbol.split("_");e.forEach((function(n,t){switch(n){case"\\alpha":e[t]=Object(ot.jsx)(co,{});break;case"\\beta":e[t]=Object(ot.jsx)(lo,{});break;case"\\mu":e[t]=Object(ot.jsx)(so,{});break;case"\\inf":e[t]=Object(ot.jsx)(uo,{})}}));for(var t=e.length-1;t>0;t--){var r=e.pop();e[t-1]=Object(ot.jsx)(io,{base:e[t-1],subindex:r})}return e[0]},no=function(n){var e=n.elements;return Object(ot.jsx)(ot.Fragment,{children:e.map((function(n,e){return Object(ot.jsx)(xn.Fragment,{children:n},e)}))})},eo=function(n){var e=n.numerator,t=n.denominator;return Object(ot.jsxs)(to,{children:[Object(ot.jsx)("div",{children:e}),Object(ot.jsx)("div",{}),Object(ot.jsx)("div",{children:t})]})},to=se.b.div(Z||(Z=Object(le.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  & > div:not(:nth-child(2)) {\n    display: flex;\n    padding: 0.5rem;\n    position: relative;\n  }\n\n  & > div:nth-child(2) {\n    width: 100%;\n    height: 2px;\n    background-color: var(--color-grey-dark);\n  }\n"]))),ro=function(n){var e=n.base,t=n.power;return Object(ot.jsxs)(oo,{children:[Object(ot.jsx)("div",{children:e}),Object(ot.jsx)("div",{className:"exponent",children:t})]})},oo=se.b.div($||($=Object(le.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  & > .exponent {\n    transform: translateY(-30%) scale(0.7);\n  }\n"]))),io=function(n){var e=n.base,t=n.subindex;return Object(ot.jsxs)(ao,{children:[Object(ot.jsx)("div",{children:e}),Object(ot.jsx)("div",{className:"subindex",children:t})]})},ao=se.b.div(nn||(nn=Object(le.a)(["\n  position: relative;\n  display: flex;\n\n  & > .subindex {\n    transform: translateY(30%) scale(0.75);\n  }\n"]))),co=function(){return Object(ot.jsx)("span",{children:"\u03b1"})},lo=function(){return Object(ot.jsx)("span",{children:"\u03b2"})},so=function(){return Object(ot.jsx)("span",{children:"\u03bc"})},uo=function(){return Object(ot.jsx)("span",{children:"\u221e"})},po=function(n){var e=n.reaction,t=(0,Be().findCompound)(e.keyCompound),r=(null===t||void 0===t?void 0:t.symbol)||void 0;return Object(ot.jsxs)(bo,{children:[r&&Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(io,{base:"r",subindex:r}),"\xa0=\xa0"]}),Object(ot.jsx)(Zr,{tokenizedEquation:e.kineticEquation})]})},bo=se.b.div(en||(en=Object(le.a)(['\n  align-items: center;\n  align-self: stretch;\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-light);\n  border-radius: 5px;\n  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.1);\n  color: var(--color-grey-dark);\n  display: flex;\n  font-size: 1.8rem;\n  justify-content: center;\n  padding: 1.5rem;\n  margin: 1.5rem 0 1rem;\n\n  span {\n    font-family: "Comfortaa", symbol;\n  }\n']))),mo=/(\d+(.\d+)?([eE]{1,1}[-]?\d+(.\d+)?)?)/g,fo=function(n){var e=n.paramSymbol,t=n.value,r=n.units,o=n.updateValue,i=Object(xn.useState)(t),a=Object(pe.a)(i,2),c=a[0],l=a[1];return Object(ot.jsx)(ho,{children:Object(ot.jsxs)(jo,{children:[Object(ot.jsx)("h1",{children:e}),Object(ot.jsx)(zt,{value:c,type:"text",onChange:function(n){if(""!==n.target.value){var e=n.target.value.split("").filter((function(n){return"0123456789.-+eE".indexOf(n)>-1})).join("");l(e)}else l("")},onBlur:function(){var n;if(Jt(c)){var e=null===(n=c.match(mo))||void 0===n?void 0:n[0];e?(o(e),l(e)):l(c)}else l(c)},transparent:!0}),r&&Object(ot.jsx)(Rt,{text:r})]})})},ho=se.b.div(tn||(tn=Object(le.a)(["\n  flex-basis: 50%;\n  flex-shrink: 0;\n  position: relative;\n  z-index: 2;\n\n  @media screen and (max-width: 600px) {\n    flex-basis: 100%;\n  }\n\n  &:hover {\n    z-index: 3;\n  }\n"]))),jo=se.b.div(rn||(rn=Object(le.a)(['\n  position: relative;\n  align-items: center;\n  background-color: var(--color-grey-light);\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  margin: 0.5rem;\n  padding: 1rem 1.3rem;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  h1 {\n    color: var(--color-grey-dark);\n    font-size: 1.6rem;\n    margin: 0;\n    margin-right: 1rem;\n    flex-grow: 1;\n\n    span {\n      /* Greek symbols */\n      font-family: "Comfortaa", symbol;\n    }\n  }\n\n  input {\n    font-size: 1.4rem;\n  }\n']))),go=function(n){var e,t=n.reaction,r=n.updateKineticConstant,o=ke().settings,i=t.kineticModel,a=(e=o.timeUnits,Yt[e]),c=Ht(o.volumeUnits),l=Gt(o.molarUnits),s=[{type:Se,value:"".concat(a)},{type:Ee,value:"^"},{type:Se,value:"-1"}],u=[{type:Se,value:"".concat(a)},{type:Ee,value:"^"},{type:Se,value:"-1"}],d=Object.entries(null===t||void 0===t?void 0:t.kineticConstants).reduce((function(n,e){var t=Object(pe.a)(e,2),r=t[0],o=t[1];return"preExponential"===r||"activationEnergy"===r?n:n+parseFloat(o)}),-(null===t||void 0===t?void 0:t.kineticConstants.k)||0);return 1!==d&&(u.push({type:Ee,value:"*"}),u.push({type:Se,value:"".concat(c)}),u.push({type:Ee,value:"^"}),u.push({type:Se,value:"".concat(d-1)}),u.push({type:Ee,value:"*"}),u.push({type:Se,value:"".concat(l)}),u.push({type:Ee,value:"^"}),u.push({type:Se,value:"".concat(-(d-1))})),Object(ot.jsx)(xo,{children:Object.entries(t.kineticConstants).map((function(n){var e,t,o=Object(pe.a)(n,2),a=o[0],c=o[1];return e=i===Me?Object(ot.jsx)(Zr,{tokenizedEquation:s}):Object(ot.jsx)(Zr,{tokenizedEquation:u}),t=a,Object(ot.jsx)(fo,{paramSymbol:Object(ot.jsx)($r,{symbol:t}),value:c,units:e,updateValue:function(n){r(a,n)}},a)}))})},xo=se.b.div(on||(on=Object(le.a)(["\n  align-self: stretch;\n  background-color: var(--color-grey-lightest);\n  border-radius: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n\n  input {\n    margin-left: 0;\n  }\n"]))),vo=function(n,e){var t=function(n){return e.find((function(e){return e.id===n}))},r=[];switch(n.kineticModel){case Me:return r.push({type:Se,value:"<k_\\inf>"}),Oo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;wo(r,e)})),r;case Ve:return r.push({type:Se,value:"<k_\\inf>"}),Oo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;yo(r,e)})),n.products.forEach((function(n){var e=t(n.compoundId).symbol;ko(r,e)})),r;default:return r.push({type:Se,value:"<k_\\inf>"}),Oo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;yo(r,e)})),r}},Oo=function(n){n.push({type:Ee,value:"*"}),n.push({type:Se,value:"e"}),n.push({type:Ee,value:"^"}),n.push({type:Ie,value:"("}),n.push({type:Ie,value:"("}),n.push({type:Ee,value:"-"}),n.push({type:Se,value:"<E_A>"}),n.push({type:ze,value:")"}),n.push({type:Ee,value:"/"}),n.push({type:Ie,value:"("}),n.push({type:Se,value:"<R>"}),n.push({type:Ee,value:"*"}),n.push({type:Te,value:"{T}"}),n.push({type:ze,value:")"}),n.push({type:ze,value:")"})},yo=function(n,e){n.push({type:Ee,value:"*"}),n.push({type:Te,value:"{[".concat(e,"]}")}),n.push({type:Ee,value:"^"}),n.push({type:Se,value:"<\\alpha_".concat(e,">")})},ko=function(n,e){n.push({type:Ee,value:"*"}),n.push({type:Te,value:"{[".concat(e,"]}")}),n.push({type:Ee,value:"^"}),n.push({type:Se,value:"<\\beta_".concat(e,">")})},wo=function(n,e){n.push({type:Ee,value:"*"}),n.push({type:Te,value:"{[".concat(e,"]}")}),n.push({type:Ee,value:"/"}),n.push({type:Ie,value:"("}),n.push({type:Se,value:"<K_".concat(e,">")}),n.push({type:Ee,value:"+"}),n.push({type:Te,value:"{[".concat(e,"]}")}),n.push({type:ze,value:")"})},Co=function(n){var e=n.compounds,t=n.reaction,r=n.closeModal,o=Be().findCompound,i=Ue(),a=i.reactions,c=i.updateReaction,l=Object(xn.useState)(!1),s=Object(pe.a)(l,2),u=s[0],d=s[1],p=a.findIndex((function(n){return n.id===t.id})),b=Object(xn.useState)(JSON.parse(JSON.stringify(t))),m=Object(pe.a)(b,2),f=m[0],h=m[1],j=Object(xn.useRef)(document.getElementById("scroll-target")),g=Object(xn.useState)(void 0),x=Object(pe.a)(g,2),v=x[0],O=x[1],y=Object(xn.useState)(void 0),k=Object(pe.a)(y,2),w=k[0],C=k[1],S=Object(xn.useMemo)((function(){return e.filter((function(n){var e,t=Object(_r.a)(f.reactants);try{for(t.s();!(e=t.n()).done;){if(e.value.compoundId===n.id)return!1}}catch(r){t.e(r)}finally{t.f()}return!0})).map((function(n){return{value:e.findIndex((function(e){return e.id===n.id})),displayText:n.symbol,collapsedDisplayText:n.symbol,hoverBackgroundColor:_e[n.color]}}))}),[f.reactants]),T=Object(xn.useMemo)((function(){return e.filter((function(n){var e,t=Object(_r.a)(f.products);try{for(t.s();!(e=t.n()).done;){if(e.value.compoundId===n.id)return!1}}catch(r){t.e(r)}finally{t.f()}return!0})).map((function(n){return{value:e.findIndex((function(e){return e.id===n.id})),displayText:n.symbol,collapsedDisplayText:n.symbol,hoverBackgroundColor:_e[n.color]}}))}),[f.products]),E=function(n){return n===Re?"reactants":"products"},I=function(n,t){var r=E(t),o=JSON.parse(JSON.stringify(f));o[r].push({compoundId:n,stoichiometricCoefficient:1});var i=Ar(o.kineticModel,o,e);o.kineticConstants=i,o.kineticEquation=vo(o,e),h(o)},z=function(n,e,t){var r=E(e),o=Object(Gn.a)({},f);o[r][n]=t,h(o)},R=function(n,t){var r=E(t),o=Object(Gn.a)({},f),i=o[r][n];o[r]=[].concat(Object(Sn.a)(o[r].slice(0,n)),Object(Sn.a)(o[r].slice(n+1,o[r].length))),i.compoundId===f.keyCompound&&(o.keyCompound=void 0);var a=Ar(o.kineticModel,o,e);o.kineticConstants=a,o.kineticEquation=vo(o,e),h(o)},F=v?{value:v,displayText:e[v].symbol,collapsedDisplayText:e[v].symbol}:void 0,N=w?{value:w,displayText:e[w].symbol,collapsedDisplayText:e[w].symbol}:void 0;return Object(ot.jsxs)(kt,{closing:u,setClosing:d,handleClose:r,children:[Object(ot.jsx)(zr,{reaction:f}),Object(ot.jsx)("br",{}),Object(ot.jsx)(So,{children:Object(ot.jsx)(Dt,{fieldName:"name",label:"Reaction name:",onChange:function(n){h(Object(Gn.a)(Object(Gn.a)({},f),{},{name:n.target.value}))},value:f.name})}),Object(ot.jsxs)(Lr,{children:[Object(ot.jsxs)(To,{children:[Object(ot.jsx)("h2",{children:"Reactants"}),Object(ot.jsx)(Io,{children:Object(ot.jsx)(pr,{defaultDisplayValue:"Compound...",hoverIcon:Object(ot.jsx)(ge.g,{}),initialValue:F,selectOptions:S,onSelectionChange:function(n){void 0!==n&&I(e[n].id,Re),O(void 0)}})}),Object(ot.jsx)(Eo,{children:0!==f.reactants.length?Object(ot.jsx)(Qr,{reactionIndex:p,reactionCompounds:f.reactants,removeCompound:R,updateCompound:z,compoundType:Re}):Object(ot.jsx)(Ir,{children:"No compounds..."})})]}),Object(ot.jsxs)(To,{children:[Object(ot.jsx)("h2",{children:"Products"}),Object(ot.jsx)(Io,{children:Object(ot.jsx)(pr,{defaultDisplayValue:"Compound...",hoverIcon:Object(ot.jsx)(ge.g,{}),initialValue:N,selectOptions:T,onSelectionChange:function(n){void 0!==n&&I(e[n].id,Fe),C(void 0)}})}),Object(ot.jsx)(Eo,{children:0!==f.products.length?Object(ot.jsx)(Qr,{reactionIndex:p,reactionCompounds:f.products,removeCompound:R,updateCompound:z,compoundType:Fe}):Object(ot.jsx)(Ir,{children:"No compounds..."})})]})]}),Object(ot.jsxs)(Hr,{children:[Object(ot.jsx)("h2",{children:"Kinetics"}),Object(ot.jsxs)(So,{children:[Object(ot.jsx)("p",{children:"Kinetic model"}),Object(ot.jsx)(pr,{initialValue:{value:f.kineticModel,displayText:Br[f.kineticModel],collapsedDisplayText:Br[f.kineticModel]},selectOptions:Br.map((function(n,e){return{value:e,displayText:n,collapsedDisplayText:n}})),onSelectionChange:function(n){var t=JSON.parse(JSON.stringify(f));t.kineticConstants=Ar(n,f,e),t.kineticModel=n,t.kineticEquation=vo(t,e),h(t)}})]}),Object(ot.jsxs)(So,{children:[Object(ot.jsx)("p",{children:"Key compound"}),Object(ot.jsx)(pr,{defaultDisplayValue:"Reactant...",initialValue:void 0!==f.keyCompound?{value:f.keyCompound,displayText:o(f.keyCompound).symbol,collapsedDisplayText:o(f.keyCompound).symbol}:void 0,selectOptions:f.reactants.map((function(n){return{value:n.compoundId,displayText:o(n.compoundId).symbol,collapsedDisplayText:o(n.compoundId).symbol}})),onSelectionChange:function(n){var e=JSON.parse(JSON.stringify(f));e.keyCompound=n,h(e)}})]}),Object(ot.jsx)(po,{reaction:f}),Object(ot.jsx)(go,{reaction:f,compounds:e,updateKineticConstant:function(n,e){var t=JSON.parse(JSON.stringify(f));t.kineticConstants[n]=e,h(t)}})]}),Object(ot.jsx)(Bt,{color:"green",onClick:function(){var n;c(t.id,f),null===j||void 0===j||null===(n=j.current)||void 0===n||n.scrollTo({top:0,behavior:"smooth"}),d(!0)},children:"Done"})]})},So=se.b.div(an||(an=Object(le.a)(["\n  display: flex;\n  align-items: center;\n  width: 50%;\n\n  p {\n    color: var(--color-grey-dark);\n    flex-grow: 1;\n    font-size: 1rem;\n    margin-right: 1.4rem;\n    flex-basis: 50%;\n  }\n\n  div {\n    flex-basis: 45%;\n  }\n\n  @media screen and (max-width: 750px) {\n    width: 100%;\n  }\n"]))),To=se.b.div(cn||(cn=Object(le.a)(["\n  flex-basis: 50%;\n\n  @media (max-width: 700px) {\n    flex-basis: 100%;\n  }\n"]))),Eo=se.b.div(ln||(ln=Object(le.a)(["\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-light);\n  border-radius: 5px;\n  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.1);\n  margin: 0.5rem 0.3rem;\n  padding: 0.5rem;\n"]))),Io=se.b.div(sn||(sn=Object(le.a)(["\n  display: flex;\n  margin: 0.3rem;\n\n  & > button {\n    margin-left: 0.5rem;\n  }\n"]))),zo=function(){var n=Be().compounds,e=Ue(),t=e.reactions,r=e.removeReaction,o=Object(xn.useState)(void 0),i=Object(pe.a)(o,2),a=i[0],c=i[1],l=function(n){return c(n)},s=Object(xn.useMemo)((function(){return a?t.find((function(n){return n.id===a})):void 0}),[t,a]);return Object(ot.jsxs)(ot.Fragment,{children:[0===t.length&&Object(ot.jsx)(or,{children:"No reactions added yet"}),t.map((function(n,e){return Object(ot.jsx)(Mr,{reaction:n,reactionIndex:e,editReaction:function(){l(n.id)},removeReaction:function(){r(n.id)},children:"Reaction"},e)})),a&&Object(ot.jsx)(Co,{compounds:n,reaction:s,closeModal:function(){return l()}})]})},Ro=function(){var n=Ue(),e=n.addReaction,t=n.resetReactions;return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(ft,{children:"Reactions"}),Object(ot.jsxs)(fe,{color:"green",onClick:e,children:["Add ",Object(ot.jsx)(ge.g,{})]}),Object(ot.jsx)(fe,{color:"red",buttonStyle:"\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.6rem 1rem;\n",onClick:function(){window.confirm("Are you sure you want to delete all reactions?")&&t()},children:Object(ot.jsx)(ge.i,{size:20})}),Object(ot.jsx)(zo,{})]})},Fo=30,No=function(n){var e=n.canvas,t=n.data,r=n.colors,o=e.getContext("2d");if(o){o.clearRect(0,0,o.canvas.width,o.canvas.height),o.lineWidth=1;var i=Do({height:o.canvas.height,data:t});Mo({context:o,ticks:i}),Vo({context:o,ticks:i}),Uo({context:o,data:t,colors:r,yAxisTicks:i})}},Mo=function(n){for(var e=n.context,t=n.ticks,r=e.canvas.width,o=e.canvas.height,i=o-60,a=t.totalTicks,c=t.tickDistance,l=1;l<=a;l++){var s=o-Fo-i*l/a;e.beginPath(),e.strokeStyle="hsl(213, 20%, 20%)",e.moveTo(10,s),e.lineTo(Fo,s),e.stroke(),e.beginPath(),e.strokeStyle="hsl(213, 20%, 85%)",e.moveTo(Fo,s),e.lineTo(r-Fo,s),e.stroke(),e.font="16px Mulish",e.fillStyle="hsl(213, 20%, 80%)",e.textAlign="right",e.fillText(Ao(l*c),r-Fo,s+18)}e.strokeStyle="hsl(213, 20%, 20%)",e.beginPath(),e.moveTo(Fo,Fo),e.lineTo(Fo,o-Fo),e.stroke()},Vo=function(n){var e=n.context,t=(n.ticks,e.canvas.height),r=e.canvas.width;e.strokeStyle="hsl(213, 20%, 30%)",e.beginPath(),e.moveTo(Fo,t-Fo),e.lineTo(r-Fo,t-Fo),e.stroke()},Uo=function(n){for(var e,t=n.colors,r=n.context,o=n.data,i=n.yAxisTicks,a=0!==o.length?null===(e=o[0][o[0].length-1])||void 0===e?void 0:e.x:10,c=i.tickDistance*i.totalTicks,l=r.canvas.width-60,s=r.canvas.height-60,u=0;u<o.length;u++){r.beginPath();for(var d=new Path2D,p=o[u],b=t[u],m=1;m<p.length;m++)d.moveTo(Fo+l*p[m-1].x/a,Fo+s*(1-p[m-1].y/c)),d.lineTo(Fo+l*p[m].x/a,Fo+s*(1-p[m].y/c));r.lineWidth=4,r.strokeStyle=b,r.stroke(d)}},Do=function(n){var e=n.data,t=n.height,r=Math.floor((t-Fo)/50)||10,o=_o(e)||10,i=Bo(o,r);return{tickDistance:i,totalTicks:Math.ceil(o/i)}},_o=function(n){var e=[];return 0===n.length?10:(n.forEach((function(n){e.push(Math.max.apply(Math,Object(Sn.a)(n.map((function(n){return n.y})))))})),Math.max.apply(Math,e))},Bo=function(n,e){var t=Jo(n);return n/Math.pow(10,t)<3?Math.pow(10,t-1):Math.pow(10,t)},Ao=function(n){if(n>=100||n<.1){var e=n.toString();return"".concat(e[0],".").concat(e[1],"e").concat(Jo(n))}return n<100&&n>=10?n.toFixed(0):n<10&&n>=1?n.toFixed(1):n.toFixed(2)},Jo=function(n){var e=0;if(n>1){for(;n/Math.pow(10,e)>=10;)e++;return e}for(;n*Math.pow(10,e)<=.1;)e++;return 0===e?e:-1*e},qo=function(n){var e=n.colors,t=n.data,r=Object(xn.useRef)(null),o=Object(xn.useState)(window.innerWidth-130),i=Object(pe.a)(o,2),a=i[0],c=i[1],l=Object(xn.useState)(window.innerHeight-80),s=Object(pe.a)(l,2),u=s[0],d=s[1],p=Object(xn.useCallback)((function(){c(window.innerWidth-130),d(window.innerHeight-120),No({canvas:r.current,data:t,colors:e})}),[t]);return Object(xn.useEffect)((function(){return window.addEventListener("resize",p),No({canvas:r.current,data:t,colors:e}),function(){return window.removeEventListener("resize",p)}}),[p,t]),Object(ot.jsx)(Wo,{ref:r,height:u,width:a})},Wo=se.b.canvas(un||(un=Object(le.a)(["\n  border-radius: 5px;\n  background-color: var(--color-grey-lightest);\n"]))),Yo=function(n){var e=n.selectedVariables,t=n.setSelectedVariables,r=Be().compounds,o=function(n){return-1!==e.findIndex((function(e){return e===n}))};return Object(ot.jsx)(Ko,{children:r.map((function(n,r){var i=_e[n.color];return Object(ot.jsxs)(Po,{onClick:function(){return function(n){var r=e.findIndex((function(e){return e===n}));t(-1!==r?[].concat(Object(Sn.a)(e.slice(0,r)),Object(Sn.a)(e.slice(r+1,e.length))):[].concat(Object(Sn.a)(e),[n]))}(r)},toggled:o(r),color:i,children:[Object(ot.jsx)(Lo,{color:i,toggled:o(r)}),Object(ot.jsx)(Ho,{children:n.symbol}),Object(ot.jsx)(Go,{children:e.includes(r)?Object(ot.jsx)(Or.a,{}):null})]},n.id)}))})},Ko=se.b.div(dn||(dn=Object(le.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),Po=se.b.button(pn||(pn=Object(le.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: none;\n  margin-bottom: 0.5rem;\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    ",";\n  }\n"])),(function(n){return n.toggled?n.color:"var(--color-grey-lighter)"}),(function(n){return n.toggled?"opacity: 0.8":"background-color: var(--color-grey-lightest)"})),Lo=se.b.div(bn||(bn=Object(le.a)(["\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n  background-color: ",";\n  margin-right: 1rem;\n  box-shadow: ",";\n"])),(function(n){return n.color}),(function(n){return n.toggled?"":"0 2px 5px -2px var(--color-grey-normal)"})),Ho=se.b.span(mn||(mn=Object(le.a)(["\n  flex-grow: 1;\n  text-align: left;\n  font-size: 1rem;\n"]))),Go=se.b.div(fn||(fn=Object(le.a)(["\n  width: 1.1rem;\n  height: 1.1rem;\n  border: 2px solid var(--color-grey-darker);\n  border-radius: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    fill: var(--color-grey-darker);\n  }\n"]))),Xo=function(n){var e=n.optionsVisible,t=n.toggleOptionsVisible,r=n.selectedVariables,o=n.setSelectedVariables;return Object(ot.jsxs)(Qo,{visible:e,children:[Object(ot.jsx)(Zo,{onClick:t,children:Object(ot.jsx)(ge.j,{size:20})}),Object(ot.jsx)("h3",{children:"Variables"}),Object(ot.jsx)(Yo,{selectedVariables:r,setSelectedVariables:o})]})},Qo=se.b.div(hn||(hn=Object(le.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: calc(300px - 2rem);\n  padding: 1rem;\n  padding-top: 2rem;\n  transform: ",";\n  background-color: var(--color-grey-light);\n  transition: all 0.15s ease-in-out;\n  box-shadow: ",";\n"])),(function(n){return n.visible?"translateX(0px)":"translateX(300px)"}),(function(n){return n.visible?"0 0 20px -5px var(--color-grey-normal)":"unset"})),Zo=se.b.div(jn||(jn=Object(le.a)(["\n  position: absolute;\n  top: 0.5rem;\n  left: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  border-radius: 5px;\n  transition: background-color 0.15s ease-in-out;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"]))),$o=function(){var n=Ae().simulationResults;return{variableData:function(e){return null===n||void 0===n?void 0:n.map((function(n){return{x:n.t,y:n[e]}}))}}},ni=function(){var n=$o().variableData,e=Be().compounds,t=Object(xn.useState)([0]),r=Object(pe.a)(t,2),o=r[0],i=r[1],a=Object(xn.useState)(!1),c=Object(pe.a)(a,2),l=c[0],s=c[1],u=function(){return s(!l)},d=Object(xn.useMemo)((function(){var t=[],r=[];return o.forEach((function(o){var i=e[o],a=n("[".concat(i.symbol,"]"));t.push(a),r.push(_e[i.color])})),[t,r]}),[o]),p=Object(pe.a)(d,2),b=p[0],m=p[1];return Object(ot.jsxs)(ot.Fragment,{children:[Object(ot.jsx)(ft,{children:"Results"}),Object(ot.jsx)(ei,{onClick:u,children:"Options"}),Object(ot.jsx)(Xo,{optionsVisible:l,toggleOptionsVisible:u,selectedVariables:o,setSelectedVariables:i}),Object(ot.jsx)(qo,{data:b,colors:m})]})},ei=se.b.button(gn||(gn=Object(le.a)(["\n  float: right;\n  margin-bottom: 0.5rem;\n  padding: 0.8rem;\n  background-color: var(--color-grey-lighter);\n  border: none;\n  font-size: 1rem;\n  border-radius: 5px;\n\n  &:hover {\n    background-color: var(--color-grey-lightest);\n  }\n"]))),ti=function(){var n=Ae().simulationResults;return Object(ot.jsxs)(be.d,{children:[Object(ot.jsx)(be.b,{path:"/",exact:!0,component:cr}),Object(ot.jsx)(be.b,{path:"/compounds",component:cr}),Object(ot.jsx)(be.b,{path:"/reactions",component:Ro}),Object(ot.jsx)(be.b,{path:"/settings",component:Tr}),Object(ot.jsx)(be.b,{path:"/batch-simulator",children:Object(ot.jsx)(be.a,{to:{pathname:"/"}})}),Object(ot.jsx)(be.b,{path:"/results",component:ni,children:(null===n||void 0===n?void 0:n.length)?Object(ot.jsx)(ni,{}):Object(ot.jsx)(be.a,{to:{pathname:"/"}})})]})},ri=function(){return Object(ot.jsx)(wn.a,{store:ce,children:Object(ot.jsxs)(kn.a,{children:[Object(ot.jsx)(de,{}),Object(ot.jsx)(ut,{children:Object(ot.jsx)(ti,{})})]})})},oi=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,260)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;t(n),r(n),o(n),i(n),a(n)}))};yn.a.render(Object(ot.jsx)(vn.a.StrictMode,{children:Object(ot.jsx)(ri,{})}),document.getElementById("root")),oi()}},[[259,1,2]]]);
//# sourceMappingURL=main.c9dec7c3.chunk.js.map