(this["webpackJsonpbatch-simulator"]=this["webpackJsonpbatch-simulator"]||[]).push([[0],{154:function(n,e,t){},163:function(n,e){},165:function(n,e){},175:function(n,e){},177:function(n,e){},204:function(n,e){},205:function(n,e){},210:function(n,e){},212:function(n,e){},219:function(n,e){},238:function(n,e){},259:function(n,e,t){"use strict";t.r(e);var r,o,i,a,c,l,s,u,d,p,b,m,f,h,j,g,v,x,O,y,k,w,C,S,T,E,I,z,R,F,N,U,M,V,_,D,B,A,J,W,q,Y,K,P,L,H,G,X,Q,Z,$,nn,en,tn,rn,on,an,cn,ln,sn,un,dn,pn,bn,mn=t(2),fn=t.n(mn),hn=t(56),jn=t.n(hn),gn=(t(154),t(57)),vn=t(50),xn=t(27),On=t(14),yn=function(n){try{var e=localStorage.getItem(n);if(null===e)return;return JSON.parse(e)}catch(t){return}},kn=function(n,e){try{var t=JSON.stringify(n);localStorage.setItem(e,t)}catch(r){console.error(r)}},wn="batch-simulator:compounds",Cn=yn(wn)||[],Sn=Object(xn.b)({name:"compounds",initialState:Cn,reducers:{add:function(n,e){return[].concat(Object(On.a)(n),[e.payload])},update:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));if(-1===t)return n;n[t]=e.payload.compound},remove:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));return-1===t?n:[].concat(Object(On.a)(n.slice(0,t)),Object(On.a)(n.slice(t+1,n.length)))},reset:function(){return[]}}}),Tn=Sn.actions,En=Tn.add,In=Tn.update,zn=Tn.remove,Rn=Tn.reset,Fn=Sn.reducer,Nn="batch-simulator:reactions",Un=yn(Nn)||[],Mn=Object(xn.b)({name:"reactions",initialState:Un,reducers:{reset:function(n){return[]},add:function(n,e){return[].concat(Object(On.a)(n),[e.payload])},update:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));if(-1===t)return n;n[t]=e.payload.reaction},remove:function(n,e){var t=n.findIndex((function(n){return n.id===e.payload.id}));return-1===t?n:[].concat(Object(On.a)(n.slice(0,t)),Object(On.a)(n.slice(t+1,n.length)))},removeCompound:function(n,e){var t=e.payload.id;return n.forEach((function(n){n.reactants=n.reactants.filter((function(n){return n.compoundId!==t})),n.products=n.products.filter((function(n){return n.compoundId!==t})),n.keyCompound===t&&(n.keyCompound=void 0)})),n}}}),Vn=Mn.actions,_n=Vn.reset,Dn=Vn.add,Bn=Vn.update,An=Vn.remove,Jn=Vn.removeCompound,Wn=Mn.reducer,qn=t(58),Yn=t(9),Kn="batch-simulator:settings",Pn=yn(Kn)||{reactionTime:30,deadTime:30,timeStep:.1,timeUnits:0,volumeUnits:0,molarUnits:0,massUnits:0,temperatureUnits:0,energyUnits:0,isothermal:!0,initialTemperature:300},Ln=Object(xn.b)({name:"settings",initialState:Pn,reducers:{reset:function(){return Pn},save:function(n,e){return e.payload},saveField:function(n,e){return Object(Yn.a)(Object(Yn.a)({},n),{},Object(qn.a)({},e.payload.field,e.payload.value))}}}),Hn=Ln.actions,Gn=Hn.reset,Xn=Hn.save,Qn=Hn.saveField,Zn=Ln.reducer,$n=Object(xn.b)({name:"simulationResults",initialState:[],reducers:{save:function(n,e){return e.payload}}}),ne=$n.actions.save,ee=$n.reducer,te=Object(xn.a)({reducer:{compounds:Fn,reactions:Wn,settings:Zn,simulationResults:ee}}),re=te,oe=t(3),ie=t(4),ae=Object(ie.a)(r||(r=Object(oe.a)(["\n  :root {\n    --color-primary-darkest: hsl(213,48%,15%);\n    --color-primary-darker: hsl(213,48%,30%);\n    --color-primary-dark: hsl(213,48%,50%);\n    --color-primary-normal: hsl(213,48%,70%);\n    --color-primary-light: hsl(213,48%,85%);\n    --color-primary-lighter: hsl(213,48%,95%);\n\n    --color-triadic-green-darker: hsl(93,40%,30%);\n    --color-triadic-green-dark: hsl(93,40%,45%);\n    --color-triadic-green-normal: hsl(93,40%,70%);\n    --color-triadic-green-light: hsl(93,40%,85%);\n    --color-triadic-green-lighter: hsl(93,40%,95%);\n\n    --color-triadic-red-darker: hsl(333,48%,30%);\n    --color-triadic-red-dark: hsl(333,48%,45%);\n    --color-triadic-red-normal: hsl(333,48%,70%);\n    --color-triadic-red-light: hsl(333,48%,85%);\n    --color-triadic-red-lighter: hsl(333,48%,95%);\n\n    --color-grey-darker: hsl(213, 20%, 15%);\n    --color-grey-dark: hsl(213, 20%, 30%);\n    --color-grey-normal: hsl(213, 20%, 45%);\n    --color-grey-light: hsl(213, 20%, 70%);\n    --color-grey-lighter: hsl(213, 20%, 85%);\n    --color-grey-lightest: hsl(213, 20%, 95%);\n  }\n  \n  body {\n    margin: 0;\n    background-color: var(--color-grey-lighter);\n    font-family: 'Mulish', sans-serif;\n\n    @media (max-width: 800px) {\n      margin-top: 0;\n    }\n  }\n\n  a, button {\n    cursor: pointer;\n  }\n\n  a, button, input {\n    transition: all 0.15s ease-in-out;\n  }\n\n  /* Scrollbar */\n  /* Width */\n  ::-webkit-scrollbar {\n    opacity: 0;\n    width: 5px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    background: var(--color-grey-lighter); \n  }\n  \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    opacity: 0;\n    border-radius: 10px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    opacity: 0;\n  }\n\n  @keyframes slide-in {\n    from {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n\n    to {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n  }\n\n  @keyframes slide-out {\n    from {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n    \n    to {\n      opacity: 0;\n      transform: translateY(-20px);\n    }\n  }\n"]))),ce=ae,le=t(7),se=t(12),ue=ie.b.button(o||(o=Object(oe.a)(["\n  align-items: center;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  font-size: 1.1rem;\n  justify-content: space-between;\n  padding: 5px 10px;\n  text-decoration: none;\n\n  ","\n\n  &:hover {\n    ","\n  }\n\n  /* Any additional custom styles */\n  ","\n"])),(function(n){return pe(n.color)}),(function(n){return be(n.color)}),(function(n){var e;return null!==(e=n.buttonStyle)&&void 0!==e?e:""})),de=ue,pe=function(n){switch(n){case"red":return"\n        background-color: var(--color-triadic-red-dark);\n        color: var(--color-grey-lightest);\n      ";case"green":return"\n        background-color: var(--color-triadic-green-dark);\n        color: var(--color-grey-lightest);\n      ";case"grey":return"\n        background-color: var(--color-grey-dark);\n        color: var(--color-grey-lightest);\n      ";default:return"\n        background-color: var(--color-primary-dark);\n        color: var(--color-grey-lightest);\n      "}},be=function(n){switch(n){case"red":return"\n        background-color: var(--color-triadic-red-darker);\n      ";case"green":return"\n        background-color: var(--color-triadic-green-darker);\n      ";case"grey":return"\n        background-color: var(--color-grey-darker);\n      ";default:return"\n        background-color: var(--color-primary-darker);\n      "}},me=t(8),fe=t(88),he=t(146),je=function(){return Object(vn.b)()},ge=vn.c,ve=function(){var n=je(),e=ge((function(n){return n.settings}));return Object(mn.useEffect)((function(){kn(e,Kn)}),[e]),{settings:e,resetSettings:function(){n(Gn())},saveSettings:function(e){n(Xn(e))},saveField:function(e,t){n(Qn({field:e,value:t}))}}},xe=t(43),Oe=t.n(xe),ye="parameter",ke="variable",we="operator",Ce="left-parenthesis",Se="right-parenthesis",Te=0,Ee=1,Ie=0,ze=1,Re=2,Fe=function(){var n=je(),e=ge((function(n){return n.reactions}));return Object(mn.useEffect)((function(){kn(e,Nn)}),[e]),{reactions:e,resetReactions:function(){n(_n())},addReaction:function(){var e={id:Oe.a.generate(8),name:"",reactants:[],products:[],kineticModel:Ie,kineticConstants:{"k_\\inf":"1000000",E_A:"30000"},kineticEquation:[{type:ye,value:"<k_\\inf>"},{type:we,value:"*"},{type:ye,value:"e"},{type:we,value:"^"},{type:Ce,value:"("},{type:Ce,value:"("},{type:we,value:"-"},{type:ye,value:"<E_A>"},{type:Se,value:")"},{type:we,value:"/"},{type:Ce,value:"("},{type:ye,value:"<R>"},{type:we,value:"*"},{type:ke,value:"{T}"},{type:Se,value:")"},{type:Se,value:")"}]};n(Dn(e))},updateReaction:function(e,t){n(Bn({id:e,reaction:t}))},removeCompoundFromReactions:function(e){n(Jn({id:e}))},removeReaction:function(e){n(An({id:e}))}}},Ne=["blue1","pink3","yellow","skyBlue2","red2","green1","skyBlue1","orange","violet1","pink1","lime","waterGreen2","red1","blue2","green2","pink2","waterGreen1","violet2"],Ue={orange:"hsl(30, 80%, 65%)",yellow:"hsl(50, 80%, 65%)",lime:"hsl(70, 80%, 65%)",green1:"hsl(90, 80%, 65%)",green2:"hsl(110, 80%, 65%)",waterGreen1:"hsl(130, 80%, 65%)",waterGreen2:"hsl(150, 80%, 65%)",skyBlue1:"hsl(170, 80%, 65%)",skyBlue2:"hsl(190, 80%, 65%)",blue1:"hsl(210, 80%, 65%)",blue2:"hsl(230, 80%, 65%)",violet1:"hsl(250, 80%, 65%)",violet2:"hsl(270, 80%, 65%)",pink1:"hsl(290, 80%, 65%)",pink2:"hsl(310, 80%, 65%)",pink3:"hsl(330, 80%, 65%)",red1:"hsl(350, 80%, 65%)",red2:"hsl(10, 80%, 65%)"},Me=function(){var n=je(),e=ge((function(n){return n.compounds})),t=Fe(),r=t.resetReactions,o=t.removeCompoundFromReactions;Object(mn.useEffect)((function(){kn(e,wn)}),[e]);var i=function(){var n=Ne,t={};n.forEach((function(n){return t[n]=!1})),e.forEach((function(n){return t[n.color]=!0}));for(var r,o=0;o<n.length&&!r;)t[n[o]]||(r=n[o]),o++;return r||"blue1"};return{compounds:e,addCompound:function(){var e={id:Oe.a.generate(8),color:i(),concentration:0,molecularWeight:0,symbol:"A",name:""};n(En(e))},findCompound:function(n){return e.find((function(e){return e.id===n}))},updateCompound:function(e,t){n(In({id:e,compound:t}))},removeCompound:function(e){o(e),n(zn({id:e}))},removeAllCompounds:function(){r(),n(Rn())}}},Ve=function(){var n=je();return{simulationResults:ge((function(n){return n.simulationResults})),saveSimulationResults:function(e){n(ne(e))}}},_e=["K","R","\xb0C","\xb0F"],De=["ms","s","min","h"],Be=["mg","g","kg","lb"],Ae=["mol","kmol","lbmol"],Je=["L","m3","cm3"],We=["cal","kcal","J","kJ"],qe=function(n){return De[n]},Ye=function(n){return Je[n]},Ke=function(n){return Be[n]},Pe=function(n){return Ae[n]},Le=function(n){return _e[n]},He=function(n){return We[n]},Ge=function(n){return n.map((function(n,e){return{value:e,displayText:n,collapsedDisplayText:n}}))},Xe=Ge(De),Qe=Ge(Be),Ze=Ge(Ae),$e=Ge(Je),nt=Ge(_e),et=Ge(We),tt={energy:{J:1,kJ:.001,cal:.239006,kcal:239006e-9},mass:{kg:1,g:.001,mg:1e-6,lb:2.20462},molar:{mol:1,kmol:.001,lbmol:.00220462},time:{s:1,min:1/60,h:1/3600,ms:1e3},temperature:{K:1,R:1.8,"\xb0C":1,"\xb0F":1.8},volume:{L:1,m3:.001,cm3:1e3}},rt=function(){var n=ve().settings,e=n.energyUnits,t=(n.massUnits,n.molarUnits),r=n.temperatureUnits,o=(n.timeUnits,n.volumeUnits,{R:function(){return 8.314*function(){var n=He(e);return tt.energy[n]}()/function(){var n=Le(r);return tt.temperature[n]}()/function(){var n=Pe(t);return tt.molar[n]}()},e:function(){return 2.7182818}});return function(n){return o[n].call(null)}},ot={"^":"right","*":"left","/":"left","+":"left","-":"left"},it={"^":4,"*":3,"/":3,"+":2,"-":2},at=function(n){return it[n.value]||1},ct=function(n){return ot[n.value]||"left"},lt=function(n){for(var e=0,t=!1;e<n.length;)n[e].type===Ce?t=!0:(!t||"+"!==n[e].value&&"-"!==n[e].value||(n[e].type=ye,"+"===n[e].value?n[e].value=1:n[e].value=-1,n=[].concat(Object(On.a)(n.slice(0,e+1)),[{type:we,value:"*"}],Object(On.a)(n.slice(e+1,n.length)))),t=!1),e++;return n},st=function(n,e){var t=ut(n),r=0;return n.reactants.forEach((function(n){n.compoundId===e&&(r=-t/n.stoichiometricCoefficient)})),0!==r||n.products.forEach((function(n){n.compoundId===e&&(r=t/n.stoichiometricCoefficient)})),r},ut=function(n){return n.reactants.find((function(e){return e.compoundId===n.keyCompound})).stoichiometricCoefficient},dt=function(){var n=rt(),e=Me().compounds,t=Fe().reactions,r=ve().settings,o=Ve().saveSimulationResults,i=function(){var n=[];return t.forEach((function(t,r){var o={};o.kineticEquation=a(t),o.kineticEquation=function(n){var e=lt(n),t=[],r=[],o=function(n){return n.slice(-1)[0]};return e.forEach((function(n){if(n.type===ye||n.type===ke)t.push(n);else if(n.type===we){for(;o(r)&&o(r).type===we&&("left"===ct(n)&&at(n)<=at(o(r))||"right"===ct(n)&&at(n)<at(o(r)));)t.push(r.pop());r.push(n)}else if(n.type===Ce)r.push(n);else if(n.type===Se){for(;o(r)&&o(r).type!==Ce;)t.push(r.pop());r.pop()}})),t.concat(r.reverse())}(o.kineticEquation),o.compounds=c(t,e),n.push(o)})),n},a=function(e){var t=JSON.parse(JSON.stringify(e.kineticEquation));return t.forEach((function(r,o){if(r.type===ye){var i=r.value.replace(/<|>/g,"");e.kineticConstants[i]?r.value=parseFloat(e.kineticConstants[i]):r.value=n(i)}else r.type===ke&&(r.value=r.value.replace(/{|}/g,""));t[o]=r})),t},c=function(n,e){var t=[];return n.reactants.forEach((function(r){var o,i=Object.assign({},{compoundId:r.compoundId,symbol:"[".concat(null===(o=e.find((function(n){return n.id===r.compoundId})))||void 0===o?void 0:o.symbol,"]"),coefficient:st(n,r.compoundId)});t.push(i)})),n.products.forEach((function(r){var o,i=Object.assign({},{compoundId:r.compoundId,symbol:"[".concat(null===(o=e.find((function(n){return n.id===r.compoundId})))||void 0===o?void 0:o.symbol,"]"),coefficient:st(n,r.compoundId)});t.push(i)})),t};return{simulate:function(){var n=i(),t={t:0,T:r.initialTemperature};e.forEach((function(n){return t["[".concat(n.symbol,"]")]=n.concentration}));var a=pt(t,n,r);o(a)}}},pt=function(n,e,t){for(var r=[n],o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,o={next:function(){var o;return r[r.length-1].t<n?(o={done:!1},bt(e,t,r),o):{done:!0}}};return o}(t.reactionTime,t.timeStep),i=o.next();!i.done;)i=o.next();return r},bt=function(n,e,t){var r=JSON.parse(JSON.stringify(t[t.length-1])),o={t:0,T:r.T},i=n.map((function(n){return ft(n,r)}));Object.entries(r).forEach((function(t){var a=Object(le.a)(t,2),c=a[0],l=a[1];if("t"!==c){var s=mt(n,i,c);o[c]=ht(r[c]+s*e)}else o.t=l+e})),t.push(o)},mt=function(n,e,t){var r=0;return n.forEach((function(n,o){var i,a=null===(i=n.compounds)||void 0===i?void 0:i.find((function(n){return n.symbol===t}));a&&(r+=e[o]*a.coefficient)})),r},ft=function(n,e){var t,r=[];return null===(t=n.kineticEquation)||void 0===t||t.forEach((function(n){if(n.type===ye)r.push(n.value);else if(n.type===ke)r.push(e[n.value]);else{var t=r.pop(),o=r.pop();switch(n.value){case"+":r.push(o+t);break;case"-":r.push(o-t);break;case"*":r.push(o*t);break;case"/":r.push(o/t);break;case"^":r.push(Math.pow(o,t))}}})),r[0]},ht=function(n){return n<0?0:n},jt=t(1),gt=function(){var n=dt().simulate,e=Ve().simulationResults,t=Object(se.g)(),r=Object(mn.useState)(!1),o=Object(le.a)(r,2),i=o[0],a=o[1],c=function(n){t.push(n),a(!1)},l={size:25};return Object(jt.jsx)(yt,{expanded:i,children:Object(jt.jsxs)("nav",{children:[Object(jt.jsx)("button",{onClick:function(n){n.preventDefault(),a(!i)},id:"hamburger",children:Object(jt.jsx)(xt,{children:Object(jt.jsx)(Ot,{children:Object(jt.jsx)(me.e,Object(Yn.a)({},l))})})}),Object(jt.jsx)(vt,{onClick:function(){return c("/compounds")},title:"Compounds",icon:Object(jt.jsx)(fe.a,Object(Yn.a)({},l))}),Object(jt.jsx)(vt,{onClick:function(){return c("/reactions")},title:"Reactions",icon:Object(jt.jsx)(he.a,Object(Yn.a)({},l))}),Object(jt.jsx)(vt,{onClick:function(){return c("/settings")},title:"Settings",icon:Object(jt.jsx)(me.h,Object(Yn.a)({},l))}),e&&Object(jt.jsx)(vt,{onClick:function(){return c("/results")},title:"Results",icon:Object(jt.jsx)(fe.b,Object(Yn.a)({},l))}),Object(jt.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),n(),t.push("/results")},children:Object(jt.jsxs)(xt,{children:[Object(jt.jsx)(Ot,{children:Object(jt.jsx)(me.f,Object(Yn.a)({},l))}),Object(jt.jsx)("p",{children:"Simulate"})]})})]})})},vt=function(n){var e=n.icon,t=n.onClick,r=n.title;return Object(jt.jsx)(de,{onClick:t,children:Object(jt.jsxs)(xt,{children:[Object(jt.jsx)(Ot,{children:e}),Object(jt.jsx)("p",{children:r})]})})},xt=ie.b.div(i||(i=Object(oe.a)(["\n  padding: 0.7rem 0.5rem;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n"]))),Ot=ie.b.div(a||(a=Object(oe.a)(["\n  width: 25px;\n  height: 25px;\n  margin-right: 0.5rem;\n  @media only screen and (max-width: 750px) {\n    margin-right: 0;\n  }\n"]))),yt=ie.b.div(c||(c=Object(oe.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 20;\n  height: 100vh;\n  max-width: ",";\n  @media screen and (max-width: 750px) {\n    height: 80px;\n    width: 100vw;\n    max-width: 100vw;\n    position: fixed;\n  }\n  flex-grow: 0;\n  flex-shrink: 0;\n  transition: all 0.15s linear;\n  background-color: var(--color-grey-normal);\n\n  nav {\n    margin: 1rem;\n    display: flex;\n    flex-direction: column;\n    @media screen and (max-width: 750px) {\n      flex-direction: row;\n      margin: 0 1rem;\n      align-items: center;\n      height: 100%;\n    }\n\n    a,\n    button {\n      align-items: center;\n      background-color: var(--color-grey-normal);\n      border: none;\n      border-radius: 5px;\n      color: var(--color-grey-lightest);\n      display: flex;\n      font-size: 1.2rem;\n      justify-content: space-between;\n      margin-bottom: 10px;\n      padding: 5px 10px;\n      text-decoration: none;\n\n      &:hover {\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n\n      p {\n        margin: 0;\n      }\n\n      @media screen and (max-width: 750px) {\n        margin-bottom: 0;\n\n        p {\n          display: none;\n        }\n      }\n    }\n  }\n\n  @media screen and (max-width: 750px) {\n    #hamburger {\n      display: none;\n    }\n  }\n"])),(function(n){return n.expanded?"270px":"90px"})),kt=750,wt=function(n){var e=n.children;return Object(jt.jsxs)(Ct,{children:[Object(jt.jsx)(gt,{}),Object(jt.jsx)(St,{id:"scroll-target",children:Object(jt.jsx)(Tt,{children:e})})]})},Ct=ie.b.div(l||(l=Object(oe.a)(["\n  height: 100vh;\n"]))),St=ie.b.div(s||(s=Object(oe.a)(["\n  background: var(--color-grey-light);\n  flex-grow: 1;\n  height: 100vh;\n  margin-left: 90px;\n  @media screen and (max-width: ","px) {\n    margin-left: 0;\n    padding-top: 80px;\n    height: calc(100vh - 80px);\n  }\n  position: relative;\n  overflow-y: auto;\n  overflow-x: hidden;\n"])),kt),Tt=ie.b.div(u||(u=Object(oe.a)(["\n  margin: 20px;\n  min-height: calc(100% - 40px);\n"]))),Et=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{serialize:JSON.stringify,deserialize:JSON.parse},r=t.serialize,o=t.deserialize,i=Object(mn.useState)((function(){var t=window.localStorage.getItem(n);return t?o(t):"function"===typeof e?e():e})),a=Object(le.a)(i,2),c=a[0],l=a[1],s=Object(mn.useRef)(n);return Object(mn.useEffect)((function(){var e=s.current;e!==n&&(window.localStorage.removeItem(e),s.current=n),window.localStorage.setItem(n,r(c))}),[n,r,c]),[c,l]},It="1.0.0",zt=function(){var n=Et("currentVersion"),e=Object(le.a)(n,2),t=e[0],r=e[1],o=Me().removeAllCompounds,i=ve().resetSettings;Object(mn.useEffect)((function(){t!==It&&(r(It),o(),i())}),[])},Rt=ie.b.h2(d||(d=Object(oe.a)(["\n  color: var(--color-grey-lightest);\n  font-size: 20px;\n  margin-top: 0;\n  display: inline-block;\n"]))),Ft=Rt,Nt=ie.b.button(p||(p=Object(oe.a)(["\n  align-items: center;\n  align-self: stretch;\n  background-color: unset;\n  border: none;\n  border-radius: 5px;\n  color: var(--color-grey-normal);\n  cursor: pointer;\n  display: flex;\n  font-size: 1.5em;\n  margin-left: 0.2rem;\n  padding: 0.5rem;\n  transition: all 0.15s ease-in-out;\n  z-index: 2;\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.3);\n    color: var(--color-grey-dark);\n  }\n"]))),Ut=Nt,Mt=function(n){var e=n.compound,t=n.editCompound,r=n.removeCompound;return Object(jt.jsx)(Vt,{children:Object(jt.jsxs)(_t,{children:[Object(jt.jsx)(Dt,{color:e.color,children:e.symbol}),Object(jt.jsx)(Ut,{onClick:t,children:Object(jt.jsx)(me.c,{})}),Object(jt.jsx)(Ut,{onClick:r,children:Object(jt.jsx)(me.i,{})})]})})},Vt=ie.b.li(b||(b=Object(oe.a)([""]))),_t=ie.b.div(m||(m=Object(oe.a)(["\n  margin: 5px;\n  padding: 20px;\n  position: relative;\n\n  align-items: center;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  border: 1.5px solid var(--color-grey-lightest);\n  display: flex;\n  color: var(--color-grey-lightest);\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  button {\n    padding: 0.8rem;\n  }\n"]))),Dt=ie.b.div(f||(f=Object(oe.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 1px solid var(--color-grey-normal);\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  font-size: 1.6rem;\n  padding: 0.5rem 0.9rem;\n  margin-right: 1rem;\n"])),(function(n){return Ue[n.color]})),Bt=t(61),At=function(n){var e=n.children,t=n.closing,r=n.setClosing,o=n.handleClose,i=function(){r(!0),setTimeout((function(){o()}),250)};return Object(mn.useEffect)((function(){t&&i()}),[t]),Object(jt.jsx)(Jt,{closing:t,children:Object(jt.jsxs)(Wt,{closing:t,children:[Object(jt.jsx)(qt,{onClick:i,closing:t,children:Object(jt.jsx)(me.j,{})}),e]})})},Jt=ie.b.div(h||(h=Object(oe.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  min-height: 100%;\n  background-color: rgba(0, 0, 0, 0.15);\n\n  animation-name: dim-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  /* Override animation upon modal close */\n  ","\n\n  @keyframes dim-in {\n    from {\n      background-color: rgba(0, 0, 0, 0);\n    }\n\n    to {\n      background-color: rgba(0, 0, 0, 0.15);\n    }\n  }\n\n  @keyframes dim-out {\n    from {\n      background-color: rgba(0, 0, 0, 0.15);\n    }\n\n    to {\n      background-color: rgba(0, 0, 0, 0);\n    }\n  }\n"])),(function(n){return n.closing?"\n    animation-name: dim-out;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n  ":""})),Wt=ie.b.div(j||(j=Object(oe.a)(["\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border: 1px solid var(--color-grey-lightest);\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  border-radius: 5px;\n  flex-grow: 1;\n  margin: 10px;\n  padding: 2rem;\n  padding-top: 3.5rem;\n  position: relative;\n  max-width: 700px;\n  max-height: 600px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 3;\n\n  /* Override animation upon modal close */\n  ","\n\n  label {\n    color: var(--color-grey-darker);\n  }\n"])),(function(n){return n.closing?"\n    animation-name: slide-out;\n    animation-timing-function: ease-in-out;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n    animation-fill-mode: forwards;\n  ":""})),qt=ie.b.button(g||(g=Object(oe.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n\n  align-items: center;\n  background-color: unset;\n  border: none;\n  border-radius: 5px;\n  display: flex;\n  ","\n  font-size: 1.3rem;\n  padding: 0.5rem;\n  margin-bottom: 1rem;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"])),(function(n){return n.closing?"disabled: true;":""})),Yt=ie.b.div(v||(v=Object(oe.a)(["\n  position: absolute;\n  ","\n\n  background-color: var(--color-triadic-red-darker);\n  border-radius: 5px;\n  box-shadow: 0px 0px 4px var(--color-triadic-red-darker);\n  color: white;\n  padding: 0.2rem 0.5rem;\n  pointer-events: none;\n  opacity: 0;\n  transform: translateY(105%);\n  z-index: 4;\n"])),(function(n){return n.big?"\n    bottom: 0.9rem;\n    right: 1rem;\n  ":"\n    bottom: 0.4rem;\n    right: 0.5rem;\n  "})),Kt=function(n){var e=n.big,t=n.children;return Object(jt.jsx)(Yt,{big:e,className:"error",children:t})},Pt=ie.b.input(x||(x=Object(oe.a)(['\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-normal);\n  border-radius: 5px;\n  flex-grow: 1;\n  font-family: "Mulish", sans-serif;\n  min-width: 0;\n  width: 0;\n  outline: none;\n  padding: 0.5rem 1rem;\n  color: var(--color-grey-dark);\n\n  &:autofill {\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  &:focus {\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  }\n\n  /**\n   * Remove arrows from number inputs\n   */\n\n  /* Chrome, Safari, Edge, Opera */\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  /* Firefox */\n  &[type="number"] {\n    -moz-appearance: textfield;\n  }\n\n  /** Overrides */\n  ',"\n  ","\n"])),(function(n){return n.transparent?"\n      background-color: rgba(255,255,255,0.2);\n      border-color: hsla(213, 20%, 15%, 0.5);\n      color: var(--color-grey-darker);\n\n      &:focus {\n        border-color: var(--color-grey-darker);\n        background-color: rgba(255,255,255,0.5);\n      }\n      ":""}),(function(n){return n.errors?"\n        border-color: var(--color-triadic-red-darker) !important\n      ":""})),Lt=function(n){var e=n.text;return Object(jt.jsxs)(Ht,{children:[Object(jt.jsx)(me.d,{color:"hsl(213, 20%, 95%)",size:16}),Object(jt.jsx)(Xt,{children:Object(jt.jsx)(Gt,{children:e})})]})},Ht=ie.b.div(O||(O=Object(oe.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background-color: var(--color-grey-normal);\n  margin-left: 0.5rem;\n  color: var(--color-white);\n  cursor: pointer;\n  position: relative;\n  &:hover > div > div {\n    opacity: 1;\n  }\n"]))),Gt=ie.b.div(y||(y=Object(oe.a)(['\n  position: relative;\n  opacity: 0;\n  transition: opacity 0.15s linear;\n  padding: 1rem;\n  background-color: var(--color-grey-normal);\n  border-radius: 5px;\n  margin-left: 1rem;\n  margin-bottom: 25px;\n  width: max-content;\n  max-width: 180px;\n  font-size: 1rem;\n  color: var(--color-grey-lightest);\n  overflow: visible;\n  filter: drop-shadow(0 1px 2px var(--color-grey-normal));\n  display: flex;\n\n  &:before {\n    position: absolute;\n    right: 50%;\n    bottom: 0;\n    transform: translateY(100%) translateX(50%);\n    content: "";\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-top: 8px solid var(--color-grey-normal);\n  }\n']))),Xt=ie.b.div(k||(k=Object(oe.a)(["\n  position: absolute;\n  display: flex;\n  right: 18px;\n  transform: translateX(50%) translateY(-50%);\n  pointer-events: none;\n"]))),Qt=ie.b.div(w||(w=Object(oe.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.5rem;\n  position: relative;\n\n  ","\n  ","\n\n  label {\n    ","\n    font-weight: 600;\n    color: ",";\n  }\n\n  input {\n    ","\n    width: 300px;\n    align-self: stretch;\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"])),(function(n){return n.color?"\n    background-color: ".concat(Ue[n.color],";\n    border-radius: 5px;\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n  "):""}),(function(n){return n.big?"\n    align-items: flex-start;\n    margin-bottom: 1.5rem;\n    padding: 1rem;\n  ":""}),(function(n){return n.big?"font-size: 1.5rem;":""}),(function(n){return n.color?"var(--color-grey-darker)":"var(--color-grey-dark)"}),(function(n){return n.big?"    \n    font-size: 3rem;\n    margin-left: 1rem;\n    width: 0;\n    ":"font-size: 1rem;"})),Zt=ie.b.div(C||(C=Object(oe.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex-basis: 50%;\n"]))),$t=function(n){var e=n.big,t=n.color,r=n.error,o=n.fieldName,i=n.label,a=n.type,c=n.tooltip,l=n.transparent,s=n.value,u=n.onBlur,d=n.onChange;return Object(jt.jsxs)(Qt,{color:t,big:e,children:[Object(jt.jsxs)(Zt,{children:[Object(jt.jsx)("label",{htmlFor:o,children:i}),c&&Object(jt.jsx)(Lt,{text:c})]}),Object(jt.jsx)(Pt,{errors:!!r,name:o,type:a||"text",autoComplete:"off",onBlur:u||function(){},onChange:d,value:s,transparent:l}),r&&Object(jt.jsx)(Kt,{big:e,children:r})]})},nr=Object(ie.b)(de)(S||(S=Object(oe.a)(["\n  align-self: stretch;\n  font-size: 1.2rem;\n  justify-content: center;\n  margin-top: 1.5rem;\n  padding: 0.5rem;\n  width: 100%;\n"]))),er=function(n,e){return n===e},tr=function(n){return""!==n&&("number"===typeof n||!!n)},rr=function(n,e,t){return"number"===typeof n&&(n>e||!(n!==e||!t))},or=function(n){var e=n.compound,t=n.closeModal,r=Me(),o=r.compounds,i=r.updateCompound,a=ve().settings,c=Object(mn.useState)(!1),l=Object(le.a)(c,2),s=l[0],u=l[1],d=o.findIndex((function(n){return n.id===e.id})),p=Pe(a.molarUnits),b=Ye(a.volumeUnits),m=Ke(a.massUnits),f=function(n,e){for(var t=0;t<o.length;t++)if(t!==d&&o[t][n]===e)return!1;return!0},h=Object(Bt.a)({initialValues:{symbol:e.symbol,concentration:e.concentration,name:e.name,molecularWeight:e.molecularWeight},validate:function(n){var e={};return tr(n.symbol)?f("symbol",n.symbol)||(e.symbol="Symbol is already used"):e.symbol="Symbol cannot be empty",tr(n.concentration)?rr(n.concentration,0,!0)||(e.concentration="Concentration cannot be lower than 0"):e.concentration="Concentration cannot be empty",tr(n.molecularWeight)?rr(n.molecularWeight,0,!0)||(e.molecularWeight="Molecular weight cannot be lower than 0"):e.molecularWeight="Molecular weight cannot be empty",e},onSubmit:function(n){var t=Object(Yn.a)(Object(Yn.a)({},e),n);i(e.id,t),window.scrollTo({top:0,behavior:"smooth"}),u(!0)}});return Object(jt.jsx)(At,{closing:s,setClosing:u,handleClose:t,children:Object(jt.jsxs)(ir,{onSubmit:h.handleSubmit,children:[Object(jt.jsx)($t,{fieldName:"symbol",label:"Symbol:",error:h.errors.symbol,onChange:function(n){h.handleChange(n)},value:h.values.symbol,color:e.color,big:!0,transparent:!0}),Object(jt.jsx)($t,{fieldName:"concentration",label:"Initial concentration [".concat(p,"/").concat(b,"]:"),error:h.errors.concentration,tooltip:"Concentration in the loaded mixture",type:"number",onChange:function(n){h.handleChange(n)},value:h.values.concentration}),Object(jt.jsx)($t,{fieldName:"molecularWeight",label:"Molecular weight [".concat(m,"/").concat(p,"]:"),error:h.errors.molecularWeight,type:"number",onChange:function(n){h.handleChange(n)},value:h.values.molecularWeight}),Object(jt.jsx)($t,{fieldName:"name",label:"Compound name (optional):",error:h.errors.name,onChange:function(n){h.handleChange(n)},value:h.values.name}),Object(jt.jsx)(nr,{color:"green",type:"submit",children:"Done"})]})})},ir=ie.b.form(T||(T=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),ar=ie.b.p(E||(E=Object(oe.a)(["\n  padding: 1rem;\n  color: var(--color-grey-dark);\n  font-style: italic;\n"]))),cr=function(n){var e=Me(),t=e.compounds,r=e.updateCompound,o=e.removeCompound,i=Object(mn.useState)(void 0),a=Object(le.a)(i,2),c=a[0],l=a[1],s=function(n){return l(n)},u=Object(mn.useMemo)((function(){return c?t.find((function(n){return n.id===c})):void 0}),[t,c]);return Object(jt.jsxs)(lr,{children:[0===t.length&&Object(jt.jsx)(ar,{children:"No compounds added yet"}),t.map((function(n,e){return Object(jt.jsx)(Mt,{compound:n,editCompound:function(){s(n.id)},updateCompound:function(n){r(n.id,n)},removeCompound:function(){o(n.id)},validateUnicity:function(n,r){for(var o=0;o<t.length;o++)if(o!==e&&t[o][n]===r)return!1;return!0}},e)})),c&&Object(jt.jsx)(or,{compound:u,closeModal:function(){return s()}})]})},lr=ie.b.ul(I||(I=Object(oe.a)(["\n  align-self: stretch;\n  display: flex;\n  flex-wrap: wrap;\n  list-style-type: none;\n  padding-left: 0;\n"]))),sr=function(){var n=Me(),e=n.addCompound,t=n.removeAllCompounds;return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(Ft,{children:"Compounds"}),Object(jt.jsxs)(de,{color:"green",onClick:e,children:["Add ",Object(jt.jsx)(me.g,{})]}),Object(jt.jsx)(de,{color:"red",buttonStyle:"\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.6rem 1rem;\n",onClick:function(){window.confirm("Are you sure you want to delete all compounds? This will also delete all reactions")&&t()},children:Object(jt.jsx)(me.i,{size:20})}),Object(jt.jsx)(cr,{})]})},ur=function(n){var e=n.children;return Object(jt.jsx)(dr,{children:Object(jt.jsx)(pr,{children:e})})},dr=ie.b.div(z||(z=Object(oe.a)(["\n  display: flex;\n  flex-basis: 50%;\n\n  @media only screen and (max-width: 940px) {\n    flex-basis: 100%;\n  }\n"]))),pr=ie.b.div(R||(R=Object(oe.a)(["\n  flex-grow: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  flex-direction: column;\n  padding: 1rem;\n  margin: 1rem;\n  margin-bottom: 0;\n\n  h2 {\n    color: var(--color-grey-normal);\n    font-size: 1.2rem;\n    margin-top: 0;\n  }\n\n  input {\n    width: auto;\n  }\n"]))),br=function(n){var e=n.formik,t=n.onBlur,r=n.onChange;return Object(jt.jsxs)(ur,{children:[Object(jt.jsx)("h2",{children:"Operating times"}),Object(jt.jsx)($t,{fieldName:"reactionTime",label:"Reaction time:",type:"number",value:e.values.reactionTime,error:e.errors.reactionTime,onBlur:t,onChange:r}),Object(jt.jsx)($t,{fieldName:"deadTime",label:"Dead time:",type:"number",tooltip:"Time needed for discharge, cleaning, etc.",value:e.values.deadTime,error:e.errors.deadTime,onBlur:t,onChange:r}),Object(jt.jsx)($t,{fieldName:"timeStep",label:"Time step:",type:"number",tooltip:"Small time interval for numerical calculation purposes",value:e.values.timeStep,error:e.errors.timeStep,onBlur:t,onChange:r})]})},mr=function(n){var e=n.alignment,t=n.defaultDisplayValue,r=n.hoverIcon,o=n.initialValue,i=n.onSelectionChange,a=n.selectOptions,c=Object(mn.useState)(!1),l=Object(le.a)(c,2),s=l[0],u=l[1],d=Object(mn.useState)((null===o||void 0===o?void 0:o.value)||void 0),p=Object(le.a)(d,2),b=p[0],m=p[1],f=Object(mn.useRef)(Oe.a.generate(8)),h=Object(mn.useRef)(null);Object(mn.useEffect)((function(){o&&m(o.value),h.current=document.getElementById(f.current)}),[]),Object(mn.useEffect)((function(){h.current=s?document.getElementById(f.current):null}),[s]);var j=Object(mn.useCallback)((function(n){var e;(null===(e=h.current)||void 0===e?void 0:e.contains(n.target))||(g(),u(!1))}),[]),g=function(){s?window.removeEventListener("click",j,!0):window.addEventListener("click",j,!0),u(!s)},v=function(n){g(),m(n),i(n)},x=a.find((function(n){return n.value===b}));return Object(jt.jsxs)(fr,{id:f.current,children:[Object(jt.jsxs)(hr,{selecting:s,onClick:g,children:[Object(jt.jsx)("p",{children:(null===x||void 0===x?void 0:x.collapsedDisplayText)||t}),Object(jt.jsx)(me.b,{size:10})]}),s&&Object(jt.jsxs)(jr,{alignment:e||"left",children:[t&&Object(jt.jsx)(gr,{onClick:function(){return v(void 0)},children:Object(jt.jsx)("p",{children:t})}),a.map((function(n){var e=n.value,t=n.displayText,o=n.hoverBackgroundColor;return Object(jt.jsxs)(gr,{onClick:function(){v(e)},hoverBackgroundColor:o,children:[Object(jt.jsx)("p",{children:t}),Object(jt.jsx)("span",{children:r})]},e)}))]})]})},fr=ie.b.div(F||(F=Object(oe.a)(["\n  position: relative;\n  flex: 1;\n"]))),hr=ie.b.div(N||(N=Object(oe.a)(["\n  align-items: center;\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-normal);\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  font-size: 1.1rem;\n  outline: none;\n  padding: 5px 10px;\n  transition: all 0.15s linear;\n  ","\n\n  & > p {\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  & > svg {\n    margin-left: 0.5rem;\n  }\n"])),(function(n){return n.selecting?"box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15),\n    0px 0px 2px var(--color-grey-normal);":""})),jr=ie.b.div(U||(U=Object(oe.a)(["\n  position: absolute;\n  top: 100%;\n\n  align-items: stretch;\n  ","\n  ","\n  background-color: var(--color-grey-lightest);\n  border: none;\n  border-radius: 5px;\n  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15),\n    0px 0px 2px var(--color-grey-normal);\n  display: flex;\n  flex-direction: column;\n  font-size: 1.2rem;\n  margin-top: 0.5rem;\n  max-height: 400px;\n  overflow-y: auto;\n  padding: 0.5rem;\n  transition: all 0.05s linear;\n  width: auto;\n  z-index: 20;\n"])),(function(n){return"left"===n.alignment?"left: 0;":""}),(function(n){return"right"===n.alignment?"right: 0;":""})),gr=ie.b.button(M||(M=Object(oe.a)(["\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  font-size: 1rem;\n  text-align: left;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n\n  &:hover {\n    background-color: ",";\n\n    & > span {\n      opacity: 1;\n    }\n  }\n\n  & > p {\n    white-space: nowrap;\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  & > span {\n    display: inline-flex;\n    align-items: center;\n    opacity: 0;\n    transition: opacity 0.15s linear;\n  }\n"])),(function(n){return n.hoverBackgroundColor||"var(--color-grey-lighter)"})),vr=ie.b.div(V||(V=Object(oe.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: flex-start;\n  padding: 0.5rem;\n  position: relative;\n\n  label {\n    font-weight: 600;\n    color: var(--color-grey-dark);\n    margin-right: 1rem;\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"]))),xr=ie.b.div(_||(_=Object(oe.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-basis: 50%;\n  align-items: center;\n"]))),Or=function(n){var e=n.fieldName,t=n.label,r=n.selectOptions,o=n.tooltip,i=n.selectedOption,a=n.onSelectionChange,c=r.find((function(n){return n.value===i.value}));return Object(jt.jsxs)(vr,{children:[Object(jt.jsxs)(xr,{children:[Object(jt.jsx)("label",{htmlFor:e,children:t}),o&&Object(jt.jsx)(Lt,{text:o})]}),Object(jt.jsx)(mr,{initialValue:c,selectOptions:r,onSelectionChange:a})]})},yr=function(n){var e=n.formik;return Object(jt.jsxs)(ur,{children:[Object(jt.jsx)("h2",{children:"Units"}),Object(jt.jsx)(Or,{selectedOption:Xe[e.values.timeUnits],fieldName:"timeUnits",label:"Time units:",selectOptions:Xe,onSelectionChange:function(n){e.setFieldValue("timeUnits",n,!1),e.handleSubmit()}}),Object(jt.jsx)(Or,{selectedOption:$e[e.values.volumeUnits],fieldName:"volumeUnits",label:"Volume units:",selectOptions:$e,onSelectionChange:function(n){e.setFieldValue("volumeUnits",n,!1),e.handleSubmit()}}),Object(jt.jsx)(Or,{selectedOption:Ze[e.values.molarUnits],fieldName:"molarUnits",label:"Molar units:",selectOptions:Ze,onSelectionChange:function(n){e.setFieldValue("molarUnits",n,!1),e.handleSubmit()}}),Object(jt.jsx)(Or,{selectedOption:Qe[e.values.massUnits],fieldName:"massUnits",label:"Mass units:",selectOptions:Qe,onSelectionChange:function(n){e.setFieldValue("massUnits",n,!1),e.handleSubmit()}}),Object(jt.jsx)(Or,{selectedOption:nt[e.values.temperatureUnits],fieldName:"temperatureUnits",label:"Temperature units:",selectOptions:nt,onSelectionChange:function(n){e.setFieldValue("temperatureUnits",n,!1),e.handleSubmit()}}),Object(jt.jsx)(Or,{selectedOption:et[e.values.energyUnits],fieldName:"energyUnits",label:"Energy units:",selectOptions:et,onSelectionChange:function(n){e.setFieldValue("energyUnits",n,!1),e.handleSubmit()}})]})},kr=t(149),wr=ie.b.div(D||(D=Object(oe.a)(["\n  width: 0.8rem;\n  height: 0.8rem;\n  border: 2px solid var(--color-grey-normal);\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  display: flex;\n  cursor: pointer;\n  justify-content: center;\n  align-items: center;\n  margin-right: 0.5rem;\n\n  svg {\n    fill: var(--color-grey-lightest);\n  }\n"])),(function(n){return n.toggled?"var(--color-grey-normal)":"var(--color-grey-lightest)"})),Cr=function(n){var e=n.toggled,t=n.onToggle;return Object(jt.jsx)(wr,{onClick:t,toggled:e,children:e&&Object(jt.jsx)(kr.a,{size:10})})},Sr=function(n){var e=n.fieldName,t=n.formik,r=n.label,o=n.tooltip,i=e,a=t.values[i],c=t.errors[i];return Object(jt.jsxs)(Tr,{children:[Object(jt.jsx)(Cr,{onToggle:function(){t.setFieldValue(e,!t.values[i],!1),t.handleSubmit()},toggled:!!a}),Object(jt.jsxs)(Er,{children:[Object(jt.jsx)("label",{htmlFor:e,children:r}),o&&Object(jt.jsx)(Lt,{text:o})]}),c&&Object(jt.jsx)(Kt,{children:c})]})},Tr=ie.b.div(B||(B=Object(oe.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: flex-start;\n  padding: 0.5rem;\n  position: relative;\n\n  label {\n    font-weight: 600;\n    color: var(--color-grey-dark);\n  }\n\n  &:hover > .error {\n    opacity: 1 !important;\n  }\n"]))),Er=ie.b.div(A||(A=Object(oe.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Ir=function(n){var e=n.formik,t=n.onBlur,r=n.onChange,o=ve().settings,i=Le(o.temperatureUnits);return Object(jt.jsxs)(ur,{children:[Object(jt.jsx)("h2",{children:"Heat Exchange"}),Object(jt.jsx)(Sr,{fieldName:"isothermic",label:"Isothermic system",formik:e}),Object(jt.jsx)($t,{fieldName:"initialTemperature",label:"Initial Temperature [".concat(i,"]:"),type:"number",value:e.values.initialTemperature,error:e.errors.initialTemperature,onBlur:t,onChange:r})]})},zr=function(){var n=ve(),e=n.settings,t=n.saveSettings,r=Object(Bt.a)({initialValues:Object(Yn.a)({},e),validate:function(n){var e=n.deadTime,t=n.initialTemperature,r=n.timeStep,o=n.reactionTime,i={};return tr(o)?rr(o,0,!0)||(i.reactionTime="Reaction time cannot be lower than 0"):i.reactionTime="Reaction time cannot be empty",tr(e)?rr(e,0,!0)||(i.deadTime="Dead time cannot be lower than 0"):i.deadTime="Dead time cannot be empty",tr(r)?rr(r,0,!1)||(i.timeStep="Time step has to be greater than 0"):i.timeStep="Time step cannot be empty",tr(r)?!er(t,"K")&&!er(t,"R")||rr(t,0,!1)?er(t,"\xb0C")&&!rr(t,-273.15,!1)?i.initialTemperature="Initial temperature cannot be equal or lower than -273.15":er(t,"\xb0F")&&!rr(t,-459.67,!1)&&(i.initialTemperature="Initial temperature cannot be equal or lower than -459.67"):i.initialTemperature="Initial temperature cannot be equal or lower than 0":i.initialTemperature="Initial temperature cannot be empty",i},onSubmit:function(n){t(n)}}),o=function(){r.handleSubmit()},i={formik:r,onBlur:o,onChange:function(n){return r.handleChange(n)}};return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(Ft,{children:"Operation"}),Object(jt.jsxs)(Rr,{children:[Object(jt.jsx)(br,Object(Yn.a)({},i)),Object(jt.jsx)(yr,Object(Yn.a)({},i)),Object(jt.jsx)(Ir,Object(Yn.a)({},i))]})]})},Rr=ie.b.form(J||(J=Object(oe.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 1rem;\n"]))),Fr=ie.b.p(W||(W=Object(oe.a)(["\n  color: var(--color-grey-normal);\n  font-style: italic;\n  margin: 0.5rem;\n"]))),Nr=function(n){var e=n.reaction,t=Me().findCompound;return Object(jt.jsxs)(Ur,{children:[0===e.reactants.length&&0===e.products.length&&Object(jt.jsx)(Fr,{children:"No reaction data"}),e.reactants.map((function(n,e){var r=t(n.compoundId);return Object(jt.jsxs)(mn.Fragment,{children:[0!==e&&Object(jt.jsx)(me.g,{size:25}),Object(jt.jsxs)(Mr,{children:[Object(jt.jsx)("p",{children:n.stoichiometricCoefficient}),Object(jt.jsx)(Vr,{color:r.color,children:r.symbol})]})]},n.compoundId)})),e.reactants.length>0&&e.products.length>0&&Object(jt.jsx)(me.a,{size:25}),e.products.map((function(n,e){var r=t(n.compoundId);return Object(jt.jsxs)(mn.Fragment,{children:[0!==e&&Object(jt.jsx)(me.g,{size:25}),Object(jt.jsxs)(Mr,{children:[Object(jt.jsx)("p",{children:n.stoichiometricCoefficient}),Object(jt.jsx)(Vr,{color:r.color,children:r.symbol})]})]},n.compoundId)}))]})},Ur=ie.b.div(q||(q=Object(oe.a)(["\n  align-items: center;\n  display: flex;\n  flex-grow: 1;\n  min-height: 3rem;\n"]))),Mr=ie.b.div(Y||(Y=Object(oe.a)(["\n  align-items: flex-end;\n  display: flex;\n  margin: 0 0.5rem;\n\n  p {\n    color: var(--color-grey-dark);\n    font-size: 1.6rem;\n    margin: 0 0 0.2rem 0;\n  }\n"]))),Vr=ie.b.div(K||(K=Object(oe.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 1px solid var(--color-grey-normal);\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n  color: var(--color-grey-dark);\n  font-size: 1.6rem;\n  margin: 0 0.5rem;\n  padding: 0.5rem 0.9rem;\n"])),(function(n){return Ue[n.color]})),_r=function(n){var e=n.reaction,t=n.reactionIndex,r=n.editReaction,o=n.removeReaction;return Object(jt.jsxs)(Dr,{children:[Object(jt.jsxs)(Ar,{children:[Object(jt.jsxs)(Br,{children:["#".concat(t+1)," ",e.name?" - ".concat(e.name):""]}),Object(jt.jsx)(Nr,{reaction:e})]}),Object(jt.jsx)(Ut,{onClick:r,children:Object(jt.jsx)(me.c,{})}),Object(jt.jsx)(Ut,{onClick:o,children:Object(jt.jsx)(me.i,{})})]})},Dr=ie.b.div(P||(P=Object(oe.a)(["\n  margin: 10px;\n  padding: 20px;\n  position: relative;\n\n  align-items: center;\n  align-self: stretch;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: var(--color-grey-lighter);\n  border-radius: 5px;\n  border: 1.5px solid var(--color-grey-lightest);\n  display: flex;\n  color: var(--color-grey-dark);\n  cursor: pointer;\n  overflow: hidden;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  p:not(:first-child) {\n    flex-grow: 1;\n    margin: 0;\n  }\n"]))),Br=ie.b.p(L||(L=Object(oe.a)(["\n  color: var(--color-grey-normal);\n  flex-grow: 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin: 0;\n  padding-left: 0.6rem;\n  padding-bottom: 0.5rem;\n"]))),Ar=ie.b.div(H||(H=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]))),Jr=t(89),Wr=["Simple","Hiperbolic","Autocatalytic"],qr=function(n,e,t){switch(n){case ze:return Kr(e,t);case Re:return Pr(e,t);default:return Yr(e,t)}},Yr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Lr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Yn.a)({},t)},Kr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Gr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Yn.a)({},t)},Pr=function(n,e){var t={"k_\\inf":n.kineticConstants["k_\\inf"],E_A:n.kineticConstants.E_A};return n.reactants.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Lr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),n.products.forEach((function(r){var o=e.find((function(n){return n.id===r.compoundId})),i=Hr(o),a=n.kineticConstants[i];t[i]=void 0===a?"1":a})),Object(Yn.a)({},t)},Lr=function(n){return"\\alpha_".concat(n.symbol)},Hr=function(n){return"\\beta_".concat(n.symbol)},Gr=function(n){return"K_".concat(n.symbol)},Xr=ie.b.div(G||(G=Object(oe.a)(["\n  border-top: 1px solid var(--color-grey-light);\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 2rem;\n  padding: 2rem 1rem 0rem;\n\n  h2 {\n    color: var(--color-grey-dark);\n    font-size: 20px;\n    margin-top: 0;\n  }\n"]))),Qr=Object(ie.b)(Xr)(X||(X=Object(oe.a)(["\n  flex-direction: column;\n  flex-wrap: nowrap;\n"]))),Zr=function(n){var e=n.compound,t=n.reactionCompound,r=n.updateCompound,o=n.removeCompound,i=Object(mn.useState)(t.stoichiometricCoefficient),a=Object(le.a)(i,2),c=a[0],l=a[1];return Object(jt.jsxs)($r,{color:e.color,children:[Object(jt.jsx)("h1",{children:e.symbol}),Object(jt.jsx)(Pt,{value:c,type:"number",onChange:function(n){""!==n.target.value?l(parseFloat(n.target.value)):l("")},onBlur:function(){tr(c)?r(Object(Yn.a)(Object(Yn.a)({},t),{},{stoichiometricCoefficient:c})):l(t.stoichiometricCoefficient)},transparent:!0}),Object(jt.jsx)(Ut,{onClick:o,children:Object(jt.jsx)(me.i,{})})]})},$r=ie.b.div(Q||(Q=Object(oe.a)(["\n  margin: 5px;\n  padding: 1rem 1.3rem;\n  position: relative;\n\n  align-items: center;\n  animation-name: slide-in;\n  animation-timing-function: ease-in-out;\n  animation-duration: 0.25s;\n  animation-iteration-count: 1;\n  background-color: ",";\n  border-radius: 5px;\n  color: var(--color-grey-dark);\n  display: flex;\n  cursor: pointer;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    & {\n      box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n      transform: translateY(-2px);\n    }\n  }\n\n  h1 {\n    flex-grow: 1;\n    font-size: 1.8rem;\n    margin: 0;\n  }\n\n  input {\n    font-size: 1.3rem;\n    width: 0px;\n  }\n\n  button {\n    opacity: 1;\n    margin-left: 0.5rem;\n  }\n"])),(function(n){return Ue[n.color]})),no=function(n){var e=n.reactionCompounds,t=n.removeCompound,r=n.updateCompound,o=n.compoundType,i=Me().findCompound;return Object(jt.jsx)(jt.Fragment,{children:e.map((function(n){var a=i(n.compoundId),c=e.findIndex((function(e){return e.compoundId===n.compoundId}));return Object(jt.jsx)(Zr,{compound:a,reactionCompound:n,updateCompound:function(n){r(c,o,n)},removeCompound:function(){t(c,o)}},n.compoundId)}))})},eo=function(n){var e=n.tokenizedEquation,t=[],r=[],o=[];return e.forEach((function(n){if(n.type===Ce)r.push([]);else if(n.type===Se){var e=r.pop(),i=0===r.length?t:r[r.length-1];if(o.length>0&&o[o.length-1].level===r.length){var a=o.pop();if("/"===a.code){var c=i.pop();i.push(Object(jt.jsx)(oo,{numerator:c,denominator:Object(jt.jsx)(ro,{elements:e})}))}else if("^"===a.code){var l=i.pop();i.push(Object(jt.jsx)(ao,{base:l,power:Object(jt.jsx)(ro,{elements:e})}))}else"-"!==a.code&&"+"!==a.code||(i.push(a.code),i.push(Object(jt.jsx)(ro,{elements:e})))}else i.push(Object(jt.jsx)(ro,{elements:e}))}else if(n.type===ye||n.type===ke)if(r.length>0)r[r.length-1].push(Object(jt.jsx)(to,{symbol:n.value.replace(/<|>|{|}/g,"")}));else if(o.length>0){var s=o.pop();if("/"===s.code){var u=t.pop();t.push(Object(jt.jsx)(oo,{numerator:u,denominator:Object(jt.jsx)(to,{symbol:n.value.replace(/<|>|{|}/g,"")})}))}else if("^"===s.code){var d=t.pop();t.push(Object(jt.jsx)(ao,{base:d,power:Object(jt.jsx)(to,{symbol:n.value.replace(/<|>|{|}/g,"")})}))}}else t.push(Object(jt.jsx)(to,{symbol:n.value.replace(/<|>|{|}/g,"")}));else n.type===we&&("/"===n.value||"^"===n.value?o.push({code:n.value,level:r.length}):r.length>0?"+"===n.value||"-"===n.value?r[r.length-1].push(Object(jt.jsx)(jt.Fragment,{children:n.value})):"*"===n.value&&r[r.length-1].push(Object(jt.jsx)(jt.Fragment,{children:"."})):"+"===n.value||"-"===n.value?t.push(Object(jt.jsx)(jt.Fragment,{children:n.value})):"*"===n.value&&t.push(Object(jt.jsx)(jt.Fragment,{children:"."})))})),Object(jt.jsx)(jt.Fragment,{children:t.map((function(n,e){return Object(jt.jsx)(mn.Fragment,{children:n},e)}))})},to=function(n){var e=n.symbol.split("_");e.forEach((function(n,t){switch(n){case"\\alpha":e[t]=Object(jt.jsx)(uo,{});break;case"\\beta":e[t]=Object(jt.jsx)(po,{});break;case"\\mu":e[t]=Object(jt.jsx)(bo,{});break;case"\\inf":e[t]=Object(jt.jsx)(mo,{})}}));for(var t=e.length-1;t>0;t--){var r=e.pop();e[t-1]=Object(jt.jsx)(lo,{base:e[t-1],subindex:r})}return e[0]},ro=function(n){var e=n.elements;return Object(jt.jsx)(jt.Fragment,{children:e.map((function(n,e){return Object(jt.jsx)(mn.Fragment,{children:n},e)}))})},oo=function(n){var e=n.numerator,t=n.denominator;return Object(jt.jsxs)(io,{children:[Object(jt.jsx)("div",{children:e}),Object(jt.jsx)("div",{}),Object(jt.jsx)("div",{children:t})]})},io=ie.b.div(Z||(Z=Object(oe.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  & > div:not(:nth-child(2)) {\n    display: flex;\n    padding: 0.5rem;\n    position: relative;\n  }\n\n  & > div:nth-child(2) {\n    width: 100%;\n    height: 2px;\n    background-color: var(--color-grey-dark);\n  }\n"]))),ao=function(n){var e=n.base,t=n.power;return Object(jt.jsxs)(co,{children:[Object(jt.jsx)("div",{children:e}),Object(jt.jsx)("div",{className:"exponent",children:t})]})},co=ie.b.div($||($=Object(oe.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  & > .exponent {\n    transform: translateY(-30%) scale(0.7);\n  }\n"]))),lo=function(n){var e=n.base,t=n.subindex;return Object(jt.jsxs)(so,{children:[Object(jt.jsx)("div",{children:e}),Object(jt.jsx)("div",{className:"subindex",children:t})]})},so=ie.b.div(nn||(nn=Object(oe.a)(["\n  position: relative;\n  display: flex;\n\n  & > .subindex {\n    transform: translateY(30%) scale(0.75);\n  }\n"]))),uo=function(){return Object(jt.jsx)("span",{children:"\u03b1"})},po=function(){return Object(jt.jsx)("span",{children:"\u03b2"})},bo=function(){return Object(jt.jsx)("span",{children:"\u03bc"})},mo=function(){return Object(jt.jsx)("span",{children:"\u221e"})},fo=function(n){var e=n.reaction,t=(0,Me().findCompound)(e.keyCompound),r=(null===t||void 0===t?void 0:t.symbol)||void 0;return Object(jt.jsxs)(ho,{children:[r&&Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(lo,{base:"r",subindex:r}),"\xa0=\xa0"]}),Object(jt.jsx)(eo,{tokenizedEquation:e.kineticEquation})]})},ho=ie.b.div(en||(en=Object(oe.a)(['\n  align-items: center;\n  align-self: stretch;\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-light);\n  border-radius: 5px;\n  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.1);\n  color: var(--color-grey-dark);\n  display: flex;\n  font-size: 1.8rem;\n  justify-content: center;\n  padding: 1.5rem;\n  margin: 1.5rem 0 1rem;\n\n  span {\n    font-family: "Comfortaa", symbol;\n  }\n']))),jo=/(\d+(.\d+)?([eE]{1,1}[-]?\d+(.\d+)?)?)/g,go=function(n){var e=n.paramSymbol,t=n.value,r=n.units,o=n.updateValue,i=Object(mn.useState)(t),a=Object(le.a)(i,2),c=a[0],l=a[1];return Object(jt.jsx)(vo,{children:Object(jt.jsxs)(xo,{children:[Object(jt.jsx)("h1",{children:e}),Object(jt.jsx)(Pt,{value:c,type:"text",onChange:function(n){if(""!==n.target.value){var e=n.target.value.split("").filter((function(n){return"0123456789.-+eE".indexOf(n)>-1})).join("");l(e)}else l("")},onBlur:function(){var n;if(tr(c)){var e=null===(n=c.match(jo))||void 0===n?void 0:n[0];e?(o(e),l(e)):l(c)}else l(c)},transparent:!0}),r&&Object(jt.jsx)(Lt,{text:r})]})})},vo=ie.b.div(tn||(tn=Object(oe.a)(["\n  flex-basis: 50%;\n  flex-shrink: 0;\n  position: relative;\n  z-index: 2;\n\n  @media screen and (max-width: 600px) {\n    flex-basis: 100%;\n  }\n\n  &:hover {\n    z-index: 3;\n  }\n"]))),xo=ie.b.div(rn||(rn=Object(oe.a)(['\n  position: relative;\n  align-items: center;\n  background-color: var(--color-grey-light);\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  margin: 0.5rem;\n  padding: 1rem 1.3rem;\n  transition: all 0.15s ease-in-out;\n\n  &:hover {\n    box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.15);\n    transform: translateY(-2px);\n  }\n\n  h1 {\n    color: var(--color-grey-dark);\n    font-size: 1.6rem;\n    margin: 0;\n    margin-right: 1rem;\n    flex-grow: 1;\n\n    span {\n      /* Greek symbols */\n      font-family: "Comfortaa", symbol;\n    }\n  }\n\n  input {\n    font-size: 1.4rem;\n  }\n']))),Oo=function(n){var e=n.reaction,t=n.updateKineticConstant,r=ve().settings,o=e.kineticModel,i=qe(r.timeUnits),a=Le(r.temperatureUnits),c=Ye(r.volumeUnits),l=Pe(r.molarUnits),s=He(r.energyUnits),u=[{type:ye,value:"".concat(i)},{type:we,value:"^"},{type:ye,value:"-1"}],d=[{type:ye,value:"".concat(i)},{type:we,value:"^"},{type:ye,value:"-1"}],p=Object.entries(null===e||void 0===e?void 0:e.kineticConstants).reduce((function(n,e){var t=Object(le.a)(e,2),r=t[0],o=t[1];return"k_\\inf"===r||"E_A"===r?n:n+parseFloat(o)}),0);1!==p&&(d.push({type:we,value:"*"}),d.push({type:ye,value:"".concat(c)}),d.push({type:we,value:"^"}),d.push({type:ye,value:"".concat(p-1)}),d.push({type:we,value:"*"}),d.push({type:ye,value:"".concat(l)}),d.push({type:we,value:"^"}),d.push({type:ye,value:"".concat(-(p-1))}));var b=[{type:ye,value:"".concat(s)},{type:we,value:"*"},{type:ye,value:"".concat(l)},{type:we,value:"^"},{type:ye,value:"-1"},{type:we,value:"*"},{type:ye,value:"".concat(a)},{type:we,value:"^"},{type:ye,value:"-1"}];return Object(jt.jsx)(yo,{children:Object.entries(e.kineticConstants).map((function(n){var e,r=Object(le.a)(n,2),i=r[0],a=r[1];return"k_\\inf"===i&&(e=o===ze?Object(jt.jsx)(eo,{tokenizedEquation:u}):Object(jt.jsx)(eo,{tokenizedEquation:d})),"E_A"===i&&(e=Object(jt.jsx)(eo,{tokenizedEquation:b})),Object(jt.jsx)(go,{paramSymbol:Object(jt.jsx)(to,{symbol:i}),value:a,units:e,updateValue:function(n){t(i,n)}},i)}))})},yo=ie.b.div(on||(on=Object(oe.a)(["\n  align-self: stretch;\n  background-color: var(--color-grey-lightest);\n  border-radius: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n\n  input {\n    margin-left: 0;\n  }\n"]))),ko=function(n,e){var t=function(n){return e.find((function(e){return e.id===n}))},r=[];switch(n.kineticModel){case ze:return r.push({type:ye,value:"<k_\\inf>"}),wo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;To(r,e)})),r;case Re:return r.push({type:ye,value:"<k_\\inf>"}),wo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;Co(r,e)})),n.products.forEach((function(n){var e=t(n.compoundId).symbol;So(r,e)})),r;default:return r.push({type:ye,value:"<k_\\inf>"}),wo(r),n.reactants.forEach((function(n){var e=t(n.compoundId).symbol;Co(r,e)})),r}},wo=function(n){n.push({type:we,value:"*"}),n.push({type:ye,value:"e"}),n.push({type:we,value:"^"}),n.push({type:Ce,value:"("}),n.push({type:Ce,value:"("}),n.push({type:we,value:"-"}),n.push({type:ye,value:"<E_A>"}),n.push({type:Se,value:")"}),n.push({type:we,value:"/"}),n.push({type:Ce,value:"("}),n.push({type:ye,value:"<R>"}),n.push({type:we,value:"*"}),n.push({type:ke,value:"{T}"}),n.push({type:Se,value:")"}),n.push({type:Se,value:")"})},Co=function(n,e){n.push({type:we,value:"*"}),n.push({type:ke,value:"{[".concat(e,"]}")}),n.push({type:we,value:"^"}),n.push({type:ye,value:"<\\alpha_".concat(e,">")})},So=function(n,e){n.push({type:we,value:"*"}),n.push({type:ke,value:"{[".concat(e,"]}")}),n.push({type:we,value:"^"}),n.push({type:ye,value:"<\\beta_".concat(e,">")})},To=function(n,e){n.push({type:we,value:"*"}),n.push({type:ke,value:"{[".concat(e,"]}")}),n.push({type:we,value:"/"}),n.push({type:Ce,value:"("}),n.push({type:ye,value:"<K_".concat(e,">")}),n.push({type:we,value:"+"}),n.push({type:ke,value:"{[".concat(e,"]}")}),n.push({type:Se,value:")"})},Eo=function(n){var e=n.compounds,t=n.reaction,r=n.closeModal,o=Me().findCompound,i=Fe(),a=i.reactions,c=i.updateReaction,l=Object(mn.useState)(!1),s=Object(le.a)(l,2),u=s[0],d=s[1],p=a.findIndex((function(n){return n.id===t.id})),b=Object(mn.useState)(JSON.parse(JSON.stringify(t))),m=Object(le.a)(b,2),f=m[0],h=m[1],j=Object(mn.useRef)(document.getElementById("scroll-target")),g=Object(mn.useState)(void 0),v=Object(le.a)(g,2),x=v[0],O=v[1],y=Object(mn.useState)(void 0),k=Object(le.a)(y,2),w=k[0],C=k[1],S=Object(mn.useMemo)((function(){return e.filter((function(n){var e,t=Object(Jr.a)(f.reactants);try{for(t.s();!(e=t.n()).done;){if(e.value.compoundId===n.id)return!1}}catch(r){t.e(r)}finally{t.f()}return!0})).map((function(n){return{value:e.findIndex((function(e){return e.id===n.id})),displayText:n.symbol,collapsedDisplayText:n.symbol,hoverBackgroundColor:Ue[n.color]}}))}),[f.reactants]),T=Object(mn.useMemo)((function(){return e.filter((function(n){var e,t=Object(Jr.a)(f.products);try{for(t.s();!(e=t.n()).done;){if(e.value.compoundId===n.id)return!1}}catch(r){t.e(r)}finally{t.f()}return!0})).map((function(n){return{value:e.findIndex((function(e){return e.id===n.id})),displayText:n.symbol,collapsedDisplayText:n.symbol,hoverBackgroundColor:Ue[n.color]}}))}),[f.products]),E=function(n){return n===Te?"reactants":"products"},I=function(n,t){var r=E(t),o=JSON.parse(JSON.stringify(f));o[r].push({compoundId:n,stoichiometricCoefficient:1});var i=qr(o.kineticModel,o,e);o.kineticConstants=i,o.kineticEquation=ko(o,e),h(o)},z=function(n,e,t){var r=E(e),o=Object(Yn.a)({},f);o[r][n]=t,h(o)},R=function(n,t){var r=E(t),o=Object(Yn.a)({},f),i=o[r][n];o[r]=[].concat(Object(On.a)(o[r].slice(0,n)),Object(On.a)(o[r].slice(n+1,o[r].length))),i.compoundId===f.keyCompound&&(o.keyCompound=void 0);var a=qr(o.kineticModel,o,e);o.kineticConstants=a,o.kineticEquation=ko(o,e),h(o)},F=x?{value:x,displayText:e[x].symbol,collapsedDisplayText:e[x].symbol}:void 0,N=w?{value:w,displayText:e[w].symbol,collapsedDisplayText:e[w].symbol}:void 0;return Object(jt.jsxs)(At,{closing:u,setClosing:d,handleClose:r,children:[Object(jt.jsx)(Nr,{reaction:f}),Object(jt.jsx)("br",{}),Object(jt.jsx)(Io,{children:Object(jt.jsx)($t,{fieldName:"name",label:"Reaction name:",onChange:function(n){h(Object(Yn.a)(Object(Yn.a)({},f),{},{name:n.target.value}))},value:f.name})}),Object(jt.jsxs)(Xr,{children:[Object(jt.jsxs)(zo,{children:[Object(jt.jsx)("h2",{children:"Reactants"}),Object(jt.jsx)(Fo,{children:Object(jt.jsx)(mr,{defaultDisplayValue:"Compound...",hoverIcon:Object(jt.jsx)(me.g,{}),initialValue:F,selectOptions:S,onSelectionChange:function(n){void 0!==n&&I(e[n].id,Te),O(void 0)}})}),Object(jt.jsx)(Ro,{children:0!==f.reactants.length?Object(jt.jsx)(no,{reactionIndex:p,reactionCompounds:f.reactants,removeCompound:R,updateCompound:z,compoundType:Te}):Object(jt.jsx)(Fr,{children:"No compounds..."})})]}),Object(jt.jsxs)(zo,{children:[Object(jt.jsx)("h2",{children:"Products"}),Object(jt.jsx)(Fo,{children:Object(jt.jsx)(mr,{defaultDisplayValue:"Compound...",hoverIcon:Object(jt.jsx)(me.g,{}),initialValue:N,selectOptions:T,onSelectionChange:function(n){void 0!==n&&I(e[n].id,Ee),C(void 0)}})}),Object(jt.jsx)(Ro,{children:0!==f.products.length?Object(jt.jsx)(no,{reactionIndex:p,reactionCompounds:f.products,removeCompound:R,updateCompound:z,compoundType:Ee}):Object(jt.jsx)(Fr,{children:"No compounds..."})})]})]}),Object(jt.jsxs)(Qr,{children:[Object(jt.jsx)("h2",{children:"Kinetics"}),Object(jt.jsxs)(Io,{children:[Object(jt.jsx)("p",{children:"Kinetic model"}),Object(jt.jsx)(mr,{initialValue:{value:f.kineticModel,displayText:Wr[f.kineticModel],collapsedDisplayText:Wr[f.kineticModel]},selectOptions:Wr.map((function(n,e){return{value:e,displayText:n,collapsedDisplayText:n}})),onSelectionChange:function(n){var t=JSON.parse(JSON.stringify(f));t.kineticConstants=qr(n,f,e),t.kineticModel=n,t.kineticEquation=ko(t,e),h(t)}})]}),Object(jt.jsxs)(Io,{children:[Object(jt.jsx)("p",{children:"Key compound"}),Object(jt.jsx)(mr,{defaultDisplayValue:"Reactant...",initialValue:void 0!==f.keyCompound?{value:f.keyCompound,displayText:o(f.keyCompound).symbol,collapsedDisplayText:o(f.keyCompound).symbol}:void 0,selectOptions:f.reactants.map((function(n){return{value:n.compoundId,displayText:o(n.compoundId).symbol,collapsedDisplayText:o(n.compoundId).symbol}})),onSelectionChange:function(n){var e=JSON.parse(JSON.stringify(f));e.keyCompound=n,h(e)}})]}),Object(jt.jsx)(fo,{reaction:f}),Object(jt.jsx)(Oo,{reaction:f,compounds:e,updateKineticConstant:function(n,e){var t=JSON.parse(JSON.stringify(f));t.kineticConstants[n]=e,h(t)}})]}),Object(jt.jsx)(nr,{color:"green",onClick:function(){var n;c(t.id,f),null===j||void 0===j||null===(n=j.current)||void 0===n||n.scrollTo({top:0,behavior:"smooth"}),d(!0)},children:"Done"})]})},Io=ie.b.div(an||(an=Object(oe.a)(["\n  display: flex;\n  align-items: center;\n  width: 50%;\n\n  p {\n    color: var(--color-grey-dark);\n    flex-grow: 1;\n    font-size: 1rem;\n    margin-right: 1.4rem;\n    flex-basis: 50%;\n  }\n\n  div {\n    flex-basis: 45%;\n  }\n\n  @media screen and (max-width: 750px) {\n    width: 100%;\n  }\n"]))),zo=ie.b.div(cn||(cn=Object(oe.a)(["\n  flex-basis: 50%;\n\n  @media (max-width: 700px) {\n    flex-basis: 100%;\n  }\n"]))),Ro=ie.b.div(ln||(ln=Object(oe.a)(["\n  background-color: var(--color-grey-lightest);\n  border: 1px solid var(--color-grey-light);\n  border-radius: 5px;\n  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.1);\n  margin: 0.5rem 0.3rem;\n  padding: 0.5rem;\n"]))),Fo=ie.b.div(sn||(sn=Object(oe.a)(["\n  display: flex;\n  margin: 0.3rem;\n\n  & > button {\n    margin-left: 0.5rem;\n  }\n"]))),No=function(){var n=Me().compounds,e=Fe(),t=e.reactions,r=e.removeReaction,o=Object(mn.useState)(void 0),i=Object(le.a)(o,2),a=i[0],c=i[1],l=function(n){return c(n)},s=Object(mn.useMemo)((function(){return a?t.find((function(n){return n.id===a})):void 0}),[t,a]);return Object(jt.jsxs)(jt.Fragment,{children:[0===t.length&&Object(jt.jsx)(ar,{children:"No reactions added yet"}),t.map((function(n,e){return Object(jt.jsx)(_r,{reaction:n,reactionIndex:e,editReaction:function(){l(n.id)},removeReaction:function(){r(n.id)},children:"Reaction"},e)})),a&&Object(jt.jsx)(Eo,{compounds:n,reaction:s,closeModal:function(){return l()}})]})},Uo=function(){var n=Fe(),e=n.addReaction,t=n.resetReactions;return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(Ft,{children:"Reactions"}),Object(jt.jsxs)(de,{color:"green",onClick:e,children:["Add ",Object(jt.jsx)(me.g,{})]}),Object(jt.jsx)(de,{color:"red",buttonStyle:"\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  padding: 0.6rem 1rem;\n",onClick:function(){window.confirm("Are you sure you want to delete all reactions?")&&t()},children:Object(jt.jsx)(me.i,{size:20})}),Object(jt.jsx)(No,{})]})},Mo=30,Vo=function(n){var e=n.canvas,t=n.data,r=n.colors,o=e.getContext("2d");if(o){o.clearRect(0,0,o.canvas.width,o.canvas.height),o.lineWidth=1;var i=Ao({height:o.canvas.height,data:t});_o({context:o,ticks:i}),Do({context:o,ticks:i}),Bo({context:o,data:t,colors:r,yAxisTicks:i})}},_o=function(n){for(var e=n.context,t=n.ticks,r=e.canvas.width,o=e.canvas.height,i=o-60,a=t.totalTicks,c=t.tickDistance,l=1;l<=a;l++){var s=o-Mo-i*l/a;e.beginPath(),e.strokeStyle="hsl(213, 20%, 20%)",e.moveTo(40,s),e.lineTo(60,s),e.stroke(),e.beginPath(),e.strokeStyle="hsl(213, 20%, 70%)",e.moveTo(60,s),e.lineTo(r-Mo,s),e.stroke(),e.font="16px Mulish",e.fillStyle="hsl(213, 20%, 20%)",e.textAlign="right",e.fillText(qo(l*c),55,s+18)}e.strokeStyle="hsl(213, 20%, 20%)",e.beginPath(),e.moveTo(60,Mo),e.lineTo(60,o-Mo),e.stroke()},Do=function(n){var e=n.context,t=(n.ticks,e.canvas.height),r=e.canvas.width;e.strokeStyle="hsl(213, 20%, 30%)",e.beginPath(),e.moveTo(60,t-Mo),e.lineTo(r-Mo,t-Mo),e.stroke()},Bo=function(n){for(var e,t=n.colors,r=n.context,o=n.data,i=n.yAxisTicks,a=0!==o.length?null===(e=o[0][o[0].length-1])||void 0===e?void 0:e.x:10,c=i.tickDistance*i.totalTicks,l=r.canvas.width-90,s=r.canvas.height-60,u=0;u<o.length;u++){r.beginPath();for(var d=new Path2D,p=o[u],b=t[u],m=1;m<p.length;m++)d.moveTo(60+l*p[m-1].x/a,Mo+s*(1-p[m-1].y/c)),d.lineTo(60+l*p[m].x/a,Mo+s*(1-p[m].y/c));r.lineWidth=2,r.strokeStyle=b,r.stroke(d)}},Ao=function(n){var e=n.data,t=n.height,r=Math.floor((t-Mo)/50)||10,o=Jo(e)||10,i=Wo(o,r);return{tickDistance:i,totalTicks:Math.ceil(o/i)}},Jo=function(n){var e=[];return 0===n.length?10:(n.forEach((function(n){e.push(Math.max.apply(Math,Object(On.a)(n.map((function(n){return n.y})))))})),Math.max.apply(Math,e))},Wo=function(n,e){var t=Yo(n);return n/Math.pow(10,t)<3?Math.pow(10,t-1):Math.pow(10,t)},qo=function(n){if(n>=100||n<.1){var e=n.toString();return"".concat(e[0],".").concat(e[1],"e").concat(Yo(n))}return n<100&&n>=10?n.toFixed(0):n<10&&n>=1?n.toFixed(1):n.toFixed(2)},Yo=function(n){var e=0;if(n>1){for(;n/Math.pow(10,e)>=10;)e++;return e}for(;n*Math.pow(10,e)<=.1;)e++;return 0===e?e:-1*e},Ko=function(n){var e=n.colors,t=n.data,r=Object(mn.useRef)(null),o=Object(mn.useState)((function(){return window.innerWidth<=kt?window.innerWidth-44:window.innerWidth-137})),i=Object(le.a)(o,2),a=i[0],c=i[1],l=Object(mn.useState)((function(){return window.innerWidth<=kt?window.innerHeight-182:window.innerHeight-105})),s=Object(le.a)(l,2),u=s[0],d=s[1],p=Object(mn.useCallback)((function(){var n=window.innerWidth<=kt,o=n?44:137,i=n?182:105;c(window.innerWidth-o),d(window.innerHeight-i),Vo({canvas:r.current,data:t,colors:e})}),[t]);return Object(mn.useEffect)((function(){return window.addEventListener("resize",p),Vo({canvas:r.current,data:t,colors:e}),function(){return window.removeEventListener("resize",p)}}),[p,t]),Object(jt.jsx)(Po,{ref:r,height:u,width:a})},Po=ie.b.canvas(un||(un=Object(oe.a)(["\n  border-radius: 5px;\n  background-color: var(--color-grey-lighter);\n  border: 1px solid white;\n"])));function Lo(n){var e=n.when,t=n.children,r=n.fallback;return Object(jt.jsxs)(jt.Fragment,{children:[!!e&&t,!e&&r]})}var Ho,Go,Xo,Qo,Zo,$o,ni,ei=ie.b.div(dn||(dn=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 100px;\n  right: 50px;\n  padding: 15px;\n  border-radius: 3px;\n  border: 1px solid var(--color-grey-normal);\n  background-color: var(--color-grey-lightest);\n  box-shadow: 0 2px 4px var(--color-grey-light);\n\n  @media screen and (max-width: ","px) {\n    top: 180px;\n    right: 40px;\n  }\n"])),kt),ti=ie.b.div(pn||(pn=Object(oe.a)(["\n  display: flex;\n  align-items: center;\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n\n  p {\n    margin: 0;\n  }\n"]))),ri=ie.b.div(bn||(bn=Object(oe.a)(["\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n  background-color: ",";\n  margin-right: 1rem;\n  box-shadow: 0 2px 5px -2px var(--color-grey-normal);\n"])),(function(n){return n.color})),oi=function(n){var e=n.selectedVariables,t=Me().compounds;return Object(jt.jsx)(ei,{children:t.map((function(n,t){var r=Ue[n.color];return Object(jt.jsx)(Lo,{when:e.includes(t),children:Object(jt.jsxs)(ti,{children:[Object(jt.jsx)(ri,{color:r}),Object(jt.jsx)("p",{children:n.symbol})]})})}))})},ii=function(n){var e=n.selectedVariables,t=n.setSelectedVariables,r=Me().compounds,o=function(n){return-1!==e.findIndex((function(e){return e===n}))};return Object(jt.jsx)(ai,{children:r.map((function(n,r){var i=Ue[n.color];return Object(jt.jsxs)(ci,{onClick:function(){return function(n){var r=e.findIndex((function(e){return e===n}));t(-1!==r?[].concat(Object(On.a)(e.slice(0,r)),Object(On.a)(e.slice(r+1,e.length))):[].concat(Object(On.a)(e),[n]))}(r)},toggled:o(r),color:i,children:[Object(jt.jsx)(li,{color:i,toggled:o(r)}),Object(jt.jsx)(si,{children:n.symbol}),Object(jt.jsx)(Cr,{toggled:!!e.includes(r),onToggle:function(){}})]},n.id)}))})},ai=ie.b.div(Ho||(Ho=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),ci=ie.b.button(Go||(Go=Object(oe.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 2px solid\n    ",";\n  margin-bottom: 0.5rem;\n  padding: 0.5rem;\n  display: flex;\n  align-items: center;\n\n  &:hover {\n    background-color: ",";\n    border: 2px solid\n      ",";\n  }\n"])),(function(n){return n.toggled?"var(--color-grey-lighter)":"var(--color-grey-light)"}),(function(n){return n.toggled?n.color:"var(--color-grey-light)"}),(function(n){return n.toggled?"var(--color-grey-lightest)":"var(--color-grey-lighter)"}),(function(n){return n.toggled?n.color:"var(--color-grey-lighter)"})),li=ie.b.div(Xo||(Xo=Object(oe.a)(["\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n  background-color: ",";\n  margin-right: 1rem;\n  box-shadow: ",";\n"])),(function(n){return n.color}),(function(n){return n.toggled?"":"0 2px 5px -2px var(--color-grey-normal)"})),si=ie.b.span(Qo||(Qo=Object(oe.a)(["\n  flex-grow: 1;\n  text-align: left;\n  font-size: 1rem;\n"]))),ui=function(n){var e=n.optionsVisible,t=n.toggleOptionsVisible,r=n.selectedVariables,o=n.setSelectedVariables;return Object(jt.jsxs)(di,{visible:e,children:[Object(jt.jsx)(pi,{onClick:t,children:Object(jt.jsx)(me.j,{size:20})}),Object(jt.jsx)("h3",{children:"Variables"}),Object(jt.jsx)(ii,{selectedVariables:r,setSelectedVariables:o})]})},di=ie.b.div(Zo||(Zo=Object(oe.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: calc(250px - 2rem);\n  padding: 1rem;\n  padding-top: 2rem;\n  transform: ",";\n  background-color: var(--color-grey-normal);\n  transition: all 0.15s ease-in-out;\n  box-shadow: ",";\n"])),(function(n){return n.visible?"translateX(0px)":"translateX(300px)"}),(function(n){return n.visible?"0 0 20px -5px var(--color-grey-dark)":"unset"})),pi=ie.b.div($o||($o=Object(oe.a)(["\n  position: absolute;\n  top: 0.5rem;\n  left: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem;\n  border-radius: 5px;\n  transition: background-color 0.15s ease-in-out;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"]))),bi=function(){var n=Ve().simulationResults;return{variableData:function(e){return null===n||void 0===n?void 0:n.map((function(n){return{x:n.t,y:n[e]}}))}}},mi=function(){var n=bi().variableData,e=Me().compounds,t=Object(mn.useState)([0]),r=Object(le.a)(t,2),o=r[0],i=r[1],a=Object(mn.useState)(!1),c=Object(le.a)(a,2),l=c[0],s=c[1],u=function(){return s(!l)},d=Object(mn.useMemo)((function(){var t=[],r=[];return o.forEach((function(o){var i=e[o],a=n("[".concat(i.symbol,"]"));t.push(a),r.push(Ue[i.color])})),[t,r]}),[o]),p=Object(le.a)(d,2),b=p[0],m=p[1];return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(Ft,{children:"Results"}),Object(jt.jsx)(fi,{onClick:u,color:"green",children:"Options"}),Object(jt.jsx)(Ko,{data:b,colors:m}),Object(jt.jsx)(oi,{selectedVariables:o}),Object(jt.jsx)(ui,{optionsVisible:l,toggleOptionsVisible:u,selectedVariables:o,setSelectedVariables:i})]})},fi=Object(ie.b)(de)(ni||(ni=Object(oe.a)(["\n  float: right;\n  margin-bottom: 0.5rem;\n  padding: 0.8rem;\n"]))),hi=function(){var n=Ve().simulationResults;return zt(),Object(jt.jsxs)(se.d,{children:[Object(jt.jsx)(se.b,{path:"/",exact:!0,component:sr}),Object(jt.jsx)(se.b,{path:"/compounds",component:sr}),Object(jt.jsx)(se.b,{path:"/reactions",component:Uo}),Object(jt.jsx)(se.b,{path:"/settings",component:zr}),Object(jt.jsx)(se.b,{path:"/batch-simulator",children:Object(jt.jsx)(se.a,{to:{pathname:"/"}})}),Object(jt.jsx)(se.b,{path:"/results",component:mi,children:(null===n||void 0===n?void 0:n.length)?Object(jt.jsx)(mi,{}):Object(jt.jsx)(se.a,{to:{pathname:"/"}})})]})},ji=function(){return Object(jt.jsx)(vn.a,{store:re,children:Object(jt.jsxs)(gn.a,{children:[Object(jt.jsx)(ce,{}),Object(jt.jsx)(wt,{children:Object(jt.jsx)(hi,{})})]})})},gi=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,260)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;t(n),r(n),o(n),i(n),a(n)}))};jn.a.render(Object(jt.jsx)(fn.a.StrictMode,{children:Object(jt.jsx)(ji,{})}),document.getElementById("root")),gi()}},[[259,1,2]]]);
//# sourceMappingURL=main.ae80d235.chunk.js.map